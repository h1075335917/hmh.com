<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-linux/Linux" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">Linux | 贺敏华的官方网站</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://mhuahe.github.io/mhuahe.com/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://mhuahe.github.io/mhuahe.com/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://mhuahe.github.io/mhuahe.com/docs/linux/"><meta data-rh="true" property="og:locale" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Linux | 贺敏华的官方网站"><meta data-rh="true" name="description" content="Linux基本命令"><meta data-rh="true" property="og:description" content="Linux基本命令"><link data-rh="true" rel="icon" href="/mhuahe.com/img/mhuahe.ico"><link data-rh="true" rel="canonical" href="https://mhuahe.github.io/mhuahe.com/docs/linux/"><link data-rh="true" rel="alternate" href="https://mhuahe.github.io/mhuahe.com/docs/linux/" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://mhuahe.github.io/mhuahe.com/docs/linux/" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/mhuahe.com/blog/rss.xml" title="贺敏华的官方网站 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/mhuahe.com/blog/atom.xml" title="贺敏华的官方网站 Atom Feed"><link rel="stylesheet" href="/mhuahe.com/assets/css/styles.42c89071.css">
<script src="/mhuahe.com/assets/js/runtime~main.e8685d5a.js" defer="defer"></script>
<script src="/mhuahe.com/assets/js/main.e0b2d516.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><div class="announcementBar_mb4j" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">🎉️<b>本网站正在建设中，欢迎提出宝贵意见！<a target="_blank" href="https://github.com/mhuahe/mhuahe.com">源码地址</a></b> 🥳️</div><button type="button" aria-label="关闭" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/mhuahe.com/"><b class="navbar__title text--truncate">贺敏华的官方网站</b></a><a class="navbar__item navbar__link" href="/mhuahe.com/docs/example/EXAMPLE-Video">示例</a><a class="navbar__item navbar__link" href="/mhuahe.com/docs/java/">Java</a><a class="navbar__item navbar__link" href="/mhuahe.com/docs/web/">前端</a><a class="navbar__item navbar__link" href="/mhuahe.com/docs/c/">C语言</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/mhuahe.com/docs/linux/">Linux</a><a class="navbar__item navbar__link" href="/mhuahe.com/docs/mysql/">MySQL</a><a class="navbar__item navbar__link" href="/mhuahe.com/docs/python/">Python</a><a class="navbar__item navbar__link" href="/mhuahe.com/docs/tool/">工具</a><a class="navbar__item navbar__link" href="/mhuahe.com/docs/project/">项目</a><a class="navbar__item navbar__link" href="/mhuahe.com/docs/other/OTHER-Examination">其他</a><a class="navbar__item navbar__link" href="/mhuahe.com/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/mhuahe/mhuahe.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="搜索" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/mhuahe.com/docs/linux/">Linux</a></li></ul></nav><button type="button" title="收起侧边栏" aria-label="收起侧边栏" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_z5aJ"><div class="docItemContainer_c0TR"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/mhuahe.com/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Linux</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>Linux</h1></header>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="linux基本命令">Linux基本命令<a href="#linux基本命令" class="hash-link" aria-label="Linux基本命令的直接链接" title="Linux基本命令的直接链接">​</a></h3>
<blockquote>
<p>shell是一个接收由键盘输入的命令，并将其传递给操作系统来执行的程序.</p>
<p>如果shell提示符的最后一个字符是#， 而不是一个$符号，那么终端会话将享 【超级用户特权】.</p>
<p>$  shell提示符</p>
</blockquote>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ date 	#显示当前系统的时间和日期</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ cal  	#显示当月的日历</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ exit 	#结束终端会话</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ pwd  	# 查看当前工作目录</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ cd   	# 改变目录</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ ls    	#列出目录内容</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ ls -l 	#列出目录内容(详情)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ ls -lt 	#按修改时间先后排序列出目录内容(详情)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ ls -ltr 	#按修改时间先后排序列出目录内容(详情) 取反</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-a 			#--all #列出所有文件，包括以点号开头的文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d 			#--directory #跟-l结合使用,查看当前目录的详情</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-f 			#--classify #选项会在每个所列出的名字后面加上类型指示符(/)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-h 			#--human-readable #以长格式列出，以人们可读的方式而不是字节数来显示文件大小</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-l 			#使用长格式显示结果</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-r 			#以相反的顺序显示结果</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-s 			#按文件大小对结果排序</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-t 			#按修改时间排序</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ file	#确定文件类型</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ less	#查看文件内容</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ zless	#可查看压缩文件内容</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ cp 	#复制文件和目录</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ mv 	#移动或重命名文件和目录</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ mkdir #创建目录</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ rm 	#移除文件和目录</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ ln 	#创建硬链接和符号链接</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ mkdir dir1 			#创建一个目录</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ mkdir dir1 dir2 dir3 	#创建3个目录</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ cp item1 item2 		#将item1复制到item2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ cp item1 item2 item3 	#将item1和item2复制到item3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-a 						#--archive #复制文件和目录及其属性，包括所有权和权限</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-i 						#--interactive #在覆盖一个已存在的文件前，提示用户进行确认</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-r 						#--recursive #递归地复制目录及其内容</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-u 						#--update #只复制目标目录中不存在的文件或是目标目录相应文件的更新文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v 						#--verbose #复制文件时，显示信息性消息</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ mv item1 item2 		#将item1重命名为item2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ mv item1 item2 item3 	#将item1和item2移动到item3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-i 						#--interactive #在覆盖一个已存在的文件前，提示用户进行确认</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-u 						#--update #只复制目标目录中不存在的文件或是目标目录相应文件的更新文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v						#--verbose #移动文件时，显示信息性消息</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ rm item1 			#删除item1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ rm item1 item2 	#删除item1和item2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-i 					#--interactive #在覆盖一个已存在的文件前，提示用户进行确认</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-r 					#--recursive #递归地复制目录及其内容</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-f 					#--force #忽略不存在的文件并无需提示确认</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-v 					#--verbose #删除文件时，显示信息性消息</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ ln file link 		#创建硬链接</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ ln -s item link 	#创建符号链接,item可以是文件也可以是目录</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ type ls 	#显示ls命令的类型</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ which ls 	#显示可执行程序ls的位置</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ man ls 	#显示程序的手册页</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ apropos	#显示合适的命令</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ whatis	#显示命令的简要描述</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ info		#显示程序的info条目</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ cat 	#合并文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ sort	#对文本行排序</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ uniq	#报告或删除文件中重复的行</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ wc	#打印文件中的换行符、字和字节的个数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ grep	#打印匹配行。 head：输出文件的第一部分内容。 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ tail	#输出文件的最后一部分内容。 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ tee	#读取标准输入的数据，并将其内容输出到标准输出和文件中</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ ls -l /usr/bin &gt; ls-output.txt 	#将ls -l /usr/bin展示的信息写入到ls-output.txt中</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 校验时间</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ ntpdate cn.pool.ntp.org </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 查看系统</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ cat /etc/redhat-release</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="windows命令">Windows命令<a href="#windows命令" class="hash-link" aria-label="Windows命令的直接链接" title="Windows命令的直接链接">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="快速删除文件夹和子文件夹">快速删除文件夹和子文件夹<a href="#快速删除文件夹和子文件夹" class="hash-link" aria-label="快速删除文件夹和子文件夹的直接链接" title="快速删除文件夹和子文件夹的直接链接">​</a></h4>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rmdir 文件路径 /S /Q</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">del 文件路径 /S /Q </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/* 注意：/S 表示除本身外，还将删除目录下的所有子目录和文件，/Q 表示安静模式，删除时不需要经过确认 */</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker">docker<a href="#docker" class="hash-link" aria-label="docker的直接链接" title="docker的直接链接">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="基本命令">基本命令<a href="#基本命令" class="hash-link" aria-label="基本命令的直接链接" title="基本命令的直接链接">​</a></h4>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 启动</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ systemctl start docker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 停止</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ systemctl stop docker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 重启</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ systemctl restart docker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 查看状态</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ systemctl status docker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 开机启动</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ systemctl enable docker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 查看概要信息</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ docker info</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 查看帮助文档</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ docker --help</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 查看容器内部运行的进程</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ docker top 容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 查看 Docker 的底层信息</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ docker inspect 容器</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="安装docker容器">安装docker容器<a href="#安装docker容器" class="hash-link" aria-label="安装docker容器的直接链接" title="安装docker容器的直接链接">​</a></h4>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 卸载旧版本</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ sudo yum remove docker \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  docker-client \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  docker-client-latest \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  docker-common \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  docker-latest \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  docker-latest-logrotate \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  docker-logrotate \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  docker-selinux \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  docker-engine-selinux \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  docker-engine</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 使用 yum 安装</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ sudo yum install -y yum-utils</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 使用国内源</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ sudo yum-config-manager \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --add-repo \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 安装 Docker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ sudo yum install docker-ce docker-ce-cli containerd.io</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># CentOS8 额外设置，由于 CentOS8 防火墙使用了 nftables，但 Docker 尚未支持 nftables， 我们可以使用如下设置使用 iptables：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 修改配置（FirewallBackend=iptables）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ vim /etc/firewalld/firewalld.conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 或者执行如下命令</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ firewall-cmd --permanent --zone=trusted --add-interface=docker0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ firewall-cmd --reload</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 使用脚本自动安装</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ curl -fsSL test.docker.com -o get-docker.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ curl -fsSL get.docker.com -o get-docker.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ sudo sh get-docker.sh --mirror Aliyun</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ sudo sh get-docker.sh --mirror AzureChinaCloud</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 启动 Docker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo systemctl enable docker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo systemctl start docker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 测试docker是否安装成功</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run --rm hello-world</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="安装docker-compose">安装docker-compose<a href="#安装docker-compose" class="hash-link" aria-label="安装docker-compose的直接链接" title="安装docker-compose的直接链接">​</a></h4>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># github安装</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ sudo curl -L &quot;https://github.com/docker/compose/releases/download/v2.2.2/docker-compose-$(uname -s)-$(uname -m)&quot; -o /usr/local/bin/docker-compose</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 高速安装</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ curl -L https://get.daocloud.io/docker/compose/releases/download/v2.4.1/docker-compose-`uname -s`-`uname -m` &gt; /usr/local/bin/docker-compose</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 启用权限</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ sudo chmod +x /usr/local/bin/docker-compose</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 问题</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Warning: the “docker“ command appears to already exist on this system</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 原因</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">安装的docker-compose有问题，从GitHub安装</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="镜像命令">镜像命令<a href="#镜像命令" class="hash-link" aria-label="镜像命令的直接链接" title="镜像命令的直接链接">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="基本命令-1">基本命令<a href="#基本命令-1" class="hash-link" aria-label="基本命令的直接链接" title="基本命令的直接链接">​</a></h5>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 搜索镜像 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ docker search 镜像名称</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 拉取镜像</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ docker pull 镜像名称 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 查看镜像</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ docker images</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 启动镜像（宿主机9000端口关联容器中的9000端口，并给容器起名为portainer-test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ docker run -d -p 9000:9000 --restart=always -v /var/run/docker.sock:/var/run/docker.sock --name prtainer-test portainer/portainer </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 删除镜像</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker image rm &lt;镜像1&gt; [&lt;镜像2&gt;]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 重命名复制一个镜像</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ docker tag myhello-world:latest h1075335917/myhello-world:latest</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 登录</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ docker login</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 退出</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ docker logout</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 推送镜像到仓库</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ docker push h1075335917/myhello-world:latest</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="微服务镜像命令">微服务镜像命令<a href="#微服务镜像命令" class="hash-link" aria-label="微服务镜像命令的直接链接" title="微服务镜像命令的直接链接">​</a></h5>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">配置文件：需要改镜像版本</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nacos本地配置 -- 还原成${userName:nacos}模式</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1./usr/local/install/docker_project目录下docker-composeduibi.yml查看镜像名称</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">version: &#x27;2&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">services:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  enfc-gateway:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    container_name: enfc-gateway</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    image: llyf999/enfc-gateway:v1.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">image为镜像名称</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">container_name为容器名称</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2.删除容器和镜像 , docker stop 容器名 , docker rm 容器名 , docker rmi 镜像id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3.打包镜像</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker build -f **DockerFile -t 镜像名 ./</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">**DockerFile为/usr/local/dockerBuilder目录下的对应模块的DockerFile,如thirdPartyDockerfile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">镜像名就是image</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">或者</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker-compse build 服务名</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4.生成容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker-compose -f 指定文件 up -d 容器名</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">这里指定文件为docker-composeduibi.yml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">容器名为container_name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5.上传镜像</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker push 镜像名</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">镜像名为image</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">6.保存镜像</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker save llyf999/enfc-face:v1.2c3c4 &gt; ./enfc-face-c3c4-images-0420.tar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">用户模块和人脸模块需要挂载图片路径</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">7.镜像导入导出</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">导出镜像</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker save 镜像名称:版本号 &gt; 文件名.tar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">导入镜像</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker load &lt; 文件名.tar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">镜像重命名</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo docker image tag ef7da1212d31  llyf999/enfc-face:v1.2.3c3c4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">8.进入容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker exec -it system-start /bin/bash</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="部署">部署<a href="#部署" class="hash-link" aria-label="部署的直接链接" title="部署的直接链接">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="部署redis">部署redis<a href="#部署redis" class="hash-link" aria-label="部署redis的直接链接" title="部署redis的直接链接">​</a></h4>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- docker部署</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- 拉取镜像</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull redis:latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- 运行容器</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">itd </span><span class="token comment" style="color:#999988;font-style:italic">--name redis -p 6379:6379 redis</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- 测试redis是否正常</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- 进入容器</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker </span><span class="token keyword" style="color:#00009f">exec</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">it redis </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">bin</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- 进入客户端</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">redis</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">cli</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- 执行redis命令</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- 修改最大内存</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker </span><span class="token keyword" style="color:#00009f">exec</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">it redis redis</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">cli </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">h localhost </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">p </span><span class="token number" style="color:#36acaa">6379</span><span class="token plain"> info </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> grep memory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker </span><span class="token keyword" style="color:#00009f">exec</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">it redis redis</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">cli </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">h localhost </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">p </span><span class="token number" style="color:#36acaa">6379</span><span class="token plain"> config get maxmemory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker </span><span class="token keyword" style="color:#00009f">exec</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">it redis redis</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">cli </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">h localhost </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">p </span><span class="token number" style="color:#36acaa">6379</span><span class="token plain"> config </span><span class="token keyword" style="color:#00009f">set</span><span class="token plain"> maxmemory </span><span class="token number" style="color:#36acaa">128</span><span class="token plain">m</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- 文件部署</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- 指定目录下</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkdir </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">usr</span><span class="token operator" style="color:#393A34">/</span><span class="token keyword" style="color:#00009f">local</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">redis</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- 下载</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">wget http:</span><span class="token comment" style="color:#999988;font-style:italic">//download.redis.io/releases/redis-7.0.10.tar.gz</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- 解压</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tar </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">zvxf redis</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">5.0</span><span class="token number" style="color:#36acaa">.7</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tar</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">gz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- 编译</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">make</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- 安装</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">make PREFIX</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">usr</span><span class="token operator" style="color:#393A34">/</span><span class="token keyword" style="color:#00009f">local</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">redis install</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- 修改配置文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vim redis</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">修改 daemonize yes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">修改 requirepass 密码</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">修改 bind </span><span class="token number" style="color:#36acaa">0.0</span><span class="token number" style="color:#36acaa">.0</span><span class="token number" style="color:#36acaa">.0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- 启动</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">src</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">redis</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">server </span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">redis</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">conf</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="docker部署nacos">docker部署nacos<a href="#docker部署nacos" class="hash-link" aria-label="docker部署nacos的直接链接" title="docker部署nacos的直接链接">​</a></h4>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- 下载nacos docker-compose</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git clone </span><span class="token comment" style="color:#999988;font-style:italic">--depth 1 https://github.com/nacos-group/nacos-docker.git</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd nacos</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">docker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- 修改版本并设置内存</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">version: </span><span class="token string" style="color:#e3116c">&quot;2&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">services:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  nacos:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    image: nacos</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">nacos</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">server:v2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token number" style="color:#36acaa">2.2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    container_name: nacos</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">standalone</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    environment:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> PREFER_HOST_MODE</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">hostname</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">MODE</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">standalone</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> JVM_XMS</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">128</span><span class="token plain">m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> JVM_XMX</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">128</span><span class="token plain">m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    volumes:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">standalone</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">logs</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">:</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">home</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">nacos</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">logs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ports:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;8848:8848&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;9848:9848&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- 单机启动</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">compose </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">f example</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">standalone</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">derby</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">yaml up </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">d</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="部署jdk">部署jdk<a href="#部署jdk" class="hash-link" aria-label="部署jdk的直接链接" title="部署jdk的直接链接">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="文件部署jdk">文件部署jdk<a href="#文件部署jdk" class="hash-link" aria-label="文件部署jdk的直接链接" title="文件部署jdk的直接链接">​</a></h5>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- 卸载已有的openJDK</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- 查询</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rpm </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">qa </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">grep java</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- 删除</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rpm </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">e </span><span class="token comment" style="color:#999988;font-style:italic">--nodeps xxx</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- 安装 + 配置JDK</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vim </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">etc</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">profile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export JAVA_HOME</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">home</span><span class="token operator" style="color:#393A34">/</span><span class="token keyword" style="color:#00009f">local</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">java</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">jdk1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token number" style="color:#36acaa">8.0</span><span class="token plain">_271</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export PATH</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">$JAVA_HOME</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">bin:$PATH</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export CLASSPATH</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">:$JAVA_HOME</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">lib</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">dt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">jar:$JAVA_HOME</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">lib</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">tools</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">source </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">etc</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">profile </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="docker部署jdk">docker部署jdk<a href="#docker部署jdk" class="hash-link" aria-label="docker部署jdk的直接链接" title="docker部署jdk的直接链接">​</a></h5>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- 拉镜像</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull codenvy</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">jdk8_maven3_tomcat8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- 启动</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">di </span><span class="token comment" style="color:#999988;font-style:italic">--name=jdk8 codenvy/jdk8_maven3_tomcat8</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker </span><span class="token keyword" style="color:#00009f">exec</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">it jdk8 </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">bin</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Java </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">version</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="微服务部署">微服务部署<a href="#微服务部署" class="hash-link" aria-label="微服务部署的直接链接" title="微服务部署的直接链接">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="部署auth">部署auth<a href="#部署auth" class="hash-link" aria-label="部署auth的直接链接" title="部署auth的直接链接">​</a></h5>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- authDockerfile</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 基础镜像使用java</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> codenvy</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">jdk8_maven3_tomcat8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 作者</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MAINTAINER h1075335917</span><span class="token variable" style="color:#36acaa">@gmail.com</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># VOLUME 指定了临时文件目录为/tmp。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 其效果是在主机 /var/lib/docker 目录下创建了一个临时文件，并链接到容器的/tmp</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">VOLUME </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">tmp </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">ADD</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">hmh_cloud_auth</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1.0</span><span class="token operator" style="color:#393A34">-</span><span class="token keyword" style="color:#00009f">SNAPSHOT</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">jar </span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 运行jar包</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CMD sleep </span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">java </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">Djava</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">security</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">egd</span><span class="token operator" style="color:#393A34">=</span><span class="token keyword" style="color:#00009f">file</span><span class="token plain">:</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">dev</span><span class="token operator" style="color:#393A34">/</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">urandom </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">jar hmh_cloud_auth</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1.0</span><span class="token operator" style="color:#393A34">-</span><span class="token keyword" style="color:#00009f">SNAPSHOT</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">jar</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- docker-compose.yaml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">version: </span><span class="token string" style="color:#e3116c">&#x27;2&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">services:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  hmh</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">cloud</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">auth:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    restart: always</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    container_name: hmh</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">cloud</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">auth</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    build:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      context: </span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      dockerfile: authDockerfile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    image: hmh</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">cloud</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">auth</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ports:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9992</span><span class="token plain">:</span><span class="token number" style="color:#36acaa">9992</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- 打包镜像</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker build </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">f authDockerfile </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">t hmh</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">cloud</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">auth </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- 启动容器</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">compose </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">f docker</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">compose</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">yaml up </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">d</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="部署elasticsearch">部署elasticsearch<a href="#部署elasticsearch" class="hash-link" aria-label="部署elasticsearch的直接链接" title="部署elasticsearch的直接链接">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="linux文件部署elastic">Linux文件部署elastic<a href="#linux文件部署elastic" class="hash-link" aria-label="Linux文件部署elastic的直接链接" title="Linux文件部署elastic的直接链接">​</a></h5>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- 下载文件 Linux X86_64</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https:</span><span class="token comment" style="color:#999988;font-style:italic">//www.elastic.co/cn/downloads/elasticsearch</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- 解压到相应目录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tar </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">zxvf elasticsearch</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">8.8</span><span class="token number" style="color:#36acaa">.0</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">linux</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">x86_64</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tar</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">gz </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">C </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">usr</span><span class="token operator" style="color:#393A34">/</span><span class="token keyword" style="color:#00009f">local</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- 修改配置（需要将配置文件中权限关闭）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">usr</span><span class="token operator" style="color:#393A34">/</span><span class="token keyword" style="color:#00009f">local</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">elasticsearch</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">8.8</span><span class="token number" style="color:#36acaa">.0</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">config</span><span class="token operator" style="color:#393A34">/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vim elasticsearch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">yml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- --------------配置内容开始--------------------</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name: node</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">data</span><span class="token plain">: </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">usr</span><span class="token operator" style="color:#393A34">/</span><span class="token keyword" style="color:#00009f">local</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">elasticsearch</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">8.8</span><span class="token number" style="color:#36acaa">.0</span><span class="token operator" style="color:#393A34">/</span><span class="token keyword" style="color:#00009f">data</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">logs: </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">usr</span><span class="token operator" style="color:#393A34">/</span><span class="token keyword" style="color:#00009f">local</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">elasticsearch</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">8.8</span><span class="token number" style="color:#36acaa">.0</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">logs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">network</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">host: </span><span class="token number" style="color:#36acaa">127.0</span><span class="token number" style="color:#36acaa">.0</span><span class="token number" style="color:#36acaa">.1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">http</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">host: </span><span class="token number" style="color:#36acaa">0.0</span><span class="token number" style="color:#36acaa">.0</span><span class="token number" style="color:#36acaa">.0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">http</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">port: </span><span class="token number" style="color:#36acaa">9200</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">discovery</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">seed_hosts: </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;127.0.0.1&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cluster</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">initial_master_nodes: </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;node-1&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- --------------配置内容结束--------------------</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- 创建es用户 因为ElasticSearch不支持Root用户直接操作，因此我们需要创建一个es用户</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">useradd es</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chown </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">R es:es </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">usr</span><span class="token operator" style="color:#393A34">/</span><span class="token keyword" style="color:#00009f">local</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">elk</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">elasticsearch</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">7.17</span><span class="token number" style="color:#36acaa">.0</span><span class="token operator" style="color:#393A34">/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- 修改内存</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vim jvm</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">options</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain">Xms216m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain">Xmx216m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- 切换用户成es用户进行操作</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">su </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> es</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- 后台启动</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">/</span><span class="token plain">usr</span><span class="token operator" style="color:#393A34">/</span><span class="token keyword" style="color:#00009f">local</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">elk</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">elasticsearch</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">7.17</span><span class="token number" style="color:#36acaa">.0</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">bin</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">elasticsearch </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">d</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="docker部署elastic">docker部署elastic<a href="#docker部署elastic" class="hash-link" aria-label="docker部署elastic的直接链接" title="docker部署elastic的直接链接">​</a></h5>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- 拉镜像</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull elasticsearch:</span><span class="token number" style="color:#36acaa">7.17</span><span class="token number" style="color:#36acaa">.3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull logstash:</span><span class="token number" style="color:#36acaa">7.17</span><span class="token number" style="color:#36acaa">.3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull kibana:</span><span class="token number" style="color:#36acaa">7.17</span><span class="token number" style="color:#36acaa">.3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="linux文件部署logstash">Linux文件部署logstash<a href="#linux文件部署logstash" class="hash-link" aria-label="Linux文件部署logstash的直接链接" title="Linux文件部署logstash的直接链接">​</a></h5>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- 下载文件 Linux X86_64</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https:</span><span class="token comment" style="color:#999988;font-style:italic">//www.elastic.co/cn/downloads/logstash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- 解压到相应目录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tar </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">zxvf logstash</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">8.8</span><span class="token number" style="color:#36acaa">.0</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tar</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">gz </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">C </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">usr</span><span class="token operator" style="color:#393A34">/</span><span class="token keyword" style="color:#00009f">local</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- 新增配置文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">usr</span><span class="token operator" style="color:#393A34">/</span><span class="token keyword" style="color:#00009f">local</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">logstash</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">8.8</span><span class="token number" style="color:#36acaa">.0</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">bin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vim logstash</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">elasticsearch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- -----配置内容开始------------</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">input {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	stdin {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">output {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	elasticsearch {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		hosts </span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;175.178.164.134:9200&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	stdout {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		codec </span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> rubydebug</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- -----配置内容结束------------</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- 启动</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">logstash </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">f </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">usr</span><span class="token operator" style="color:#393A34">/</span><span class="token keyword" style="color:#00009f">local</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">elk</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">logstash</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">8.8</span><span class="token number" style="color:#36acaa">.0</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">bin</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">logstash</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">elasticsearch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">conf </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">d</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="linux文件部署kibana">Linux文件部署kibana<a href="#linux文件部署kibana" class="hash-link" aria-label="Linux文件部署kibana的直接链接" title="Linux文件部署kibana的直接链接">​</a></h5>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- 下载文件 Linux X86_64</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tar </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">zxvf kibana</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">8.8</span><span class="token number" style="color:#36acaa">.0</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">linux</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">x86_64</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tar</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">gz </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">C </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">usr</span><span class="token operator" style="color:#393A34">/</span><span class="token keyword" style="color:#00009f">local</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- 修改配置</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">usr</span><span class="token operator" style="color:#393A34">/</span><span class="token keyword" style="color:#00009f">local</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">kibana</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">8.8</span><span class="token number" style="color:#36acaa">.0</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">config</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vim kibana</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">yml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- -----配置内容开始------------</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">server</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">port: </span><span class="token number" style="color:#36acaa">5601</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">server</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">host: </span><span class="token string" style="color:#e3116c">&quot;0.0.0.0&quot;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">elasticsearch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">hosts: </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;http://175.178.164.134:9200&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- 8.0后不需要该配置</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># kibana.index: &quot;.kibana&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- -----配置内容结束------------</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- 授权es用户</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chown </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">R es:es </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">usr</span><span class="token operator" style="color:#393A34">/</span><span class="token keyword" style="color:#00009f">local</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">kibana</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">8.8</span><span class="token number" style="color:#36acaa">.0</span><span class="token operator" style="color:#393A34">/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- 启动</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">su </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> es</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">/</span><span class="token plain">usr</span><span class="token operator" style="color:#393A34">/</span><span class="token keyword" style="color:#00009f">local</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">elk</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">kibana</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">7.17</span><span class="token number" style="color:#36acaa">.0</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">bin</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">kibana </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- 访问</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">http:</span><span class="token comment" style="color:#999988;font-style:italic">//175.178.164.134:5601</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="端口查杀">端口查杀<a href="#端口查杀" class="hash-link" aria-label="端口查杀的直接链接" title="端口查杀的直接链接">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="linux终止进程">Linux终止进程<a href="#linux终止进程" class="hash-link" aria-label="Linux终止进程的直接链接" title="Linux终止进程的直接链接">​</a></h4>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 查询进程</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ ps aux | grep XXXX 或 ps -ef | grep XXXX</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 杀进程</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ kill -9 XXX</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Linux端口占用（Linux 查看端口占用情况可以使用 lsof 和 netstat 命令）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># lsof（lsof(list open files)是一个列出当前系统打开文件的工具）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ lsof -i:端口号</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># lsof其它命令</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ lsof -i:8080：查看8080端口占用</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ lsof abc.txt：显示开启文件abc.txt的进程</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ lsof -c abc：显示abc进程现在打开的文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ lsof -c -p 1234：列出进程号为1234的进程所打开的文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ lsof -g gid：显示归属gid的进程情况</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ lsof +d /usr/local/：显示目录下被进程开启的文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ lsof +D /usr/local/：同上，但是会搜索目录下的目录，时间较长</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ lsof -d 4：显示使用fd为4的进程</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ lsof -i -U：显示所有打开的端口和UNIX domain文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># netstat（用于显示 tcp，udp 的端口和进程等相关情况）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ netstat -tunlp 		</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ netstat -tunlp | grep 端口号</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 其它命令</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ netstat -ntlp   				# 查看当前所有tcp端口</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ netstat -ntulp | grep 80   	# 查看所有80端口使用情况</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="windows终止进程">Windows终止进程<a href="#windows终止进程" class="hash-link" aria-label="Windows终止进程的直接链接" title="Windows终止进程的直接链接">​</a></h4>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ netstat -ano | findstr &quot;端口号&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ netstat -tunlp|grep {port}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ taskkill /pid 5588 /f</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="解压压缩">解压压缩<a href="#解压压缩" class="hash-link" aria-label="解压压缩的直接链接" title="解压压缩的直接链接">​</a></h3>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 解压tar.gz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ tar -zxvf xxx.tar.gz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 解压war包</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ unzip -oq jeecg-boot-module-system-2.0.2.war -d ./</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 压缩成zip格式</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ zip -q -r /data/xxx/Generatefile_name.zip OridinaryFile_name/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 压缩成tar.gz格式</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ tar -zcvf /data/xxx/Generatefile_name.tar.gz OridinaryFile_name</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="环境配置">环境配置<a href="#环境配置" class="hash-link" aria-label="环境配置的直接链接" title="环境配置的直接链接">​</a></h3>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="jdk配置">Jdk配置<a href="#jdk配置" class="hash-link" aria-label="Jdk配置的直接链接" title="Jdk配置的直接链接">​</a></h5>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 编辑配置环境文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vim /etc/profile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># jdk环境</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export JAVA_HOME=/usr/local/java/jdk1.8.0_301</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export JRE_HOME=${JAVA_HOME}/jre</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export CLASSPATH=.:${JAVA_HOME}/lib:${JRE_HOME}/lib:$CLASSPATH</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export JAVA_PATH=${JAVA_HOME}/bin:${JRE_HOME}/bin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export PATH=$PATH:${JAVA_PATH}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 配置生效</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">source /etc/profile</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="tomcat配置">tomcat配置<a href="#tomcat配置" class="hash-link" aria-label="tomcat配置的直接链接" title="tomcat配置的直接链接">​</a></h5>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!--  Tomcat指定项目路径(可在service.xml或context.xml中配置) --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">Context</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">path</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">/</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">docBase</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">/usr/local/jar-base/</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">reloadable</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">false</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">debug</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">0</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">Context</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- Tomcat指定运行路径 --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">Host</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">localhost</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">appBase</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">webapps</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">            </span><span class="token tag attr-name" style="color:#00a4db">unpackWARs</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">true</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">autoDeploy</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">true</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">Valve</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">className</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">org.apache.catalina.valves.AccessLogValve</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">directory</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">logs</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">           </span><span class="token tag attr-name" style="color:#00a4db">prefix</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">localhost_access_log</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">suffix</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">.txt</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">           </span><span class="token tag attr-name" style="color:#00a4db">pattern</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">%h %l %u %t </span><span class="token tag attr-value entity named-entity" style="color:#36acaa">&amp;quot;</span><span class="token tag attr-value" style="color:#e3116c">%r</span><span class="token tag attr-value entity named-entity" style="color:#36acaa">&amp;quot;</span><span class="token tag attr-value" style="color:#e3116c"> %s %b</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">Host</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="控制台乱码">控制台乱码<a href="#控制台乱码" class="hash-link" aria-label="控制台乱码的直接链接" title="控制台乱码的直接链接">​</a></h6>
<p>设置<code>logging.properties</code>，UTF-8改为GBK</p>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="tomcat部署请求中文乱码">tomcat部署，请求中文乱码<a href="#tomcat部署请求中文乱码" class="hash-link" aria-label="tomcat部署，请求中文乱码的直接链接" title="tomcat部署，请求中文乱码的直接链接">​</a></h6>
<p>在<code>conf/server.xml</code>中的<code>&lt;Connector&gt;</code>中添加两个设置</p>
<ul>
<li><code>useBodyEncodingForURI=&quot;true&quot; </code> ：设置POST和GET使用相同编码</li>
<li><code>URIEncoding=&quot;UTF-8&quot;</code> //对URI使用utf-8编码处理</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="linux信息">Linux信息<a href="#linux信息" class="hash-link" aria-label="Linux信息的直接链接" title="Linux信息的直接链接">​</a></h3>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 查gc内存</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">jmap -heap pid</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 查进程中线程数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">top -H -p 进程PID</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pstree -p 进程pid</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cat /proc/线程pid/status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pstree -p 6264 |wc -l</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># cpu数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cat /proc/cpuinfo| grep &quot;physical id&quot;| sort| uniq| wc -l</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 核心数/cpu</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">grep &#x27;core id&#x27; /proc/cpuinfo | sort -u | wc -l</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 线程数/核</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">grep &#x27;processor&#x27; /proc/cpuinfo | sort -u | wc -l</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#  ping端口</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">telnet ip port</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="查看日志">查看日志<a href="#查看日志" class="hash-link" aria-label="查看日志的直接链接" title="查看日志的直接链接">​</a></h3>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># docker启动查看Tomcat日志：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ docker logs -f tomcat </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ docker logs -f -t --since=&quot;时间&quot; --tail=10 容器名称</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--since 	# 此参数指定了输出日志开始日期，即只输出指定日期之后的日志。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-f 			# 查看实时日志</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-t			# 查看日志产生的日期</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-tail=10 	# 查看最后的10条日志。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 直接查看日志</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ tail -100f test.log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 清除文件内容 使用echo命令清空文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ echo &quot;&quot; &gt; access.log</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="开放端口">开放端口<a href="#开放端口" class="hash-link" aria-label="开放端口的直接链接" title="开放端口的直接链接">​</a></h3>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 查询已开放的端口:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ netstat -ntulp | grep 端口号</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 查询指定端口是否已开:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ firewall-cmd --query-port=666/tcp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 添加指定需要开放的端口</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ firewall-cmd --add-port=123/tcp --permanent</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 重载入添加的端口</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ firewall-cmd --reload</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 查询指定端口是否开启成功</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ firewall-cmd --query-port=123/tcp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 移除指定端口</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ firewall-cmd --permanent --remove-port=123/tcp</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker数据库操作">docker数据库操作<a href="#docker数据库操作" class="hash-link" aria-label="docker数据库操作的直接链接" title="docker数据库操作的直接链接">​</a></h3>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 进入docker的mysql容器并登录查看数据库</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ docker exec -it {image} bash   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 登录mysql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ mysql -u root -p{passwor}  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 查看所有数据库</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ show databases  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 使用数据库</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ user {dbName} </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 查看所有表</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ show table </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 可以开始写语句了</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ select * from {table} </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 退出</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ exit </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="服务启动命令">服务启动命令<a href="#服务启动命令" class="hash-link" aria-label="服务启动命令的直接链接" title="服务启动命令的直接链接">​</a></h3>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># nacos单机启动</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ startup.cmd -m standalone</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># redis启动命令</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ redis-server.exe redis.windows.conf --maxmemory 200M</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># mqtt启动命令</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">emqttd console</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="修改容器jar包配置">修改容器jar包配置<a href="#修改容器jar包配置" class="hash-link" aria-label="修改容器jar包配置的直接链接" title="修改容器jar包配置的直接链接">​</a></h3>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 1.进入容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ docker exec -it test1 /bin/bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 2.查看jar包文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ jar tf xxx.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 3.找到对应的配置文件，提取文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ jar xf web_scoket.jar BOOT-INF/classes/application.yml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 4.退出容器将文件cp出来编辑</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ docker cp test1:/BOOT-INF/classes/application.yml application.yml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 5.将修改好的文件copy回原来的容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ docker cp application.yml test1:/BOOT-INF/classes/application.yml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 6.将文件copy回jar中</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ jar uf web_scoket.jar BOOT-INF/classes/application.yml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 7.重启容器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ docker restart</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="exe设置为服务">exe设置为服务<a href="#exe设置为服务" class="hash-link" aria-label="exe设置为服务的直接链接" title="exe设置为服务的直接链接">​</a></h3>
<blockquote>
<ol>
<li>
<p>下载 <a href="https://github.com/winsw/winsw/releases" target="_blank" rel="noopener noreferrer">WinSW x64.exe</a></p>
</li>
<li>
<p>将exe文件和WinSW放入同一个文件夹，新建配置service.xml</p>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- </span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">  命令nacos示例，xml名称为NacosWinService.xml，WinSW改名为NacosWinService.exe</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token prolog" style="color:#999988;font-style:italic">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">service</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">id</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">NacosWinService</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">id</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">NacosWinService</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">description</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">NacosWinService</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">description</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">executable</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">%BASE%\startup.cmd</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">executable</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">arguments</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">-m standalone</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">arguments</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">logpath</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">%BASE%\serviceLogs</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">logpath</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">service</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- </span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">  双击启动的exe示例</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token prolog" style="color:#999988;font-style:italic">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">service</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">id</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">syncthingService</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">id</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">syncthingService</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">description</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">syncthingService</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">description</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">executable</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">%BASE%\syncthing.exe</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">executable</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">logpath</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">%BASE%\serviceLogs</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">logpath</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">service</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>执行命令，安装服务</p>
<p>NacosWinService.exe install</p>
</li>
<li>
<p>卸载服务</p>
<p>NacosWinService.exe uninstall</p>
</li>
</ol>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="nohup-命令">nohup 命令<a href="#nohup-命令" class="hash-link" aria-label="nohup 命令的直接链接" title="nohup 命令的直接链接">​</a></h3>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- nohup 英文全称 no hang up（不挂起），用于在系统后台不挂断地运行命令，退出终端不会影响程序的运行。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- nohup 命令，在默认情况下（非重定向时），会输出一个名叫 nohup.out 的文件到当前目录下，如果当前目录的 nohup.out 文件不可写，输出重定向到 $HOME/nohup.out 文件中。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- 语法</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nohup Command </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> Arg … </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">　</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- 参数说明：</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Command：要执行的命令。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Arg：一些参数，可以指定输出文件。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">：让命令在后台执行，终端退出后命令仍旧执行。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="查看内存">查看内存<a href="#查看内存" class="hash-link" aria-label="查看内存的直接链接" title="查看内存的直接链接">​</a></h3>
<blockquote>
<p>df：查看磁盘驱动器当前的可用空间</p>
<p>free：显示可用内存</p>
</blockquote>
<blockquote>
<p>ps -aux | sort -k4nr | head -10：查看使用内存最多的10个进程</p>
<p>ps aux --sort -rss：按内存大小排序，打印出所有的进程</p>
<p>ps -aux | sort -k3nr | head -3：查使用CPU最多的3个进程</p>
</blockquote>
<blockquote>
<p>du：显示每个子目录的磁盘使用量</p>
<p>du-a ：显示每个文件的使用量</p>
<p>du -a | sort -n -r：-n 选项用于数值排序，-r选项用于逆序排列</p>
<p>du -a | sort -n -r | head -n 10：占用空间最大的前10个文件</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="本地--linux文件">本地 | linux文件<a href="#本地--linux文件" class="hash-link" aria-label="本地 | linux文件的直接链接" title="本地 | linux文件的直接链接">​</a></h3>
<p>实现本地与Linux服务器文件互传的常用方式：scp命令、sftp命令、lrzsz程序，xftp软件</p>
<p><strong>lrzsz程序</strong></p>
<ul>
<li>
<p>使用<code>rpm -qa lrzsz</code>检查是否安装，未安装需执行  yum -y install lrzsz 进行安装。</p>
</li>
<li>
<p>使用<code>rz</code> 、<code>rz -be</code> 上传本地文件到linux。使用<code>sz</code>下载linux上文件到本地</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="git">git<a href="#git" class="hash-link" aria-label="git的直接链接" title="git的直接链接">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="git用户配置">git用户配置<a href="#git用户配置" class="hash-link" aria-label="git用户配置的直接链接" title="git用户配置的直接链接">​</a></h4>
<p>git config命令的–global参数，用了这个参数，表示你这台机器上所有的Git仓库都会使用这个配置，当然也可以对某个仓库指定不同的用户名和Email地址。</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 1.查看git配置信息</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ git config --list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 2.查看git用户名、密码、邮箱的配置</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ git config user.name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ git config user.password</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ git config user.email</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 3.设置git用户名、密码、邮箱的配置</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ git config user.name 用户名</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ git config user.password 密码</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ git config user.email 邮箱</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 设置git用户名、密码、邮箱的配置（全局配置）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ git config --global user.name 用户名</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ git config --global user.password 密码</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ git config --global user.password 邮箱</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 4.修改git用户名、密码、邮箱的配置（跟设置语法一样，没有用户名就添加，有了用户名就修改）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ git config user.name &quot;freedom&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 修改git用户名、密码、邮箱的配置（全局配置）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ git config --global user.name &quot;freedom&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="git分支操作">git分支操作<a href="#git分支操作" class="hash-link" aria-label="git分支操作的直接链接" title="git分支操作的直接链接">​</a></h4>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 克隆</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ git.exe clone --progress --branch 分支名称 -v &quot;远程仓库地址&quot; &quot;本地存储地址&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 更新远程分支列表 根目录启动 git bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ git remote update origin --prune</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 设置远程仓库</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ git remote set-url origin https://github.com/mhuahe/mhuahe.com.git</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="git回滚">git回滚<a href="#git回滚" class="hash-link" aria-label="git回滚的直接链接" title="git回滚的直接链接">​</a></h4>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 本地回滚到指定版本</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ git reset --hard  66b9f9481b45b562a1949898504f74e3695a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 提交远程回滚（强制）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ git push -f</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="git更新">git更新<a href="#git更新" class="hash-link" aria-label="git更新的直接链接" title="git更新的直接链接">​</a></h4>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 方式一：下载地址</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://git-scm.com/download/win</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 方式二：命令更新</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ git update-git-for-windows</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="目录初始化git">目录初始化GIT<a href="#目录初始化git" class="hash-link" aria-label="目录初始化GIT的直接链接" title="目录初始化GIT的直接链接">​</a></h4>
<ol>
<li>
<p><code>git init</code></p>
<p>此时会在目录中创建一个 .git 隐藏文件夹</p>
</li>
<li>
<p><code>git add .</code></p>
<p>如果你本地已经有 .gitignore 文件，会按照已有规则过滤不需要添加的文件。如果不想要添加所有文件，可以把 . 符号换成具体的文件名</p>
</li>
<li>
<p><code>git commit -m “Initial commit”</code></p>
</li>
<li>
<p><code>git remote add origin https://github.com/xxx.git</code></p>
</li>
<li>
<p><code>git remote -v </code></p>
</li>
<li>
<p><code>git push origin master</code></p>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="git设置代理">git设置代理<a href="#git设置代理" class="hash-link" aria-label="git设置代理的直接链接" title="git设置代理的直接链接">​</a></h4>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 设置代理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ git config --global http.proxy http://127.0.0.1:1080</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ git config --global https.proxy http://127.0.0.1:1080</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 取消代理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ git config --global --unset http.proxy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ git config --global --unset https.proxy</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="脚本">脚本<a href="#脚本" class="hash-link" aria-label="脚本的直接链接" title="脚本的直接链接">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="linux定时任务脚本设置">Linux定时任务脚本设置<a href="#linux定时任务脚本设置" class="hash-link" aria-label="Linux定时任务脚本设置的直接链接" title="Linux定时任务脚本设置的直接链接">​</a></h4>
<blockquote>
<ol>
<li>
<p>新建脚本文件，如 <code>clear_tomcat_log.sh</code></p>
</li>
<li>
<p>编辑定时任务文件  <code>vim /etc/crontab</code></p>
</li>
<li>
<p>新增定时任务</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 十秒钟执行一次clear_tomcat_log.sh（必须为全路径, cron表达式第一位为分钟）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ */10 * * * * root /usr/local/clear_tomcat_log.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>配置生效 <code>service crond reload/restart</code></p>
</li>
</ol>
</blockquote>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="windows查杀端口号bat脚本">windows查杀端口号（BAT脚本）<a href="#windows查杀端口号bat脚本" class="hash-link" aria-label="windows查杀端口号（BAT脚本）的直接链接" title="windows查杀端口号（BAT脚本）的直接链接">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@echo off &amp; setlocal EnableDelayedExpansion</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">set obj[0]=9999</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">set port=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">set pid=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo ==================== 端口号查杀工具 ========================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">for /f &quot;usebackq delims== tokens=1-2&quot; %%a in (`set obj`) do (</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    set port=%%b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	echo 开始查找端口号【!port!】所占用进程</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    for /f &quot;tokens=5&quot; %%m in (&#x27;netstat -aon ^| findstr &quot;:%%b&quot;&#x27;) do (</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        set pid=%%m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if &quot;!pid!&quot;==&quot;0&quot; (</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        echo 端口号【!port!】没有占用</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ) else (</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        echo 端口号【!port!】相关进程以杀死</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        taskkill /f /pid !pid!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    set pid=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pause</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="问题">问题<a href="#问题" class="hash-link" aria-label="问题的直接链接" title="问题的直接链接">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="未找到vim命令">未找到vim命令<a href="#未找到vim命令" class="hash-link" aria-label="未找到vim命令的直接链接" title="未找到vim命令的直接链接">​</a></h4>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ rpm -qa |grep vim</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ yum -y install vim-minimal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ yum -y install vim-enhanced</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.dev/mhuahe/mhuahe.com/blob/master-ts/docs/linux/Linux.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">最后<!-- -->由 <b>mhuahe</b> <!-- -->于 <b><time datetime="2024-09-30T08:54:04.000Z" itemprop="dateModified">2024年9月30日</time></b> <!-- -->更新</span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"></nav><div id="disqus_thread"></div></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#linux基本命令" class="table-of-contents__link toc-highlight">Linux基本命令</a></li><li><a href="#windows命令" class="table-of-contents__link toc-highlight">Windows命令</a><ul><li><a href="#快速删除文件夹和子文件夹" class="table-of-contents__link toc-highlight">快速删除文件夹和子文件夹</a></li></ul></li><li><a href="#docker" class="table-of-contents__link toc-highlight">docker</a><ul><li><a href="#基本命令" class="table-of-contents__link toc-highlight">基本命令</a></li><li><a href="#安装docker容器" class="table-of-contents__link toc-highlight">安装docker容器</a></li><li><a href="#安装docker-compose" class="table-of-contents__link toc-highlight">安装docker-compose</a></li><li><a href="#镜像命令" class="table-of-contents__link toc-highlight">镜像命令</a><ul><li><a href="#基本命令-1" class="table-of-contents__link toc-highlight">基本命令</a></li><li><a href="#微服务镜像命令" class="table-of-contents__link toc-highlight">微服务镜像命令</a></li></ul></li></ul></li><li><a href="#部署" class="table-of-contents__link toc-highlight">部署</a><ul><li><a href="#部署redis" class="table-of-contents__link toc-highlight">部署redis</a></li><li><a href="#docker部署nacos" class="table-of-contents__link toc-highlight">docker部署nacos</a></li><li><a href="#部署jdk" class="table-of-contents__link toc-highlight">部署jdk</a><ul><li><a href="#文件部署jdk" class="table-of-contents__link toc-highlight">文件部署jdk</a></li><li><a href="#docker部署jdk" class="table-of-contents__link toc-highlight">docker部署jdk</a></li></ul></li><li><a href="#微服务部署" class="table-of-contents__link toc-highlight">微服务部署</a><ul><li><a href="#部署auth" class="table-of-contents__link toc-highlight">部署auth</a></li></ul></li><li><a href="#部署elasticsearch" class="table-of-contents__link toc-highlight">部署elasticsearch</a><ul><li><a href="#linux文件部署elastic" class="table-of-contents__link toc-highlight">Linux文件部署elastic</a></li><li><a href="#docker部署elastic" class="table-of-contents__link toc-highlight">docker部署elastic</a></li><li><a href="#linux文件部署logstash" class="table-of-contents__link toc-highlight">Linux文件部署logstash</a></li><li><a href="#linux文件部署kibana" class="table-of-contents__link toc-highlight">Linux文件部署kibana</a></li></ul></li></ul></li><li><a href="#端口查杀" class="table-of-contents__link toc-highlight">端口查杀</a><ul><li><a href="#linux终止进程" class="table-of-contents__link toc-highlight">Linux终止进程</a></li><li><a href="#windows终止进程" class="table-of-contents__link toc-highlight">Windows终止进程</a></li></ul></li><li><a href="#解压压缩" class="table-of-contents__link toc-highlight">解压压缩</a></li><li><a href="#环境配置" class="table-of-contents__link toc-highlight">环境配置</a><ul><li><a href="#jdk配置" class="table-of-contents__link toc-highlight">Jdk配置</a></li><li><a href="#tomcat配置" class="table-of-contents__link toc-highlight">tomcat配置</a><ul><li><a href="#控制台乱码" class="table-of-contents__link toc-highlight">控制台乱码</a></li><li><a href="#tomcat部署请求中文乱码" class="table-of-contents__link toc-highlight">tomcat部署，请求中文乱码</a></li></ul></li></ul></li><li><a href="#linux信息" class="table-of-contents__link toc-highlight">Linux信息</a></li><li><a href="#查看日志" class="table-of-contents__link toc-highlight">查看日志</a></li><li><a href="#开放端口" class="table-of-contents__link toc-highlight">开放端口</a></li><li><a href="#docker数据库操作" class="table-of-contents__link toc-highlight">docker数据库操作</a></li><li><a href="#服务启动命令" class="table-of-contents__link toc-highlight">服务启动命令</a></li><li><a href="#修改容器jar包配置" class="table-of-contents__link toc-highlight">修改容器jar包配置</a></li><li><a href="#exe设置为服务" class="table-of-contents__link toc-highlight">exe设置为服务</a></li><li><a href="#nohup-命令" class="table-of-contents__link toc-highlight">nohup 命令</a></li><li><a href="#查看内存" class="table-of-contents__link toc-highlight">查看内存</a></li><li><a href="#本地--linux文件" class="table-of-contents__link toc-highlight">本地 | linux文件</a></li><li><a href="#git" class="table-of-contents__link toc-highlight">git</a><ul><li><a href="#git用户配置" class="table-of-contents__link toc-highlight">git用户配置</a></li><li><a href="#git分支操作" class="table-of-contents__link toc-highlight">git分支操作</a></li><li><a href="#git回滚" class="table-of-contents__link toc-highlight">git回滚</a></li><li><a href="#git更新" class="table-of-contents__link toc-highlight">git更新</a></li><li><a href="#目录初始化git" class="table-of-contents__link toc-highlight">目录初始化GIT</a></li><li><a href="#git设置代理" class="table-of-contents__link toc-highlight">git设置代理</a></li></ul></li><li><a href="#脚本" class="table-of-contents__link toc-highlight">脚本</a><ul><li><a href="#linux定时任务脚本设置" class="table-of-contents__link toc-highlight">Linux定时任务脚本设置</a></li><li><a href="#windows查杀端口号bat脚本" class="table-of-contents__link toc-highlight">windows查杀端口号（BAT脚本）</a></li></ul></li><li><a href="#问题" class="table-of-contents__link toc-highlight">问题</a><ul><li><a href="#未找到vim命令" class="table-of-contents__link toc-highlight">未找到vim命令</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">文档</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://docusaurus.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">开发文档</a></li></ul></div><div class="col footer__col"><div class="footer__title">社区</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.cnblogs.com/minhua" target="_blank" rel="noopener noreferrer" class="footer__link-item">博客园<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://juejin.cn/user/2331397363880808" target="_blank" rel="noopener noreferrer" class="footer__link-item">掘金<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://x.com/mihuahe" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://mhuahe.github.io/mhuahe.com/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li><li class="footer__item"><a href="https://github.com/mhuahe" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://opensource.fb.com" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/mhuahe.com/img/meta_opensource_logo_negative.svg" alt="Meta Open Source Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE"><img src="/mhuahe.com/img/meta_opensource_logo_negative.svg" alt="Meta Open Source Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU"></a></div><div class="footer__copyright">© 2024 mhuahe. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>
<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-java/JAVA" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">JAVA | è´ºæ•åçš„å®˜æ–¹ç½‘ç«™</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://mhuahe.github.io/mhuahe.com/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://mhuahe.github.io/mhuahe.com/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://mhuahe.github.io/mhuahe.com/docs/java/"><meta data-rh="true" property="og:locale" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="JAVA | è´ºæ•åçš„å®˜æ–¹ç½‘ç«™"><meta data-rh="true" name="description" content="æ–°é—»"><meta data-rh="true" property="og:description" content="æ–°é—»"><link data-rh="true" rel="icon" href="/mhuahe.com/img/m_two_logo.ico"><link data-rh="true" rel="canonical" href="https://mhuahe.github.io/mhuahe.com/docs/java/"><link data-rh="true" rel="alternate" href="https://mhuahe.github.io/mhuahe.com/docs/java/" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://mhuahe.github.io/mhuahe.com/docs/java/" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/mhuahe.com/blog/rss.xml" title="è´ºæ•åçš„å®˜æ–¹ç½‘ç«™ RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/mhuahe.com/blog/atom.xml" title="è´ºæ•åçš„å®˜æ–¹ç½‘ç«™ Atom Feed"><link rel="stylesheet" href="/mhuahe.com/assets/css/styles.f773e02c.css">
<script src="/mhuahe.com/assets/js/runtime~main.36e3ff37.js" defer="defer"></script>
<script src="/mhuahe.com/assets/js/main.f221812a.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="è·³åˆ°ä¸»è¦å†…å®¹"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">è·³åˆ°ä¸»è¦å†…å®¹</a></div><div class="announcementBar_mb4j" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">ğŸ‰ï¸<b>æœ¬ç½‘ç«™æ­£åœ¨å»ºè®¾ä¸­ï¼Œæ¬¢è¿æå‡ºå®è´µæ„è§ï¼<a target="_blank" href="https://github.com/mhuahe/mhuahe.com">æºç åœ°å€</a></b> ğŸ¥³ï¸</div><button type="button" aria-label="å…³é—­" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="ä¸»å¯¼èˆª" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="åˆ‡æ¢å¯¼èˆªæ " aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/mhuahe.com/"><div class="navbar__logo"><img src="/mhuahe.com/img/m_two_logo.svg" alt="mhuahe site logo" class="themedComponent_mlkZ themedComponent--light_NVdE" height="32" width="32"><img src="/mhuahe.com/img/m_two_logo.svg" alt="mhuahe site logo" class="themedComponent_mlkZ themedComponent--dark_xIcU" height="32" width="32"></div><b class="navbar__title text--truncate">è´ºæ•åçš„å®˜æ–¹ç½‘ç«™</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/mhuahe.com/docs/java/">Java</a><a class="navbar__item navbar__link" href="/mhuahe.com/docs/web/">å‰ç«¯</a><a class="navbar__item navbar__link" href="/mhuahe.com/docs/c/">Cè¯­è¨€</a><a class="navbar__item navbar__link" href="/mhuahe.com/docs/linux/">Linux</a><a class="navbar__item navbar__link" href="/mhuahe.com/docs/sql/MySQL">SQL</a><a class="navbar__item navbar__link" href="/mhuahe.com/docs/python/">Python</a><a class="navbar__item navbar__link" href="/mhuahe.com/docs/tool/">å·¥å…·</a><a class="navbar__item navbar__link" href="/mhuahe.com/docs/project/">é¡¹ç›®</a><a class="navbar__item navbar__link" href="/mhuahe.com/docs/knowledge/ä»€ä¹ˆæ˜¯SaaS">çŸ¥è¯†</a><a class="navbar__item navbar__link" href="/mhuahe.com/docs/other/OTHER-Examination">å…¶ä»–</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/mhuahe.com/docs/example/EXAMPLE-Video">ç¤ºä¾‹</a><a class="navbar__item navbar__link" href="/mhuahe.com/blog">Blog</a><a href="https://github.com/mhuahe/mhuahe.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="åˆ‡æ¢æµ…è‰²/æš—é»‘æ¨¡å¼ï¼ˆå½“å‰ä¸ºæµ…è‰²æ¨¡å¼ï¼‰" aria-label="åˆ‡æ¢æµ…è‰²/æš—é»‘æ¨¡å¼ï¼ˆå½“å‰ä¸ºæµ…è‰²æ¨¡å¼ï¼‰" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="æœç´¢" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="å›åˆ°é¡¶éƒ¨" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="æ–‡æ¡£ä¾§è¾¹æ " class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/mhuahe.com/docs/java/"><div> <!-- -->JAVA</div></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mhuahe.com/docs/java/JAVA-Algorithm"><div> <!-- -->JAVA-ç®—æ³•</div></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mhuahe.com/docs/java/JAVA-Code-Generation"><div> <!-- -->JAVA-ä»£ç ç”Ÿæˆ</div></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mhuahe.com/docs/java/JAVA-Data-Structure"><div> <!-- -->JAVA-æ•°æ®ç»“æ„</div></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mhuahe.com/docs/java/JAVA-Design-Pattern"><div> <!-- -->JAVA-è®¾è®¡æ¨¡å¼</div></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mhuahe.com/docs/java/JAVA-Elaticsearch"><div> <!-- -->JAVA-ES</div></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mhuahe.com/docs/java/JAVA-Encryption"><div> <!-- -->JAVA-åŠ å¯†æ–¹å¼</div></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mhuahe.com/docs/java/JAVA-Error-Record"><div> <!-- -->JAVA-é”™è¯¯è®°å½•</div></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mhuahe.com/docs/java/JAVA-Hutool"><div> <!-- -->JAVA-HuToolå·¥å…·</div></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mhuahe.com/docs/java/JAVA-JDK-Version"><div> <!-- -->JAVA-JDKç‰ˆæœ¬</div></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mhuahe.com/docs/java/JAVA-JVM"><div> <!-- -->JAVA-JVM</div></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mhuahe.com/docs/java/JAVA-Knowledge-Question"><div> <!-- -->JAVA-çŸ¥è¯†é¢˜</div></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mhuahe.com/docs/java/JAVA-MQ"><div> <!-- -->JAVA-æ¶ˆæ¯é˜Ÿåˆ—</div></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mhuahe.com/docs/java/JAVA-Maven-Dependent"><div> <!-- -->JAVA-Mavenä¾èµ–</div></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mhuahe.com/docs/java/JAVA-Maven"><div> <!-- -->JAVA-Maven</div></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mhuahe.com/docs/java/JAVA-MongoDB"><div> <!-- -->JAVA-MongoDB</div></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mhuahe.com/docs/java/JAVA-MybatisPlus"><div> <!-- -->JAVA-MybatisPlus</div></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mhuahe.com/docs/java/JAVA-OAuth2-SourceCode"><div> <!-- -->JAVA-oauth2æºç è§£è¯»</div></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mhuahe.com/docs/java/JAVA-PDF"><div> <!-- -->JAVA-PDF</div></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mhuahe.com/docs/java/JAVA-SQL-Interceptor"><div> <!-- -->JAVA-SQLæ‹¦æˆªå™¨</div></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mhuahe.com/docs/java/JAVA-Servlet"><div> <!-- -->JAVA-Servlet</div></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mhuahe.com/docs/java/JAVA-SpringBoot-Stack"><div> <!-- -->JAVA-SpringBootæŠ€æœ¯æ ˆ</div></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mhuahe.com/docs/java/JAVA-SpringBoot-Version"><div> <!-- -->JAVA-SpringBootç‰ˆæœ¬</div></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mhuahe.com/docs/java/JAVA-SpringCloud-Stack"><div> <!-- -->JAVA-SpringCloudæŠ€æœ¯æ ˆ</div></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mhuahe.com/docs/java/JAVA-Thread"><div> <!-- -->JAVA-å¤šçº¿ç¨‹</div></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mhuahe.com/docs/java/JAVA-WebSocket"><div> <!-- -->JAVA-WebSocket</div></a></li></ul></nav><button type="button" title="æ”¶èµ·ä¾§è¾¹æ " aria-label="æ”¶èµ·ä¾§è¾¹æ " class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_z5aJ"><div class="docItemContainer_c0TR"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="é¡µé¢è·¯å¾„"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="ä¸»é¡µé¢" class="breadcrumbs__link" href="/mhuahe.com/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">JAVA</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">æœ¬é¡µæ€»è§ˆ</button></div><div class="theme-doc-markdown markdown"><header><h1>JAVA</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ–°é—»">æ–°é—»<a href="#æ–°é—»" class="hash-link" aria-label="æ–°é—»çš„ç›´æ¥é“¾æ¥" title="æ–°é—»çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ç§»é™¤netflix">ç§»é™¤Netflix<a href="#ç§»é™¤netflix" class="hash-link" aria-label="ç§»é™¤Netflixçš„ç›´æ¥é“¾æ¥" title="ç§»é™¤Netflixçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>Netflixçš„äº§å“ç»„ä»¶é“¾</p>
<blockquote>
<p>Netflixå…¬å¸æ˜¯ç›®å‰å¾®æœåŠ¡è½åœ°ä¸­æœ€æˆåŠŸçš„å…¬å¸ã€‚å®ƒå¼€æºäº†è¯¸å¦‚Eurekaã€Hystrixã€Zuulã€Feignã€Ribbonç­‰ç­‰å¹¿å¤§å¼€å‘è€…æ‰€çŸ¥å¾®æœåŠ¡å¥—ä»¶ï¼Œç»Ÿç§°ä¸ºNetflix OSS</p>
</blockquote>
<p>ç§»é™¤çš„åŸå› </p>
<blockquote>
<p>2018 å¹´å‰åNetflixå…¬å¸å®£å¸ƒå…¶æ ¸å¿ƒç»„ä»¶Hystrixã€Ribbonã€Zuulã€Eurekaç­‰è¿›å…¥ç»´æŠ¤çŠ¶æ€ï¼Œä¸å†è¿›è¡Œæ–°ç‰¹æ€§å¼€å‘ï¼Œåªä¿® BUG
è¿™ç›´æ¥å½±å“äº†Spring Cloudé¡¹ç›®çš„å‘å±•è·¯çº¿ï¼Œåœ¨ 2019 å¹´çš„åœ¨ SpringOne 2019 å¤§ä¼šä¸­ï¼ŒSpring Cloudå®£å¸ƒ Spring Cloud Netflix é¡¹ç›®è¿›å…¥ç»´æŠ¤æ¨¡å¼ï¼Œå¹¶åœ¨ 2020 å¹´ç§»é™¤ç›¸å…³çš„Netflix OSSç»„ä»¶</p>
</blockquote>
<p>è¢«ç§»é™¤çš„ç»„ä»¶</p>
<blockquote>
<p>ribbonã€hystrix å’Œ zuulä»Spring Cloud 2020.0æ­£å¼ç‰ˆå‘å¸ƒåå°†ä¸å†è¢«Spring Cloudæ”¯æŒã€‚
åœ¨ç›®å‰æœ€æ–°çš„Spring Cloud 2020.0ä¸­ä»…ä»…å‰©ä¸‹äº†Eurekaã€‚ä½†æ˜¯ç•™ç»™Eurekaçš„æ—¶é—´ä¹Ÿä¸å¤šäº†ã€‚
Feignè™½ç„¶æ˜¯Netflixå…¬å¸å¼€æºçš„ï¼Œä½†ä» 9.x ç‰ˆæœ¬å¼€å§‹å°±ç§»äº¤ç»™OpenFeignç»„ç»‡ç®¡ç†ï¼Œä¸ä»å±äºNetflix OSSèŒƒç•´ã€‚</p>
</blockquote>
<p>æ›¿æ¢æ–¹æ¡ˆ</p>
<ul>
<li>å¾®è½¯çš„Spring Cloud Azure</li>
<li>é˜¿é‡Œçš„Spring Cloud Alibaba</li>
<li>äºšé©¬é€Šçš„Spring Cloud for Amazon Web Services</li>
<li>è°·æ­Œäº‘å¹³å°çš„ Spring Cloud GCP</li>
</ul>
<p>springcloudæœåŠ¡</p>
<ul>
<li>nacosé˜¿é‡Œæ³¨å†Œä¸­å¿ƒï¼šå®˜æ–¹eurekaåœæ­¢æ›´æ–°ï¼Œç›®å‰æ¯”è¾ƒå¥½çš„å–ä»£è€…ã€‚</li>
<li>zipkinè·Ÿè¸ªæœåŠ¡ï¼šåˆ†å¸ƒå¼è·Ÿè¸ªæ—¥å¿—,åŸºäºå†…å­˜å­˜å‚¨è®°å½•ã€‚</li>
<li>gatewayç½‘å…³è·¯ç”±æœåŠ¡ï¼šåˆ†å‘è¯·æ±‚ï¼Œç»Ÿä¸€ç®¡ç†è¿‡æ»¤ï¼Œç»“åˆLoadBalancerè´Ÿè½½å‡è¡¡ã€feignæœåŠ¡è°ƒç”¨ã€‚</li>
<li>springboot-adminç›‘æ§ä¸­å¿ƒæœåŠ¡ï¼šç»Ÿä¸€ç•Œé¢ç®¡ç†ï¼ŒæŸ¥çœ‹å„ä¸ªæœåŠ¡è¿è¡ŒçŠ¶æ€actuatorå¥åº·æ£€æŸ¥ã€‚</li>
<li>sentinelé«˜å¯ç”¨æµé‡ç®¡ç†æ¡†æ¶ï¼š ä»¥æµé‡ä¸ºåˆ‡å…¥ç‚¹ï¼Œé™æµã€æµé‡æ•´å½¢ã€ç†”æ–­é™çº§ã€ç³»ç»Ÿè´Ÿè½½ä¿æŠ¤ã€çƒ­ç‚¹é˜²æŠ¤ã€‚</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ç§»é™¤oauth2">ç§»é™¤oauth2<a href="#ç§»é™¤oauth2" class="hash-link" aria-label="ç§»é™¤oauth2çš„ç›´æ¥é“¾æ¥" title="ç§»é™¤oauth2çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>åœæ­¢ç‰ˆæœ¬</p>
<blockquote>
<p>æ—§çš„Spring Security OAuthé¡¹ç›®ç»ˆæ­¢åˆ°2.5.2.RELEASEç‰ˆæœ¬</p>
</blockquote>
<p>æš‚æ—¶çš„è¿ç§»æ–¹æ¡ˆ</p>
<ul>
<li>
<p>è¿ç§»Security 5.7.x</p>
<blockquote>
<p>Spring Security 5ä¸­é›†æˆäº†OAuth2 Clientå’ŒResource Serverä¸¤ä¸ªæ¨¡å—</p>
</blockquote>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;dependency&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/dependency&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>é›†æˆOAuth2 Clientä¾èµ–(OAuth2 Clientä¾èµ–äºSpring Security)</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;dependency&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/dependency&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>é›†æˆResource Serverä¾èµ–(Resource Serverä¾èµ–äºSpring Security)</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;dependency&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/dependency&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>é›†æˆOAuth2æˆæƒæœåŠ¡å™¨ä¾èµ–</p>
<blockquote>
<p>ç›®å‰Springç”Ÿæ€ä¸­çš„OAuth2æˆæƒæœåŠ¡å™¨æ˜¯Spring Authorization Serverï¼Œç›®å‰å·²å…·å¤‡ç”Ÿäº§å°±ç»ªèƒ½åŠ›ã€‚æœ€æ–°çš„0.3.0ç‰ˆæœ¬ä¸­ï¼Œå®˜æ–¹æ–‡æ¡£æ­£å¼åœ¨spring.ioä¸Šçº¿ï¼Œå®ƒå¿…é¡»åœ¨Java 11åŠä»¥ä¸Šç‰ˆæœ¬æ‰èƒ½ä½¿ç”¨ã€‚å®ƒä¹Ÿä½œä¸ºä¸€ä¸ªSpring Securityå­æ¨¡å—ï¼Œä¸èƒ½å•ç‹¬ä½¿ç”¨</p>
</blockquote>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;dependency&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;artifactId&gt;spring-security-oauth2-authorization-server&lt;/artifactId&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;version&gt;0.3.0&lt;/version&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/dependency&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="servlet">servlet<a href="#servlet" class="hash-link" aria-label="servletçš„ç›´æ¥é“¾æ¥" title="servletçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>åœ¨ Servlet 3.1 è§„èŒƒä¹‹å‰çš„ç‰ˆæœ¬ï¼Œè¯·æ±‚æ˜¯åªèƒ½è¢« Servlet åŒæ­¥é˜»å¡å¤„ç†å®Œæˆï¼Œè¿”å›ç»“æœç»™å‰ç«¯ã€‚</p>
<p>åœ¨ Servlet 3.1 è§„èŒƒå¼€å§‹çš„ç‰ˆæœ¬ï¼Œè¯·æ±‚æ˜¯å…è®¸è¢« Servlet ä¸¢åˆ°çº¿ç¨‹æ± ä¸­å¤„æ‰§è¡Œï¼Œç­‰åˆ°æ‰§è¡Œå®Œæ¯•ï¼Œå¼‚æ­¥å›è°ƒç»“æœç»™ Servlet ï¼Œæœ€åè¿”å›ç»™å‰ç«¯ã€‚</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="glib">GLIB<a href="#glib" class="hash-link" aria-label="GLIBçš„ç›´æ¥é“¾æ¥" title="GLIBçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>CGLIBå·²ç»ä¸ç»´æŠ¤äº†ï¼Œå»ºè®®ä½¿ç”¨ByteBuddyã€‚</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="åŸºç¡€çŸ¥è¯†ç‚¹">åŸºç¡€çŸ¥è¯†ç‚¹<a href="#åŸºç¡€çŸ¥è¯†ç‚¹" class="hash-link" aria-label="åŸºç¡€çŸ¥è¯†ç‚¹çš„ç›´æ¥é“¾æ¥" title="åŸºç¡€çŸ¥è¯†ç‚¹çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="å¤šæ€">å¤šæ€<a href="#å¤šæ€" class="hash-link" aria-label="å¤šæ€çš„ç›´æ¥é“¾æ¥" title="å¤šæ€çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- å¼ºè½¬</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">åªæœ‰æˆ‘ä»¬çš„çˆ¶ç±»å¯¹è±¡æœ¬èº«å°±æ˜¯ç”¨å­ç±»newå‡ºæ¥çš„æ—¶å€™</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> æ‰å¯ä»¥åœ¨å°†æ¥è¢«å¼ºåˆ¶è½¬æ¢ä¸ºå­ç±»å¯¹è±¡ã€‚ä¹Ÿå°±æ˜¯è¯´çˆ¶ç±»ç±»å‹å¯¹è±¡å¼•ç”¨å®é™…ä¸ŠæŒ‡å‘çš„æ˜¯å­ç±»å¯¹è±¡ï¼Œè¿™ç§æƒ…å†µä¸‹æ‰èƒ½å°†çˆ¶ç±»ç±»å‹å¯¹è±¡çš„å¼•ç”¨å¼ºè½¬ä¸ºå­ç±»ç±»å‹å¯¹è±¡çš„å¼•ç”¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Animal animal </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> new Dog</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Dog dog </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Dog</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> animal</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">animal instanof Dog</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Dog dog </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Dog</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> animal</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><span class="token keyword" style="color:#00009f">else</span><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Animal animal </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> animal</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="æ—¶é—´">æ—¶é—´<a href="#æ—¶é—´" class="hash-link" aria-label="æ—¶é—´çš„ç›´æ¥é“¾æ¥" title="æ—¶é—´çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * å°†2021-08-29T09:02:25.000Z --&gt; 2021-08-29 17:02:25</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @param timeStr</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @return</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public static String interceptTime(String timeStr) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (!StringUtils.isEmpty(timeStr)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (timeStr.contains(&quot;T&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&#x27;T&#x27;HH:mm:ss.SSSXXX&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                return new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;).format(simpleDateFormat.parse(timeStr));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            } catch (ParseException e) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                e.printStackTrace();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return timeStr;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//ISO 8601 &quot;yyyy-MM-dd&#x27;T&#x27;HH:mm:ss.SSSXXX&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- LocalDateTime è½¬ LocalDate</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">LocalDateTime localDateTime </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> LocalDateTime</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">now</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">LocalDate localDate </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> localDateTime</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">toLocalDate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- LocalDate è½¬ Date</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">LocalDate localDate </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> LocalDate</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">now</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ZoneId zoneId </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ZoneId</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">systemDefault</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">Date</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">date</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">Date</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">from</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">localDate</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">atStartOfDay</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">atZone</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">zoneId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">toInstant</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- è·å–å½“å‰æ—¥æœŸ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">LocalDate today </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> LocalDate</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">now</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- è·å–ä»Šå¹´çš„å¤©æ•°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> daysInYear </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> today</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lengthOfYear</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- åˆ¤æ–­ä»Šå¹´æ˜¯ä¸æ˜¯é—°å¹´</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">boolean</span><span class="token plain"> isLeapYear </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> today</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">isLeapYear</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- è®¡ç®—ç›¸å·®å¤©æ•°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ChronoUnit</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DAYS</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">between</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">buyDate</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> settlementDateEndDay</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- å¤§äºå°äº</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">LocalDate</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">isAfter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">LocalDate localDate</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">LocalDate</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">isBefore</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">LocalDate localDate</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- æ—¶é—´è®¡ç®—</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">LocalDate</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">minus</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="é›†åˆ">é›†åˆ<a href="#é›†åˆ" class="hash-link" aria-label="é›†åˆçš„ç›´æ¥é“¾æ¥" title="é›†åˆçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="list">List<a href="#list" class="hash-link" aria-label="Listçš„ç›´æ¥é“¾æ¥" title="Listçš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<blockquote>
<p>Listå®ç°ç±»</p>
</blockquote>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token number" style="color:#36acaa">1.</span><span class="token plain">ArrayList åº•å±‚æ•°ç»„ï¼Œæ’å…¥æ˜¯ä»€ä¹ˆé¡ºåºï¼Œå–å‡ºå°±æ˜¯ä»€ä¹ˆé¡ºåºï¼Œæ³¨æ„å¦‚æœæŒ‰ç´¢å¼•æ’å…¥ï¼Œå¦‚æ’å…¥</span><span class="token number" style="color:#36acaa">3</span><span class="token plain">å¤„ï¼Œåˆ™æœ¬æ¥çš„</span><span class="token number" style="color:#36acaa">3</span><span class="token plain">åŠåé¢çš„éƒ½ä¼šåç§»ä¸€ä½ç´¢å¼•</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2.</span><span class="token plain">Vector åŒArrayListï¼Œæ˜¯ArrayListçš„å®‰å…¨é›†åˆ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">3.</span><span class="token plain">LinkedList åº•å±‚é“¾è¡¨</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="set">Set<a href="#set" class="hash-link" aria-label="Setçš„ç›´æ¥é“¾æ¥" title="Setçš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<blockquote>
<p>Setå®ç°ç±»</p>
</blockquote>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">1.HashSet åº•å±‚å“ˆå¸Œè¡¨ï¼Œå…ˆåˆ¤æ–­hashCode()å€¼æ˜¯å¦ç›¸ç­‰ï¼Œä¸ç›¸ç­‰åˆ™ç›´æ¥æ·»åŠ ï¼Œè‹¥ç›¸ç­‰åˆ™å†åˆ¤æ–­equals()æ˜¯å¦ç›¸ç­‰ï¼Œç»“æœä¸ºTRUEè¯´æ˜å…ƒç´ é‡å¤ä¸æ·»åŠ ï¼ŒFALSEåˆ™æ·»åŠ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2.LinkedHashSet åº•å±‚é“¾è¡¨å’Œå“ˆå¸Œè¡¨ï¼Œé“¾è¡¨ä¿è¯æœ‰åºï¼Œå“ˆå¸Œè¡¨ä¿è¯å”¯ä¸€</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3.TreeSet åº•å±‚çº¢é»‘æ ‘ï¼Œå”¯ä¸€ï¼Œæœ‰åºã€‚å¯å®ç°Comparableè¿›è¡Œå…ƒç´ è‡ªç„¶æ’åºã€‚é›†åˆæ¥æ”¶Comparatorå®ç°ç±»å¯¹è±¡è¿›è¡Œé›†åˆæ¯”è¾ƒå™¨æ’åº</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="map">Map<a href="#map" class="hash-link" aria-label="Mapçš„ç›´æ¥é“¾æ¥" title="Mapçš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<blockquote>
<p>[!tip]</p>
<p>åœ¨éœ€è¦è·å–valueæƒ…å†µä¸‹ï¼Œ<code>entrySet</code>éå†æ¯”<code>keySet</code>æ›´é«˜æ•ˆã€‚å‡å°‘äº†æŸ¥æ‰¾çš„æ¬¡æ•°å¹¶æé«˜äº†ä»£ç çš„æ•´ä½“æ•ˆç‡</p>
</blockquote>
<blockquote>
<p>Mapå®ç°ç±»</p>
</blockquote>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token number" style="color:#36acaa">1.</span><span class="token plain">HashMap åº•å±‚å“ˆå¸Œè¡¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2.</span><span class="token plain">LinkedHashMap åº•å±‚é“¾è¡¨å’Œå“ˆå¸Œè¡¨ï¼Œé“¾è¡¨ä¿è¯æœ‰åºï¼Œå“ˆå¸Œè¡¨ä¿è¯å…ƒç´ å”¯ä¸€</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">3.</span><span class="token plain">Hashtable åº•å±‚å“ˆå¸Œè¡¨ï¼Œçº¿ç¨‹å®‰å…¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">4.</span><span class="token plain">TreeMap åº•å±‚çº¢é»‘æ ‘ï¼Œå”¯ä¸€ï¼Œæœ‰åºã€‚å¯å®ç°Comparableè¿›è¡Œå…ƒç´ è‡ªç„¶æ’åºã€‚é›†åˆæ¥æ”¶Comparatorå®ç°ç±»å¯¹è±¡è¿›è¡Œé›†åˆæ¯”è¾ƒå™¨æ’åº</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>Mapï¼Œkeyå€’åº</p>
</blockquote>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Map&lt;String, IndustryBondHeadVO.StockStatisticalChartVO&gt; map = new TreeMap&lt;&gt;(Comparator.reverseOrder());</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>åœ¨è¿­ä»£ä¸€ä¸ªé›†åˆï¼ˆå¦‚ Mapï¼‰æ—¶ï¼Œå¦‚æœå°è¯•ä¿®æ”¹è¯¥é›†åˆï¼Œå¯èƒ½ä¼šæŠ›å‡º ConcurrentModificationException å¼‚å¸¸ã€‚è¦é¿å…è¿™ç§æƒ…å†µï¼Œå¯ä»¥ä½¿ç”¨ Iterator çš„ remove æ–¹æ³•ï¼Œè€Œä¸æ˜¯ç›´æ¥ä¿®æ”¹é›†åˆã€‚</p>
<p>ç¡®ä¿æ‰€æœ‰ä¿®æ”¹æ“ä½œéƒ½åœ¨è¿­ä»£å™¨å†…éƒ¨è¿›è¡Œï¼Œè€Œä¸æ˜¯åœ¨è¿­ä»£å™¨å¤–éƒ¨ç›´æ¥ä¿®æ”¹ Map</p>
</blockquote>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Map&lt;String, String&gt; map = new HashMap&lt;&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">map.put(&quot;key1&quot;, &quot;value1&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">map.put(&quot;key2&quot;, &quot;value2&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Iterator&lt;Map.Entry&lt;String, String&gt;&gt; iterator = map.entrySet().iterator();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">while (iterator.hasNext()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Map.Entry&lt;String, String&gt; entry = iterator.next();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (entry.getKey().equals(&quot;key1&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        iterator.remove(); // æ­£ç¡®çš„ç§»é™¤æ–¹æ³•</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>å¦‚æœéœ€è¦åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹å¹¶å‘ä¿®æ”¹ Mapï¼Œå¯ä»¥ä½¿ç”¨ <code>ConcurrentHashMap</code>ï¼Œå®ƒå…è®¸å¹¶å‘çš„ä¿®æ”¹å’Œè¿­ä»£ã€‚</p>
</blockquote>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Map&lt;String, String&gt; map = new ConcurrentHashMap&lt;&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">map.put(&quot;key1&quot;, &quot;value1&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">map.put(&quot;key2&quot;, &quot;value2&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">for (Map.Entry&lt;String, String&gt; entry : map.entrySet()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (entry.getKey().equals(&quot;key1&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        map.remove(entry.getKey()); // å¹¶å‘å®‰å…¨çš„ç§»é™¤æ–¹æ³•</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>åœ¨å¢å¼º for å¾ªç¯ä¸­ä¿®æ”¹ Map ä¼šå¯¼è‡´ <code>ConcurrentModificationException</code>ã€‚åº”ä½¿ç”¨æ˜¾å¼è¿­ä»£å™¨æ¥é¿å…è¿™ä¸ªé—®é¢˜ã€‚</p>
</blockquote>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Map&lt;String, String&gt; map = new HashMap&lt;&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">map.put(&quot;key1&quot;, &quot;value1&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">map.put(&quot;key2&quot;, &quot;value2&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">for (Iterator&lt;Map.Entry&lt;String, String&gt;&gt; it = map.entrySet().iterator(); it.hasNext(); ) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Map.Entry&lt;String, String&gt; entry = it.next();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (entry.getKey().equals(&quot;key1&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        it.remove(); // æ­£ç¡®çš„ç§»é™¤æ–¹æ³•</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="é›†åˆapi">é›†åˆAPI<a href="#é›†åˆapi" class="hash-link" aria-label="é›†åˆAPIçš„ç›´æ¥é“¾æ¥" title="é›†åˆAPIçš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- æ•°ç»„æ’åº</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Arrays</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sort</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">?</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- ä»æ•´ä¸ªæ•°ç»„ä¸­æŸ¥è¯¢æŒ‡å®šå€¼çš„ç´¢å¼•(éœ€è¦æ’åº)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Arrays</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">binarySearch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Object</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> a</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">Object </span><span class="token keyword" style="color:#00009f">key</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- æ•°ç»„</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aæ•°ç»„èµ‹å€¼ç»™bæ•°ç»„</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">aæ•°ç»„åç»­æ”¹å˜</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">bæ•°ç»„ä¹Ÿä¼šæ”¹å˜</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- æ•°ç»„è½¬æˆå­—ç¬¦ä¸²è¾“å‡º</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Arrays</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">toString</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">arr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- è·å–é›†åˆçš„æœ€å¤§å€¼</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Collections</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">max</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">List</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- åˆ¤æ–­æ˜¯å¦åœ¨æ•°ç»„ä¸­</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">String</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> strList </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> {</span><span class="token string" style="color:#e3116c">&quot;AB&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;AC&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;AD&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;AE&quot;</span><span class="token plain">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">boolean</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">contains</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Arrays</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">asList</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">strList</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">contains</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;A&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- String[] --&gt; Integer[]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">Integer</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> intArray </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">Convert</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">toIntArray</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">new String</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">Integer</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> intArray </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">Integer</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> ConvertUtils</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">convert</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">customerId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">Integer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">class</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- å°†é€—å·åˆ†éš”çš„å­—ç¬¦ä¸²è½¬æ¢ä¸ºList</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">List</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">String</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> list </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Arrays</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">asList</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">str</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">split</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;,&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">List</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">String</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> list </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Arrays</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">asList</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">StringUtils</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">split</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">str</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;,&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- å°†listè½¬åŒ–ä¸ºé€—å·åˆ†å‰²çš„å­—ç¬¦ä¸²</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">String str </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> String</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">join</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;,&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> list</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">String str </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> StringUtils</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">json</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">list</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">toArray</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;,&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- intæ•°ç»„è½¬é›†åˆ(steamçš„è£…ç®±boxed()æ–¹æ³•)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">List</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">Integer</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> collect </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Arrays</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stream</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">arr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">boxed</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">collect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Collectors</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">toList</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="bigdecimal">BigDecimal<a href="#bigdecimal" class="hash-link" aria-label="BigDecimalçš„ç›´æ¥é“¾æ¥" title="BigDecimalçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<table><thead><tr><th style="text-align:left">å­—æ®µ</th><th style="text-align:left">å­—æ®µè¯¦æƒ…</th></tr></thead><tbody><tr><td style="text-align:left">ROUND_UP</td><td style="text-align:left">æˆªæ–­çš„å°æ•°&gt;0æ—¶è¿›ä¸€ä½</td></tr><tr><td style="text-align:left">ROUND_DOWN</td><td style="text-align:left">ç›´æ¥èˆå¼ƒæˆªæ–­çš„å°æ•°,ä¸åœ¨å°æ•°ä½ä¸Šè¿›ä¸€ä½,ä¸ç®¡èˆå¼ƒçš„æ•°å€¼æœ‰å¤šå¤§</td></tr><tr><td style="text-align:left">ROUND_HALF_UP</td><td style="text-align:left">å››èˆäº”å…¥</td></tr><tr><td style="text-align:left">ROUND_HALF_DOWN</td><td style="text-align:left">å½“æˆªå–æ‰çš„å°æ•°ä½çš„å€¼&gt;=5,ä¸”5åé¢è¿˜æœ‰&gt;0çš„å€¼,å°±ä¼šè¿›ä¸€ä½</td></tr><tr><td style="text-align:left">ROUND_CEILING</td><td style="text-align:left">å‘æ­£æ— é™å¤§æ–¹å‘èˆå…¥</td></tr><tr><td style="text-align:left">ROUND_FLOOR</td><td style="text-align:left">å‘è´Ÿæ— é™å¤§æ–¹å‘èˆå…¥</td></tr><tr><td style="text-align:left">ROUND_HALF_EVEN</td><td style="text-align:left">å¦‚æœèˆå¼ƒéƒ¨åˆ†å·¦è¾¹çš„æ•°å­—ä¸ºå¥‡æ•°ï¼Œåˆ™èˆå…¥è¡Œä¸ºåŒ HALF_UPï¼›å¦‚æœä¸ºå¶æ•°ï¼Œåˆ™èˆå…¥è¡Œä¸ºåŒHALF_DOWN</td></tr><tr><td style="text-align:left">ROUND_UNNECESSARY</td><td style="text-align:left">è®¡ç®—ç»“æœæ˜¯ç²¾ç¡®çš„ï¼Œä¸éœ€è¦èˆå…¥ï¼Œå¦åˆ™æŠ›å‡º ArithmeticExceptionã€‚</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="å‡½æ•°å¼æ¥å£">å‡½æ•°å¼æ¥å£<a href="#å‡½æ•°å¼æ¥å£" class="hash-link" aria-label="å‡½æ•°å¼æ¥å£çš„ç›´æ¥é“¾æ¥" title="å‡½æ•°å¼æ¥å£çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<blockquote>
<p>ä½¿ç”¨æ³¨è§£ <code>@FunctionalInterface</code> æ ‡è¯†ï¼Œå¹¶ä¸”åªåŒ…å«ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æ¥å£æ˜¯å‡½æ•°å¼æ¥å£ã€‚</p>
</blockquote>
<ul>
<li>Supplierï¼šä¾›ç»™å‹å‡½æ•°ï¼Œæ— å‚æœ‰è¿”å›ã€‚</li>
<li>Consumerï¼šæ¶ˆè´¹å‹å‡½æ•°ï¼Œæ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œæ— è¿”å›ã€‚</li>
<li>Runnableï¼šæ— å‚æ— è¿”å›ã€‚</li>
<li>Functionï¼šæ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªå€¼ã€‚</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="lambda">lambda<a href="#lambda" class="hash-link" aria-label="lambdaçš„ç›´æ¥é“¾æ¥" title="lambdaçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//æ— å‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Supplier&lt;ElfWeapon&gt; elfWeaponSupplier = ElfWeapon::new;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//ç­‰ä»·äº</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Supplier&lt;ElfWeapon&gt; elfWeaponSupplier = () -&gt; new ElfWeapon();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//ç­‰ä»·äº</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Supplier&lt;ElfWeapon&gt; elfWeaponSupplier = new Supplier&lt;Weapon&gt;() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Weapon get() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return new ElfWeapon();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//æœ‰å‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Function&lt;String, ElfWeapon&gt; elfWeaponFunction = ElfWeapon::new;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//ç­‰ä»·äº</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Function&lt;String, ElfWeapon&gt; elfWeaponFunction = type -&gt; new ElfWeapon(type);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//ç­‰ä»·äº</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Function&lt;String, Weapon&gt; elfWeaponFunction = new Function&lt;String, Weapon&gt;() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Weapon apply(String type) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return new ElfWeapon(type);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ä»£ç è§„èŒƒ">ä»£ç è§„èŒƒ<a href="#ä»£ç è§„èŒƒ" class="hash-link" aria-label="ä»£ç è§„èŒƒçš„ç›´æ¥é“¾æ¥" title="ä»£ç è§„èŒƒçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- MVCåˆ†å±‚å¯ä»¥åˆ†å››å±‚</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">controller å±‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">service å±‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">manager å±‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dao å±‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">--  @Transactional äº‹åŠ¡æ³¨è§£</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1.</span><span class="token variable" style="color:#36acaa">@Transactional</span><span class="token plain"> æ³¨è§£å†…çš„ rollbackFor å€¼å¿…é¡»ä½¿ç”¨å¼‚å¸¸ Exception</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">class</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2.</span><span class="token plain">spring é‡åˆ°è¯¥æ³¨è§£æ—¶ï¼Œä¼šè‡ªåŠ¨ä»æ•°æ®åº“è¿æ¥æ± ä¸­è·å– connectionï¼Œå¹¶å¼€å¯äº‹åŠ¡ç„¶åç»‘å®šåˆ° ThreadLocal ä¸Šï¼Œå¦‚æœä¸šåŠ¡å¹¶æ²¡æœ‰è¿›å…¥åˆ°æœ€ç»ˆçš„æ“ä½œæ•°æ®åº“ç¯èŠ‚ï¼Œé‚£ä¹ˆå°±æ²¡æœ‰å¿…è¦è·å–è¿æ¥å¹¶å¼€å¯äº‹åŠ¡ï¼Œåº”è¯¥ç›´æ¥å°† connection è¿”å›ç»™æ•°æ®åº“è¿æ¥æ± ï¼Œä¾›å…¶ä»–ä½¿ç”¨ã€‚å³å°†å¢åˆ æ”¹æ“ä½œçš„ä¸šåŠ¡ä»£ç æå–åˆ°manangerè¿›è¡Œæ³¨è§£ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">æ³¨ï¼š</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">æ³¨è§£ </span><span class="token variable" style="color:#36acaa">@Transactional</span><span class="token plain"> äº‹åŠ¡åœ¨ç±»çš„å†…éƒ¨æ–¹æ³•è°ƒç”¨æ˜¯ä¸ä¼šç”Ÿæ•ˆçš„</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Spring é‡‡ç”¨åŠ¨æ€ä»£ç†</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">AOP</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">å®ç°å¯¹ bean çš„ç®¡ç†å’Œåˆ‡ç‰‡ï¼Œå®ƒä¸ºæˆ‘ä»¬çš„æ¯ä¸ª class ç”Ÿæˆä¸€ä¸ªä»£ç†å¯¹è±¡ã€‚åªæœ‰åœ¨ä»£ç†å¯¹è±¡ä¹‹é—´è¿›è¡Œè°ƒç”¨æ—¶ï¼Œå¯ä»¥è§¦å‘åˆ‡é¢é€»è¾‘ã€‚è€Œåœ¨åŒä¸€ä¸ª class ä¸­ï¼Œæ–¹æ³• A è°ƒç”¨æ–¹æ³• Bï¼Œè°ƒç”¨çš„æ˜¯åŸå¯¹è±¡çš„æ–¹æ³•ï¼Œè€Œä¸é€šè¿‡ä»£ç†å¯¹è±¡ã€‚æ‰€ä»¥ Spring æ— æ³•æ‹¦æˆªåˆ°è¿™æ¬¡è°ƒç”¨ï¼Œä¹Ÿå°±æ— æ³•é€šè¿‡æ³¨è§£ä¿è¯äº‹åŠ¡äº†ã€‚ç®€å•æ¥è¯´ï¼Œåœ¨åŒä¸€ä¸ªç±»ä¸­çš„æ–¹æ³•è°ƒç”¨ï¼Œä¸ä¼šè¢«æ–¹æ³•æ‹¦æˆªå™¨æ‹¦æˆªåˆ°ï¼Œå› æ­¤äº‹åŠ¡ä¸ä¼šèµ·ä½œç”¨ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">è§£å†³æ–¹æ¡ˆï¼š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1</span><span class="token plain">ã€å¯ä»¥å°†æ–¹æ³•æ”¾å…¥å¦ä¸€ä¸ªç±»ï¼Œå¦‚æ–°å¢ managerå±‚ï¼Œé€šè¿‡ spring æ³¨å…¥ï¼Œè¿™æ ·ç¬¦åˆäº†åœ¨å¯¹è±¡ä¹‹é—´è°ƒç”¨çš„æ¡ä»¶ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2</span><span class="token plain">ã€å¯åŠ¨ç±»æ·»åŠ </span><span class="token variable" style="color:#36acaa">@EnableAspectJAutoProxy</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">exposeProxy </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">ï¼Œæ–¹æ³•å†…ä½¿ç”¨AopContext</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">currentProxy</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">è·å¾—ä»£ç†ç±»ï¼Œä½¿ç”¨äº‹åŠ¡ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- controller æ¯ä¸ªæ–¹æ³•è¦ä¿æŒç®€æ´</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">controller åœ¨mvcä¸­è´Ÿè´£ååŒå’Œå§”æ´¾ä¸šåŠ¡ï¼Œå……å½“è·¯ç”±çš„è§’è‰²ï¼Œæ‰€ä»¥è¦ä¿æŒä»£ç å°‘é‡å’Œæ¸…æ™°ï¼Œè¦åšåˆ°å¦‚ä¸‹è¦æ±‚ï¼š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ä¸åšä»»ä½•çš„ä¸šåŠ¡é€»è¾‘æ“ä½œ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ä¸åšä»»ä½•çš„å‚æ•°ã€ä¸šåŠ¡æ ¡éªŒï¼Œå‚æ•°æ ¡éªŒåªå…è®¸ä½¿ç”¨</span><span class="token variable" style="color:#36acaa">@Valid</span><span class="token plain"> æ³¨è§£åšç®€å•çš„æ ¡éªŒ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ä¸åšä»»ä½•çš„æ•°æ®ç»„åˆã€æ‹¼è£…ã€èµ‹å€¼ç­‰æ“ä½œ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- åªèƒ½åœ¨controllerå±‚è·å–å½“å‰è¯·æ±‚ç”¨æˆ·</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">åªèƒ½åœ¨controllerå±‚è·å–å½“å‰è¯·æ±‚ç”¨æˆ·ï¼Œå¹¶ä¼ é€’ç»™serviceå±‚ã€‚å› ä¸ºè·å–å½“å‰è¯·æ±‚ç”¨æˆ·æ˜¯ä»ThreadLocalé‡Œè·å–å–çš„ï¼Œåœ¨serviceã€managerã€daoå±‚ææœ‰å¯èƒ½æ˜¯å…¶ä»–érequestçº¿ç¨‹è°ƒç”¨ï¼Œä¼šå‡ºç°</span><span class="token boolean" style="color:#36acaa">null</span><span class="token plain">çš„æƒ…å†µï¼Œå°½é‡é¿å…</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- ä½¿ç”¨mybatis-plusçš„è¦æ±‚</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1</span><span class="token plain">ã€æ‰€æœ‰ Dao ç»§æ‰¿è‡ª BaseMapper</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2</span><span class="token plain">ã€ç¦æ­¢ä½¿ç”¨ Mybatis</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">plus çš„ Wrapper æ¡ä»¶æ„å»ºå™¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">3</span><span class="token plain">ã€ç¦æ­¢ç›´æ¥åœ¨ mybatis xml ä¸­å†™æ­»å¸¸é‡ï¼Œåº”ä» dao ä¸­ä¼ å…¥åˆ° xml ä¸­</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">4</span><span class="token plain">ã€å»ºè®®åœ¨xmlä¸­çš„ </span><span class="token keyword" style="color:#00009f">join</span><span class="token plain"> å…³è”å†™æ³•ä½¿ç”¨è¡¨åçš„å…¨ç§°ï¼Œè€Œä¸æ˜¯ç”¨åˆ«åï¼Œå¯¹äºå…³è”è¡¨å¤ªå¤šçš„è¯ï¼Œåœ¨xmlæ ¼å¼ä¸­ï¼Œå…¶å®å¾ˆéš¾è®°ä½åˆ«åæ˜¯ä»€ä¹ˆæ„æ€</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- javabean åå­—åˆ’åˆ†</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">XxxEntity æ•°æ®åº“æŒä¹…å¯¹è±¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">XxxVO è¿”å›å‰ç«¯å¯¹è±¡ ï¼ˆä¸€äº›å¤§å‚ç”¨ Respç»“å°¾ï¼Œæ¯”å¦‚ XxxxRespï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">XxxForm å‰ç«¯è¯·æ±‚å¯¹è±¡ ï¼ˆä¸€äº›å¤§å‚ç”¨ Reqç»“å°¾ï¼Œæ¯”å¦‚ XxxxReqï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">XxxDTO æ•°æ®ä¼ è¾“å¯¹è±¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">XxxBO å†…éƒ¨å¤„ç†å¯¹è±¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">éƒ½ä¸å¯ä»¥ç»§æ‰¿è‡ª Entity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- boolean ç±»å‹çš„å±æ€§å‘½åè§„èŒƒ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ç±»ä¸­å¸ƒå°”ç±»å‹çš„å˜é‡ï¼Œéƒ½ä¸è¦åŠ  </span><span class="token operator" style="color:#393A34">is</span><span class="token plain">ï¼Œå¦åˆ™éƒ¨åˆ†æ¡†æ¶è§£æä¼šå¼•èµ·åºåˆ—åŒ–é”™è¯¯ã€‚åä¾‹ï¼šå®šä¹‰ä¸ºåŸºæœ¬æ•°æ®ç±»å‹ </span><span class="token keyword" style="color:#00009f">Boolean</span><span class="token plain"> isDeletedï¼›çš„å±æ€§ï¼Œå®ƒçš„æ–¹æ³•ä¹Ÿæ˜¯ isDeleted</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">ï¼ŒRPC åœ¨åå‘è§£æçš„æ—¶å€™ï¼Œâ€œä»¥ä¸ºâ€å¯¹åº”çš„å±æ€§åç§°æ˜¯ deletedï¼Œå¯¼è‡´å±æ€§è·å–ä¸åˆ°ï¼Œè¿›è€ŒæŠ›å‡ºå¼‚å¸¸ã€‚</span><span class="token keyword" style="color:#00009f">boolean</span><span class="token plain"> ç±»å‹çš„ç±»å±æ€§å’Œæ•°æ®è¡¨å­—æ®µéƒ½ç»Ÿä¸€ä½¿ç”¨ flag ç»“å°¾ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- å»ºè¡¨è§„èŒƒ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">è¡¨å¿…å¤‡ä¸‰å­—æ®µï¼šid</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> create_time</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> update_time</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">id å­—æ®µ Long ç±»å‹ï¼Œå•è¡¨è‡ªå¢ï¼Œè‡ªå¢é•¿åº¦ä¸º </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">create_time å­—æ®µ </span><span class="token keyword" style="color:#00009f">datetime</span><span class="token plain"> ç±»å‹ï¼Œé»˜è®¤å€¼ </span><span class="token keyword" style="color:#00009f">CURRENT_TIMESTAMP</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">update_time å­—æ®µ </span><span class="token keyword" style="color:#00009f">datetime</span><span class="token plain"> ç±»å‹ï¼Œé»˜è®¤å€¼ </span><span class="token keyword" style="color:#00009f">CURRENT_TIMESTAMP</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">On</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">update</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">CURRENT_TIMESTAMP</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="activeé…ç½®">activeé…ç½®<a href="#activeé…ç½®" class="hash-link" aria-label="activeé…ç½®çš„ç›´æ¥é“¾æ¥" title="activeé…ç½®çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- å¯æŸ¥çœ‹ç±»EnvironmentåŠ è½½çš„é…ç½®è¯¦æƒ…</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- spring.profiles.activeå±æ€§</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">profiles</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">active</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">devï¼šå¯ç”¨application</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">dev</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">properties</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">profiles</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">active</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">testï¼šå¯ç”¨application</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">test</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">properties</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">profiles</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">active</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">prodï¼šå¯ç”¨application</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">prod</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">properties</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- å¯åŠ¨æ—¶æŒ‡å®š(ä¼˜å…ˆçº§æœ€é«˜)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">java </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">jar xx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">jar </span><span class="token comment" style="color:#999988;font-style:italic">--spring.profiles.active=prod</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- spring.profiles.includeå±æ€§</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- é…ç½®æ–¹æ³•</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">è‹¥æ˜¯propertiesæ–‡ä»¶ï¼šspring</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">profiles</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">include</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">dev1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">dev2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">è‹¥æ˜¯yamlæ–‡ä»¶ä¸­ï¼Œ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spring</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">profiles</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">include:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain">dev1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain">dev2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">æˆ–è€…ï¼šspring</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">profiles</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">include:dev1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">dev2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- é…ç½®ä½ç½®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">æ–¹å¼ä¸€ï¼šapplication</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">propertiesä¸­ï¼Œé…ç½®spring</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">profiles</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">active</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">devçš„åŒæ—¶æŒ‡å®šspring</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">profiles</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">include</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">dev1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">dev2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">æ–¹å¼äºŒï¼šapplication</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">propertiesä¸­ï¼Œé…ç½®spring</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">profiles</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">active</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">devï¼Œapplication</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">dev</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">propertiesä¸­ï¼Œé…ç½®spring</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">profiles</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">include</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">dev1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">dev2ã€‚ä½¿ç”¨application</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">dev</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">propertiesæ—¶è‡ªåŠ¨å°±æ¿€æ´»äº†dev1ã€dev2ä¸¤ä¸ªæ–‡ä»¶ï¼Œä¸ç”¨å†æ¬¡æŒ‡å®šã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- åŒºåˆ«</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ç¬¬ä¸€ç§æ–¹å¼å¯åŠ¨æ—¶ï¼Œæ§åˆ¶å°æ‰“å°The </span><span class="token keyword" style="color:#00009f">following</span><span class="token plain"> profiles are active:dev1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">dev2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">dev</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ç¬¬äºŒç§æ–¹å¼å¯åŠ¨æ—¶ï¼Œæ§åˆ¶å°æ‰“å°The </span><span class="token keyword" style="color:#00009f">following</span><span class="token plain"> profiles are active:dev</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> dev1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">dev2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">æŒ‰ç…§é¡ºåºï¼Œåé¢çš„è¦†ç›–å‰é¢çš„ã€‚</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="å…¨å±€å¤„ç†æ—¥æœŸ">å…¨å±€å¤„ç†æ—¥æœŸ<a href="#å…¨å±€å¤„ç†æ—¥æœŸ" class="hash-link" aria-label="å…¨å±€å¤„ç†æ—¥æœŸçš„ç›´æ¥é“¾æ¥" title="å…¨å±€å¤„ç†æ—¥æœŸçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// å±€éƒ¨é…ç½®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@DateTimeFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;, timezone = &quot;GMT+8&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private LocalDateTime createTime;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// å…¨å±€é…ç½®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class JacksonConfig {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Value(&quot;${prop.local-date-time-format:yyyy-MM-dd HH:mm:ss}&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String localDateTimeFormat;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * é…ç½®Jacksonå¯¹æšä¸¾åºåˆ—åŒ–/ååºåˆ—åŒ–çš„æ”¯æŒ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @return</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Bean</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Jackson2ObjectMapperBuilderCustomizer customizer() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return builder -&gt; builder.featuresToEnable(SerializationFeature.WRITE_ENUMS_USING_TO_STRING)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                .serializerByType(LocalDateTime.class,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        new LocalDateTimeSerializer(DateTimeFormatter.ofPattern(localDateTimeFormat)))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                .deserializerByType(LocalDateTime.class,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        new LocalDateTimeDeserializer(DateTimeFormatter.ofPattern(localDateTimeFormat)));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="jsqlparser">JSqlParser<a href="#jsqlparser" class="hash-link" aria-label="JSqlParserçš„ç›´æ¥é“¾æ¥" title="JSqlParserçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<blockquote>
<p>ä¾èµ–äº†JSqlParser</p>
<ul>
<li>mybatis-plus-boot-starter</li>
<li>pagehelper</li>
</ul>
</blockquote>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">com.github.jsqlparser</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">jsqlparser</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">4.6</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- JSqlParseræ˜¯ä¸€ä¸ªä¸RDBMSï¼ˆå…³ç³»æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼‰æ— å…³çš„SQLè¯­å¥è§£æå™¨ã€‚å®ƒå°†SQLè¯­å¥è½¬æ¢ä¸ºå¯éå†çš„Javaç±»æ¬¡ç»“æ„</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- åŸSQL</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> dual </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- è½¬æ¢</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Statement statement </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> CCJSqlParserUtil</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">parse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sqlStr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- è½¬æ¢åç»“æ„</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token keyword" style="color:#00009f">SQL</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">Text</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  â””â”€Statements: net</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sf</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">jsqlparser</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">statement</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">select</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">Select</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     â””â”€selectBody: net</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sf</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">jsqlparser</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">statement</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">select</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PlainSelect</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        â”œâ”€selectItems </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> Collection</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">SelectExpressionItem</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        â”‚  â””â”€selectItems: net</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sf</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">jsqlparser</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">statement</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">select</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SelectExpressionItem</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        â”‚     â””â”€LongValue: </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        â”œâ”€</span><span class="token keyword" style="color:#00009f">Table</span><span class="token plain">: dual</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        â””â”€</span><span class="token keyword" style="color:#00009f">where</span><span class="token plain">: net</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sf</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">jsqlparser</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">expression</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">operators</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">relational</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">EqualsTo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           â”œâ”€</span><span class="token keyword" style="color:#00009f">Column</span><span class="token plain">: a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           â””â”€</span><span class="token keyword" style="color:#00009f">Column</span><span class="token plain">: b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- è½¬æ¢åç®€å•ä½¿ç”¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Statement statement </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> CCJSqlParserUtil</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">parse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sqlStr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">statement instanceof </span><span class="token keyword" style="color:#00009f">Select</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">Select</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">Select</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> statement</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    PlainSelect plainSelect </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">PlainSelect</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">select</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">getSelectBody</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SelectExpressionItem selectExpressionItem </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">SelectExpressionItem</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> plainSelect</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">getSelectItems</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">Table</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">table</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">Table</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> plainSelect</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">getFromItem</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    EqualsTo equalsTo </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">EqualsTo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> plainSelect</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">getWhere</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">Column</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">Column</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> equalsTo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">getLeftExpression</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">Column</span><span class="token plain"> b </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">Column</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> equalsTo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">getRightExpression</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="io">IO<a href="#io" class="hash-link" aria-label="IOçš„ç›´æ¥é“¾æ¥" title="IOçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<blockquote>
<p>[!tip]</p>
<p>Windowså¹³å°ä½¿ç”¨<code>\</code>ä½œä¸ºè·¯å¾„åˆ†éš”ç¬¦ï¼Œåœ¨Javaå­—ç¬¦ä¸²ä¸­éœ€è¦ç”¨<code>\\</code>è¡¨ç¤ºä¸€ä¸ª<code>\</code>ã€‚Linuxå¹³å°ä½¿ç”¨<code>/</code>ä½œä¸ºè·¯å¾„åˆ†éš”ç¬¦ï¼š</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="file">File<a href="#file" class="hash-link" aria-label="Fileçš„ç›´æ¥é“¾æ¥" title="Fileçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<blockquote>
<p><code>File</code>å¯¹è±¡æ—¢å¯ä»¥è¡¨ç¤ºæ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥è¡¨ç¤ºç›®å½•ã€‚ç‰¹åˆ«è¦æ³¨æ„çš„æ˜¯ï¼Œæ„é€ ä¸€ä¸ª<code>File</code>å¯¹è±¡ï¼Œå³ä½¿ä¼ å…¥çš„æ–‡ä»¶æˆ–ç›®å½•ä¸å­˜åœ¨ï¼Œä»£ç ä¹Ÿä¸ä¼šå‡ºé”™ï¼Œå› ä¸ºæ„é€ ä¸€ä¸ª<code>File</code>å¯¹è±¡ï¼Œå¹¶ä¸ä¼šå¯¼è‡´ä»»ä½•ç£ç›˜æ“ä½œã€‚åªæœ‰å½“æˆ‘ä»¬è°ƒç”¨<code>File</code>å¯¹è±¡çš„æŸäº›æ–¹æ³•çš„æ—¶å€™ï¼Œæ‰çœŸæ­£è¿›è¡Œç£ç›˜æ“ä½œã€‚</p>
</blockquote>
<p>æ–‡ä»¶å’Œç›®å½•</p>
<ul>
<li>isFile()ï¼šåˆ¤æ–­è¯¥<code>File</code>å¯¹è±¡æ˜¯å¦æ˜¯ä¸€ä¸ªå·²å­˜åœ¨çš„æ–‡ä»¶ï¼›</li>
<li>isDirectory()ï¼šåˆ¤æ–­è¯¥<code>File</code>å¯¹è±¡æ˜¯å¦æ˜¯ä¸€ä¸ªå·²å­˜åœ¨çš„ç›®å½•ï¼›</li>
<li>boolean canRead()ï¼šæ˜¯å¦å¯è¯»ï¼›</li>
<li>boolean canWrite()ï¼šæ˜¯å¦å¯å†™ï¼›</li>
<li>boolean canExecute()ï¼šæ˜¯å¦å¯æ‰§è¡Œï¼›å¯¹ç›®å½•ï¼Œè¡¨ç¤ºèƒ½å¦åˆ—å‡ºå®ƒåŒ…  å«çš„æ–‡ä»¶å’Œå­ç›®å½•ã€‚</li>
<li>long length()ï¼šæ–‡ä»¶å­—èŠ‚å¤§å°ï¼›</li>
</ul>
<p>åˆ›å»ºå’Œåˆ é™¤æ–‡ä»¶</p>
<ul>
<li>createNewFile()ï¼šå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶ï¼›</li>
<li>delete()ï¼šåˆ é™¤è¯¥æ–‡ä»¶ï¼›</li>
<li>createTempFile()ï¼šé™æ€æ–¹æ³•ï¼Œåˆ›å»ºä¸€ä¸ªä¸´æ—¶æ–‡ä»¶ï¼›</li>
<li>deleteOnExit()ï¼šJVMé€€å‡ºæ—¶è‡ªåŠ¨åˆ é™¤è¯¥æ–‡ä»¶ï¼›</li>
</ul>
<p>éå†æ–‡ä»¶å’Œç›®å½•</p>
<ul>
<li>list() ï¼šåˆ—å‡ºç›®å½•ä¸‹çš„æ–‡ä»¶åå’Œå­ç›®å½•å;</li>
<li>listFiles()ï¼šåˆ—å‡ºç›®å½•ä¸‹çš„æ–‡ä»¶å’Œç›®å½•ï¼Œæä¾›äº†ä¸€ç³»åˆ—é‡è½½æ–¹æ³•ï¼Œå¯ä»¥è¿‡æ»¤ä¸æƒ³è¦çš„æ–‡ä»¶å’Œç›®å½•ï¼›</li>
<li>boolean mkdir()ï¼šåˆ›å»ºå½“å‰Fileå¯¹è±¡è¡¨ç¤ºçš„ç›®å½•ï¼›</li>
<li>boolean mkdirs()ï¼šåˆ›å»ºå½“å‰Fileå¯¹è±¡è¡¨ç¤ºçš„ç›®å½•ï¼Œå¹¶åœ¨å¿…è¦æ—¶å°†ä¸å­˜åœ¨çš„çˆ¶ç›®å½•ä¹Ÿåˆ›å»ºå‡ºæ¥ï¼›</li>
<li>boolean delete()ï¼šåˆ é™¤å½“å‰Fileå¯¹è±¡è¡¨ç¤ºçš„ç›®å½•ï¼Œå½“å‰ç›®å½•å¿…é¡»ä¸ºç©ºæ‰èƒ½åˆ é™¤æˆåŠŸï¼›</li>
</ul>
<p>Path</p>
<blockquote>
<p>Javaæ ‡å‡†åº“è¿˜æä¾›äº†ä¸€ä¸ª<code>Path</code>å¯¹è±¡ï¼Œå®ƒä½äº<code>java.nio.file</code>åŒ…ã€‚<code>Path</code>å¯¹è±¡å’Œ<code>File</code>å¯¹è±¡ç±»ä¼¼ï¼Œä½†æ“ä½œæ›´åŠ ç®€å•ï¼š</p>
</blockquote>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public static void main(String[] args) throws IOException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // æ„é€ ä¸€ä¸ªPathå¯¹è±¡ï¼Œå³æ‹¼æ¥è·¯å¾„./project/study</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Path p1 = Paths.get(&quot;D:\\hayes\\db-code&quot;, &quot;sdzx&quot;, &quot;sdzx-240611&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    System.out.println(p1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Path p2 = p1.toAbsolutePath(); // è½¬æ¢ä¸ºç»å¯¹è·¯å¾„</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    System.out.println(p2);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Path p3 = p2.normalize(); // è½¬æ¢ä¸ºè§„èŒƒè·¯å¾„</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    System.out.println(p3);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    File f = p3.toFile(); // è½¬æ¢ä¸ºFileå¯¹è±¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    System.out.println(f);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    for (Path p : p1.toAbsolutePath()) { // å¯ä»¥ç›´æ¥éå†Path</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;  &quot; + p);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="inputstream">InputStream<a href="#inputstream" class="hash-link" aria-label="InputStreamçš„ç›´æ¥é“¾æ¥" title="InputStreamçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<blockquote>
<p><code>InputStream</code>å¹¶ä¸æ˜¯ä¸€ä¸ªæ¥å£ï¼Œè€Œæ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œå®ƒæ˜¯æ‰€æœ‰è¾“å…¥æµçš„è¶…ç±»ã€‚</p>
</blockquote>
<ul>
<li>read()ï¼šè¿™ä¸ªæ–¹æ³•ä¼šè¯»å–è¾“å…¥æµçš„ä¸‹ä¸€ä¸ªå­—èŠ‚ï¼Œå¹¶è¿”å›å­—èŠ‚è¡¨ç¤ºçš„<code>int</code>å€¼ï¼ˆ0~255ï¼‰ã€‚å¦‚æœå·²è¯»åˆ°æœ«å°¾ï¼Œè¿”å›<code>-1</code>è¡¨ç¤ºä¸èƒ½ç»§ç»­è¯»å–äº†ã€‚</li>
</ul>
<p>å…³é—­æµ</p>
<blockquote>
<p>ç”¨<code>try ... finally</code>æ¥ç¼–å†™ä¼šæ„Ÿè§‰æ¯”è¾ƒå¤æ‚ï¼Œæ›´å¥½çš„å†™æ³•æ˜¯åˆ©ç”¨Java 7å¼•å…¥çš„æ–°çš„<code>try(resource)</code>çš„è¯­æ³•ï¼Œåªéœ€è¦ç¼–å†™<code>try</code>è¯­å¥ï¼Œè®©ç¼–è¯‘å™¨è‡ªåŠ¨ä¸ºæˆ‘ä»¬å…³é—­èµ„æºã€‚</p>
<p>å®é™…ç¼–è¯‘å™¨å¹¶ä¸ä¼šç‰¹åˆ«åœ°ä¸º<code>InputStream</code>åŠ ä¸Šè‡ªåŠ¨å…³é—­ã€‚ç¼–è¯‘å™¨åªçœ‹<code>try(resource = ...)</code>ä¸­çš„å¯¹è±¡æ˜¯å¦å®ç°äº†<code>java.lang.AutoCloseable</code>æ¥å£ï¼Œå¦‚æœå®ç°äº†ï¼Œå°±è‡ªåŠ¨åŠ ä¸Š<code>finally</code>è¯­å¥å¹¶è°ƒç”¨<code>close()</code>æ–¹æ³•ã€‚<code>InputStream</code>å’Œ<code>OutputStream</code>éƒ½å®ç°äº†è¿™ä¸ªæ¥å£ï¼Œå› æ­¤ï¼Œéƒ½å¯ä»¥ç”¨åœ¨<code>try(resource)</code>ä¸­ã€‚</p>
</blockquote>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public void readFile() throws IOException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    try (InputStream input = new FileInputStream(&quot;src/readme.txt&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        int n;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        while ((n = input.read()) != -1) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.println(n);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    } // ç¼–è¯‘å™¨åœ¨æ­¤è‡ªåŠ¨ä¸ºæˆ‘ä»¬å†™å…¥finallyå¹¶è°ƒç”¨close()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ç¼“å†²</p>
<blockquote>
<p>åœ¨è¯»å–æµçš„æ—¶å€™ï¼Œä¸€æ¬¡è¯»å–ä¸€ä¸ªå­—èŠ‚å¹¶ä¸æ˜¯æœ€é«˜æ•ˆçš„æ–¹æ³•ã€‚å¾ˆå¤šæµæ”¯æŒä¸€æ¬¡æ€§è¯»å–å¤šä¸ªå­—èŠ‚åˆ°ç¼“å†²åŒºï¼Œå¯¹äºæ–‡ä»¶å’Œç½‘ç»œæµæ¥è¯´ï¼Œåˆ©ç”¨ç¼“å†²åŒºä¸€æ¬¡æ€§è¯»å–å¤šä¸ªå­—èŠ‚æ•ˆç‡å¾€å¾€è¦é«˜å¾ˆå¤šã€‚</p>
</blockquote>
<ul>
<li><code>int read(byte[] b)</code>ï¼šè¯»å–è‹¥å¹²å­—èŠ‚å¹¶å¡«å……åˆ°<code>byte[]</code>æ•°ç»„ï¼Œè¿”å›è¯»å–çš„å­—èŠ‚æ•°</li>
<li><code>int read(byte[] b, int off, int len)</code>ï¼šæŒ‡å®š<code>byte[]</code>æ•°ç»„çš„åç§»é‡å’Œæœ€å¤§å¡«å……æ•°</li>
</ul>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public void readFile() throws IOException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    try (InputStream input = new FileInputStream(&quot;src/readme.txt&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // å®šä¹‰1000ä¸ªå­—èŠ‚å¤§å°çš„ç¼“å†²åŒº:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        byte[] buffer = new byte[2048];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        int n;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        while ((n = input.read(buffer)) != -1) { // è¯»å–åˆ°ç¼“å†²åŒº</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.println(&quot;read &quot; + n + &quot; bytes.&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="outputstream">OutputStream<a href="#outputstream" class="hash-link" aria-label="OutputStreamçš„ç›´æ¥é“¾æ¥" title="OutputStreamçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<blockquote>
<p>å’Œ<code>InputStream</code>ç±»ä¼¼ï¼Œ<code>OutputStream</code>ä¹Ÿæ˜¯æŠ½è±¡ç±»ï¼Œå®ƒæ˜¯æ‰€æœ‰è¾“å‡ºæµçš„è¶…ç±»ã€‚</p>
</blockquote>
<ul>
<li>write()ï¼šè¿™ä¸ªæ–¹æ³•ä¼šå†™å…¥ä¸€ä¸ªå­—èŠ‚åˆ°è¾“å‡ºæµã€‚è™½ç„¶ä¼ å…¥çš„æ˜¯<code>int</code>å‚æ•°ï¼Œä½†åªä¼šå†™å…¥ä¸€ä¸ªå­—èŠ‚ï¼Œå³åªå†™å…¥<code>int</code>æœ€ä½8ä½è¡¨ç¤ºå­—èŠ‚çš„éƒ¨åˆ†ï¼ˆç›¸å½“äº<code>b &amp; 0xff</code>ï¼‰ã€‚</li>
</ul>
<p>å…³é—­æµ</p>
<blockquote>
<p>å’Œ<code>InputStream</code>ç±»ä¼¼ï¼Œ<code>OutputStream</code>ä¹Ÿæä¾›äº†<code>close()</code>æ–¹æ³•å…³é—­è¾“å‡ºæµï¼Œä»¥ä¾¿é‡Šæ”¾ç³»ç»Ÿèµ„æºã€‚</p>
<p>æ³¨æ„ï¼š<code>OutputStream</code>è¿˜æä¾›äº†ä¸€ä¸ª<code>flush()</code>æ–¹æ³•ï¼Œå®ƒçš„ç›®çš„æ˜¯å°†ç¼“å†²åŒºçš„å†…å®¹çœŸæ­£è¾“å‡ºåˆ°ç›®çš„åœ°ã€‚å¯¹äºå¾ˆå¤šIOè®¾å¤‡æ¥è¯´ï¼Œä¸€æ¬¡å†™ä¸€ä¸ªå­—èŠ‚å’Œä¸€æ¬¡å†™1000ä¸ªå­—èŠ‚ï¼ŒèŠ±è´¹çš„æ—¶é—´å‡ ä¹æ˜¯å®Œå…¨ä¸€æ ·çš„ï¼Œæ‰€ä»¥æœ‰ä¸ª<code>flush()</code>æ–¹æ³•ï¼Œèƒ½å¼ºåˆ¶æŠŠç¼“å†²åŒºï¼ˆbyte[]ï¼‰å†…å®¹è¾“å‡ºã€‚</p>
<p>é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¸éœ€è¦è°ƒç”¨è¿™ä¸ª<code>flush()</code>æ–¹æ³•ï¼Œå› ä¸ºç¼“å†²åŒºå†™æ»¡äº†<code>OutputStream</code>ä¼šè‡ªåŠ¨è°ƒç”¨å®ƒï¼Œå¹¶ä¸”ï¼Œåœ¨è°ƒç”¨<code>close()</code>æ–¹æ³•å…³é—­<code>OutputStream</code>ä¹‹å‰ï¼Œä¹Ÿä¼šè‡ªåŠ¨è°ƒç”¨<code>flush()</code>æ–¹æ³•ã€‚</p>
</blockquote>
<p>ç¼“å†²</p>
<ul>
<li><code>void write(byte[])</code>ï¼šä¸€æ¬¡æ€§å†™å…¥è‹¥å¹²å­—èŠ‚</li>
<li><code>void write(buffer, 0, bytesRead)</code>ï¼šå°†ç¼“å†²åŒºä¸­çš„æ•°æ®å†™å…¥ç›®æ ‡æ–‡ä»¶ã€‚<code>write</code> æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç¼“å†²åŒºæ•°ç»„ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯èµ·å§‹ä½ç½®ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯å†™å…¥çš„å­—èŠ‚æ•°ã€‚</li>
</ul>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public void writeFile() throws IOException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    try (OutputStream output = new FileOutputStream(&quot;out/readme.txt&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        output.write(&quot;Hello&quot;.getBytes(&quot;UTF-8&quot;)); // Hello</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    } // ç¼–è¯‘å™¨åœ¨æ­¤è‡ªåŠ¨ä¸ºæˆ‘ä»¬å†™å…¥finallyå¹¶è°ƒç”¨close()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="filteræ¨¡å¼">Filteræ¨¡å¼<a href="#filteræ¨¡å¼" class="hash-link" aria-label="Filteræ¨¡å¼çš„ç›´æ¥é“¾æ¥" title="Filteræ¨¡å¼çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<blockquote>
<p>é€šè¿‡ä¸€ä¸ªâ€œåŸºç¡€â€ç»„ä»¶å†å åŠ å„ç§â€œé™„åŠ â€åŠŸèƒ½ç»„ä»¶çš„æ¨¡å¼ï¼Œç§°ä¹‹ä¸ºFilteræ¨¡å¼ï¼ˆæˆ–è€…è£…é¥°å™¨æ¨¡å¼ï¼šDecoratorï¼‰</p>
</blockquote>
<p>Javaçš„IOæ ‡å‡†åº“ä½¿ç”¨Filteræ¨¡å¼ä¸º<code>InputStream</code>å’Œ<code>OutputStream</code>å¢åŠ åŠŸèƒ½ï¼š</p>
<ul>
<li>å¯ä»¥æŠŠä¸€ä¸ª<code>InputStream</code>å’Œä»»æ„ä¸ª<code>FilterInputStream</code>ç»„åˆï¼›</li>
<li>å¯ä»¥æŠŠä¸€ä¸ª<code>OutputStream</code>å’Œä»»æ„ä¸ª<code>FilterOutputStream</code>ç»„åˆã€‚</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="zip">Zip<a href="#zip" class="hash-link" aria-label="Zipçš„ç›´æ¥é“¾æ¥" title="Zipçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>è¯»å–zipåŒ…</p>
<blockquote>
<p>æˆ‘ä»¬è¦åˆ›å»ºä¸€ä¸ª<code>ZipInputStream</code>ï¼Œé€šå¸¸æ˜¯ä¼ å…¥ä¸€ä¸ª<code>FileInputStream</code>ä½œä¸ºæ•°æ®æºï¼Œç„¶åï¼Œå¾ªç¯è°ƒç”¨<code>getNextEntry()</code>ï¼Œç›´åˆ°è¿”å›<code>null</code>ï¼Œè¡¨ç¤ºzipæµç»“æŸã€‚</p>
<p>ä¸€ä¸ª<code>ZipEntry</code>è¡¨ç¤ºä¸€ä¸ªå‹ç¼©æ–‡ä»¶æˆ–ç›®å½•ï¼Œå¦‚æœæ˜¯å‹ç¼©æ–‡ä»¶ï¼Œæˆ‘ä»¬å°±ç”¨<code>read()</code>æ–¹æ³•ä¸æ–­è¯»å–ï¼Œç›´åˆ°è¿”å›<code>-1</code>ï¼š</p>
</blockquote>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">try (ZipInputStream zip = new ZipInputStream(new FileInputStream(...))) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ZipEntry entry = null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    while ((entry = zip.getNextEntry()) != null) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String name = entry.getName();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (!entry.isDirectory()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            int n;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            while ((n = zip.read()) != -1) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>å†™å…¥zipåŒ…</p>
<blockquote>
<p><code>ZipOutputStream</code>æ˜¯ä¸€ç§<code>FilterOutputStream</code>ï¼Œå®ƒå¯ä»¥ç›´æ¥å†™å…¥å†…å®¹åˆ°zipåŒ…ã€‚æˆ‘ä»¬è¦å…ˆåˆ›å»ºä¸€ä¸ª<code>ZipOutputStream</code>ï¼Œé€šå¸¸æ˜¯åŒ…è£…ä¸€ä¸ª<code>FileOutputStream</code>ï¼Œç„¶åï¼Œæ¯å†™å…¥ä¸€ä¸ªæ–‡ä»¶å‰ï¼Œå…ˆè°ƒç”¨<code>putNextEntry()</code>ï¼Œç„¶åç”¨<code>write()</code>å†™å…¥<code>byte[]</code>æ•°æ®ï¼Œå†™å…¥å®Œæ¯•åè°ƒç”¨<code>closeEntry()</code>ç»“æŸè¿™ä¸ªæ–‡ä»¶çš„æ‰“åŒ…ã€‚</p>
<p>ä¸‹é¢çš„ä»£ç æ²¡æœ‰è€ƒè™‘æ–‡ä»¶çš„ç›®å½•ç»“æ„ã€‚å¦‚æœè¦å®ç°ç›®å½•å±‚æ¬¡ç»“æ„ï¼Œ<code>new ZipEntry(name)</code>ä¼ å…¥çš„<code>name</code>è¦ç”¨ç›¸å¯¹è·¯å¾„ã€‚</p>
</blockquote>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">try (ZipOutputStream zip = new ZipOutputStream(new FileOutputStream(...))) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    File[] files = ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    for (File file : files) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        zip.putNextEntry(new ZipEntry(file.getName()));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        zip.write(Files.readAllBytes(file.toPath()));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        zip.closeEntry();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAT0AAAKoCAIAAACKur+nAAARgklEQVR4nO3dS3LqWrqF0XTGbgtVOkDz3QFX3RPblVMgglDoxdIDsebSGJGV6y1LQuLjlwyH+/Hz+/c/IMr/370DwGK6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTz/tvzy5Xrbb08g3vfX5zEbMm8hz6Z5e3fYawxU6+BrT/MW8ugW8ugW8ugW8ugW8ugW8ugW8ugW8ugW8ugW8ugW8ugW8ugW8ugW8ugW8ugW8ugW8ugW8uzwPTWJpr5VJO47d3oPJG7/Wce8rdTlenv6lUXDBaZ+pWRtBDnpvH3MpfuzOXFMDff8/pPL9Zb4cFjEvG2HXM/jpPO20GOmdS8yh3ksXWzmh72r2aW3r6MrL1lb4UNYtFfzi/W2eP/X3Mufg5m3z80/+5cuVrOSh1B4U710se4deOKhO5h5+9xwLhUutuJWs/zG+z6p5hdbcRvfexS9hzB1U91TuNjomBVtCfN2mcLn1jFXet0sd/mL8YrdHj0g31+fvVXNH7fuwi6SS+g2W68Qw+okXCe3oDvNdnwfqPAPTquXYTXzth31XGGK9tXMWxabf4F4RDv/phRbmLepKv/oYj3Dv0m63U23osKi2viYwegrSAPvZtfspNfJU8+qjQnNf0Ko+47rU6ML994vGV3b6EN4urZCJRt9fARKq69j3u5m9B3L+WWefrJi0RY3rq1QyUaHhyL9mqI2Hz+/f6t/uY3LvO0cBw5+Dpi3kEe3kEe3kOekf0/elztbDmbeQh7dQh7dQh7dQh7dQh7dQh7dQh7dQh7dQh7dQh7dQh7dQh7dQh7dQh7dQp4d/vtbX9sHBzNvIc+m73ME3sK8hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6bYGvwj0b3UIe3cYzbE9It41Q76noNptcz0m37dDweeg22DBU6Z6EbiGPblNNjVYj9wx0C3l0G2l+qBq5zdMt5NFtnpJxauS2zf+/echj3kIe3UIe3UIe3UIe3UIe3ca7XG/e9Tkb3UIe3UIe3UIe3UIe3UIe3UIe3UIe3UIe3UIe3UIe3UIe3UIe3UIe3UIe3UIe3UIe3UIe3UIe3UIe3UIe3UIe3UIe3UIe3UIe3UIe3UIe3UIe3UIe3UIe3UIe3UKej5/fv3fvA7CMeQt5dAt5dAt5dAt5dAt5dAt5dAt5dAt5dAt5dAt5/m355cv1tt+eQLzvr89jNmTeQp5N8/busNcYqNbB157mLeTRLeTRLeTRLeTRLeTRLeTRLeTRLeTRLeTRLeTRLeTRLeTRLeTRLeTRLeTRLeTRLeTRLeSJ7PZyvflKOs5sh++X2mimwNFvrppZfvhPVX331dSeV7WTJXoPJG7/GxA5b/dibveUHJDhAlO/4vC+zvvn7V35a/bMkt1/qvAZ89i9+74ljqnhnt9/crneEh9OrlPPW7aT61vUMm+f2vHetbeqp3drhQt8f312l9y4e0/XtnSxmR8uPSA9oysvWdui41a4V/OL9bZ4/9fEyx/z9olFt3Mli63b7jEbfYuSh1B4FpYu1r0Dzzp0MfN2x3vX8vvMqdu5wp3cctdXuNFdbjXLD8h9Us0vtuI2fv64FZ6F8pM1HLNZ0VY0b+9nq/u/d+/RuJnT/LoLrcLn1jFXet0sdzlTK3Z79IB8f332VjV/3LoLZ10kV9QtQXqFVPsi27BarpNrfsFb97ys+RHtojvNdnwfqPAPTquXaYN5yyb1vDydJ9qK5m3N6nlqntn8WXhEO/+mVDPMWxao+U+Gp3qF1e1iVT13u3tSuFeJHzMYGj0LDbybXSjmOnn+JK379Ez33cjRZUYXWP2kn3pWbUxoxWOcsu8Bebq2QiUbfXwEquFWu5qdt4XPj6Uf4qttUo2+Yzm/TPl/m1G4wJa1FSrZ6PBQVHWm9vXx8/u3+pfbuOIK5eBX5eDT0ey8hYbpFvLoFvLE/D2ZHne2Z2beQh7dQh7dQh7dQh7dQh7dQh7dQh7dQh7dQh7dQh7dQh7dQh7dQh7dQp4d/ju+k3wTF9TDvIU8m74XDngL8xby6Bby6Bby6Bby6Bby6Bby6Bby6Bby6Bby6Bby6Bby6Bby6Bby6Bby6Bby6Bby6Bby6Bby6Bby6Bby6Bby6LYFvsL6bHQLeXQbz7A9Id02Qr2nottscj0n3bZDw+eh22DDUKV7ErqFPLpNNTVajdwz0C3k0W2k+aFq5DZPt5BHt3lKxqmR27aPn9+/d+8DsIx5C3l0C3l0C3l0C3l0G+9yvfnr8dnoFvLoFvLoFvLoFvLoFvLoFvLoFvLoFvLoFvLoFvLoFvLoFvLoFvLoFvLoFvLoFvLoFvLoFvLoFvLoFvLoFvLoFvLoFvLoFvLoFvLoFvLoFvLoFvLoFvLoFvLoFvJ8/Pz+vXsfgGXMW8ijW8ijW8ijW8ijW8ijW8ijW8ijW8ijW8ijW8ijW8jzb8svX663/fYE4n1/fR6zIfMW8myat3eHvcZAtQ6+9jRvIY9uIY9uIY9uIY9uIY9uIY9uIY9uIY9uIY9uIY9uIY9uIY9uIY9uIY9uIY9uIY9uIY9uIc8O31MzZeqbO7Z/r01vzY8VDreY+B06rztuB5s6TWyXN2+P/xLJy/Xmmyu7Sg7IcIGpX3F4V3jhvO2NwX1fbkfX1v1h7lPhpcftGMM9v//kcr0lPpwK5c1bEsl1Xy+ct4Uer83dCXnMaZ6/Aev969O7tcIF9nqkhWtbutjMD5cekJ7Vh3fRcSvcq5JT/9ji/V+ruvypZd7On8X7LVD3Rmj4k41b3Hhpveh2bq+Nlq9t342+RclDKDwLSxfrPfEW7vhLvH/e3h18azp1Aza6S09faEvWNrrmx3Ni9at44UZ3udUsPyD3STW/2Irb+PnjVngWyk/WcMxWEm1F87ZreIy+vz4f/5v6ydJN9H5x3xMzs7bXXWgVPoRjrvS6We7yF+MVuz16QJae+u7ClVwkV9otbegVUs+wakAt18nH2/1ptG6F9byEv0h3mu34PlDhH5xWL1O5k87bBs5clnpento49Wect48zN//OxFL1PDXPbP4svOjUH++k81ZmL1X5RxcbOPXn7fbVb2lW9dzt7knhXlX1MYPVRs9CA+9mH/ffA01dorzU6MdiHp+DKTxh3Xcje6uaWWD1I33RcZv/hNDUQxi17wF5urZCJRtdeuqr1ey8nT/xw2ftouVLFqhqUo2+Yzm/zNNPViza4sa1FSrZ6NJTX6ePn9+/1b/cxqVU25yjYxx8nJudt9Aw3UIe3UKeM37u4lTc2TbJvIU8uoU8uoU8uoU8uoU8uoU8uoU8uoU8uoU8uoU8uoU8uoU8uoU8uoU8uoU8O/z3t+lfjQdxzFvIs+n7HIG3MG8hj24hj24hj24hj24hj24hj24hj24hj24hj24hj24hj24hj24hj24hj24hj24hj24hj24hj24hj24hj25b4Ktwz0a3kEe38QzbE9JtI9R7KrrNJtdz0m07NHweug02DFW6J6FbyKPbVFOj1cg9A91CHt1Gmh+qRm7zdAt5dJunZJwauW3z/28e8pi3kEe3kEe3kEe3kEe3kEe38S7Xm3d9zka3kEe3kEe3kEe3kEe3kEe3kEe3kEe3kEe3kEe3kEe3kEe3kEe3kEe3kEe3kEe3kEe3kEe3kEe3kEe3kEe3kEe3kEe3kEe3kEe3kEe3kEe3kEe3kEe3kEe3kEe3kOfj5/fv3fsALGPeQh7dQh7dQh7dQh7dQh7dQh7dQh7dQh7dQh7dQp5/W375cr3ttycQ7/vr85gNmbeQZ9O8vTvsNQaqdfC1p3kLeXQLeXQLeXQLeXQLeXQLeXQLeXQLeXQLeXQLeXQLeXQLeXQLeXQLeXQLeXQLeXQLeXQLeVru9nK9+eY6mrTD90sdY6bA0S+42qXYqZXEfaVW74HE7T89Lc/bMyi5phguMPUrrlBSxMzb4Yi4P8OmRscuI+Wxkvlt1Wy45/efXK63xIfDnXl7OnJtQMy87ZkagMPLvJm73++vz+7yq5/QhWtbutjMD3sPc+nt6+jKS9a26LgV7tX8Yr0t3v819/JnL6eet/PP1xetbd+NvkXJQyi8qV66WPcOPPHQ7SVy3s683A6Hw4x97/oKN73LRstvvO+TqvBvAeVzrPcoeg9h6qa6p3Cx0TF75mgj5+2LTti+F12Fz61jrvS6We7yF+MVuz16QL6/Pnurmj9u3YXPfJEc2e3dyU/bUr1CTj6sGhB2newPElt0p9mO7wMV/sFp9TIMpc5bVqvnVU+0qyXNW8M2y/yZekQ7/6YUo8zbxlX+0UWvwuvEdPuKYdt9Qh/25F6x0TYuNEZfQRp4N/stkq6Tp87r/F9KSz6cNLXA1LNqY0LzG+2+4/rU6MK990tG1zb17vf82gqVbPTxESitrhAzb19h9M3DGjY6/OH8JysWbXHj2gqVbHR4KNKvKQ7z8fP7t/qXc6/f3rLnuYeLpw4+uaeetxBKt5BHt5An7O/Je3nLTaY7W/Zi3kIe3UIe3UIe3UIe3UIe3UIe3UIe3UIe3UIe3UIe3UIe3UIe3UIe3UKeHf47Pt/rBQczbyHPpu+FA97CvIU8uoU8uoU8uoU8uoU8uoU8uoU8uoU8uoU8uoU8uoU8uoU8uoU8uoU8uoU8uoU8uoU8uoU8uoU8uoU8uoU8um2Br7A+G91CHt3GM2xPSLeNUO+p6DabXM9Jt+3Q8HnoNtgwVOmehG4hj25TTY1WI/cMdAt5dBtpfqgauc3TLeTRbZ6ScWrktu3j5/fv3fsALGPeQh7dQh7dQh7dQh7dxrtcb/56fDa6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTy6hTwfP79/794HYBnzFvLoFvLoFvLoFvLoFvLoFvLoFvLoFvLoFvLoFvLoFvL82/LLl+ttvz2BeN9fn8dsyLyFPJvm7d1hrzFQrYOvPc1byKNbyKNbyKNbyKNbyKNbyKNbyKNbyKNbyKNbyKNbyKNbyKNbyKNbyKNbyKNbyKNbyKNbyLPD99QcafhtIC/9lpypLx+J+2qe3gOJ2396zNtsl+vt6TcbDReY+pWStVGDsHnbHRQHPMMem7tvK3FMDff8/pPL9Zb4cLgzb09Hrg0Im7eFnt7OPaZQd8nVT+jCtS1dbOaHvQe49PZ1dOUla1t03Ar3an6x3hbv/5p7+bOXBuftotu5ksXWbfeYjb5FyUMoPAtLF+vegSceur20Nm+nbuem9JbcctdXuNFdbjXLb7zvk2p+sRW38fPHrfAslJ+s4Zg9c7QNztvvr8/e027mNL/uQqvwuXXMlV43y13+Yrxit0cPyKKT1dvumS+SG+yWUb1CTj6sGtDadfKWJ2XzL+Hdabbj+0CFf3BavQxDrc1bz4On6nl5crJWy5i3hX8veTwP5t/n4Bjz58vJ2qK1eVvVPKlB5R9ddLLWSeq28PlX+Ruk3f1Z9IjSn+KjryCVn6xqZVwnPz4uM//ZmqnFVpt6Vm1MqORRFD6E0YV775eMrm30ITxdW6GSje5+sk4lZt4Onz1Tz7ze/1nbmBp9x3J+maefrFi0xY1rK1Sy0fpPVrU+fn7/Vv9yG9dvh3G4GnbwyY2Zt8CDbiGPbiFPxt+T2+DOlr2Yt5BHt5BHt5BHt5BHt5BHt5BHt5BHt5BHt5BHt5BHt5BHt5BHt5BHt5BHt5Bnh//+1vfxwcHMW8iz6fscgbcwbyGPbiGPbiGPbiGPbiGPbiGPbiGPbiGPbiGPbiGPbiGPbiGPbiGPbiGPbiGPbiGPbiGPbiGPbiGPbiHPfwMVVAKFpWlpAAAAAElFTkSuQmCC" alt="JAVA-InputStream" width="50%">
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="è¯»å–classpath">è¯»å–classpath<a href="#è¯»å–classpath" class="hash-link" aria-label="è¯»å–classpathçš„ç›´æ¥é“¾æ¥" title="è¯»å–classpathçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<blockquote>
<p>ä»classpathè¯»å–æ–‡ä»¶å°±å¯ä»¥é¿å…ä¸åŒç¯å¢ƒä¸‹æ–‡ä»¶è·¯å¾„ä¸ä¸€è‡´çš„é—®é¢˜ï¼šå¦‚æœæˆ‘ä»¬æŠŠ<code>default.properties</code>æ–‡ä»¶æ”¾åˆ°classpathä¸­ï¼Œå°±ä¸ç”¨å…³å¿ƒå®ƒçš„å®é™…å­˜æ”¾è·¯å¾„ã€‚</p>
<p>åœ¨classpathä¸­çš„èµ„æºæ–‡ä»¶ï¼Œè·¯å¾„æ€»æ˜¯ä»¥<code>ï¼</code>å¼€å¤´ï¼Œæˆ‘ä»¬å…ˆè·å–å½“å‰çš„<code>Class</code>å¯¹è±¡ï¼Œç„¶åè°ƒç”¨<code>getResourceAsStream()</code>å°±å¯ä»¥ç›´æ¥ä»classpathè¯»å–ä»»æ„çš„èµ„æºæ–‡ä»¶ï¼š</p>
</blockquote>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">try (InputStream input = getClass().getResourceAsStream(&quot;/default.properties&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (input != null) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // TODO:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>å¦‚æœæˆ‘ä»¬æŠŠé»˜è®¤çš„é…ç½®æ”¾åˆ°jaråŒ…ä¸­ï¼Œå†ä»å¤–éƒ¨æ–‡ä»¶ç³»ç»Ÿè¯»å–ä¸€ä¸ªå¯é€‰çš„é…ç½®æ–‡ä»¶ï¼Œå°±å¯ä»¥åšåˆ°æ—¢æœ‰é»˜è®¤çš„é…ç½®æ–‡ä»¶ï¼Œåˆå¯ä»¥è®©ç”¨æˆ·è‡ªå·±ä¿®æ”¹é…ç½®ï¼š</p>
</blockquote>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Properties props = new Properties();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">props.load(Files.newInputStream(Paths.get(&quot;/default.properties&quot;)));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">props.load(Files.newInputStream(Paths.get(&quot;./conf.properties&quot;)));</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="åºåˆ—åŒ–">åºåˆ—åŒ–<a href="#åºåˆ—åŒ–" class="hash-link" aria-label="åºåˆ—åŒ–çš„ç›´æ¥é“¾æ¥" title="åºåˆ—åŒ–çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<blockquote>
<p> åºåˆ—åŒ–æ˜¯æŒ‡æŠŠä¸€ä¸ªJavaå¯¹è±¡å˜æˆäºŒè¿›åˆ¶å†…å®¹ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ª<code>byte[]</code>æ•°ç»„ã€‚</p>
<p>ä¸ºä»€ä¹ˆè¦æŠŠJavaå¯¹è±¡åºåˆ—åŒ–å‘¢ï¼Ÿå› ä¸ºåºåˆ—åŒ–åå¯ä»¥æŠŠ<code>byte[]</code>ä¿å­˜åˆ°æ–‡ä»¶ä¸­ï¼Œæˆ–è€…æŠŠ<code>byte[]</code>é€šè¿‡ç½‘ç»œä¼ è¾“åˆ°è¿œç¨‹ï¼Œè¿™æ ·ï¼Œå°±ç›¸å½“äºæŠŠJavaå¯¹è±¡å­˜å‚¨åˆ°æ–‡ä»¶æˆ–è€…é€šè¿‡ç½‘ç»œä¼ è¾“å‡ºå»äº†ã€‚</p>
<p>æœ‰åºåˆ—åŒ–ï¼Œå°±æœ‰ååºåˆ—åŒ–ï¼Œå³æŠŠä¸€ä¸ªäºŒè¿›åˆ¶å†…å®¹ï¼ˆä¹Ÿå°±æ˜¯<code>byte[]</code>æ•°ç»„ï¼‰å˜å›Javaå¯¹è±¡ã€‚æœ‰äº†ååºåˆ—åŒ–ï¼Œä¿å­˜åˆ°æ–‡ä»¶ä¸­çš„<code>byte[]</code>æ•°ç»„åˆå¯ä»¥â€œå˜å›â€Javaå¯¹è±¡ï¼Œæˆ–è€…ä»ç½‘ç»œä¸Šè¯»å–<code>byte[]</code>å¹¶æŠŠå®ƒâ€œå˜å›â€Javaå¯¹è±¡ã€‚</p>
<p>ä¸€ä¸ªJavaå¯¹è±¡è¦èƒ½åºåˆ—åŒ–ï¼Œå¿…é¡»å®ç°ä¸€ä¸ªç‰¹æ®Šçš„<code>java.io.Serializable</code>æ¥å£ã€‚</p>
</blockquote>
<p>åºåˆ—åŒ–</p>
<blockquote>
<p>æŠŠä¸€ä¸ªJavaå¯¹è±¡å˜ä¸º<code>byte[]</code>æ•°ç»„ï¼Œéœ€è¦ä½¿ç”¨<code>ObjectOutputStream</code>ã€‚å®ƒè´Ÿè´£æŠŠä¸€ä¸ªJavaå¯¹è±¡å†™å…¥ä¸€ä¸ªå­—èŠ‚æµï¼š</p>
</blockquote>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ByteArrayOutputStream buffer = new ByteArrayOutputStream();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">try (ObjectOutputStream output = new ObjectOutputStream(buffer)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // å†™å…¥int:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    output.writeInt(12345);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // å†™å…¥String:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    output.writeUTF(&quot;Hello&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // å†™å…¥Object:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    output.writeObject(Double.valueOf(123.456));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">System.out.println(Arrays.toString(buffer.toByteArray()));</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ååºåˆ—åŒ–</p>
<blockquote>
<p>å’Œ<code>ObjectOutputStream</code>ç›¸åï¼Œ<code>ObjectInputStream</code>è´Ÿè´£ä»ä¸€ä¸ªå­—èŠ‚æµè¯»å–Javaå¯¹è±¡ï¼š</p>
<p>ååºåˆ—åŒ–æ—¶ï¼Œç”±JVMç›´æ¥æ„é€ å‡ºJavaå¯¹è±¡ï¼Œä¸è°ƒç”¨æ„é€ æ–¹æ³•ã€‚</p>
</blockquote>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">try (ObjectInputStream input = new ObjectInputStream(...)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int n = input.readInt();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    String s = input.readUTF();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Double d = (Double) input.readObject();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>Javaçš„åºåˆ—åŒ–å…è®¸classå®šä¹‰ä¸€ä¸ªç‰¹æ®Šçš„<code>serialVersionUID</code>é™æ€å˜é‡ï¼Œç”¨äºæ ‡è¯†Javaç±»çš„åºåˆ—åŒ–â€œç‰ˆæœ¬â€ï¼Œé€šå¸¸å¯ä»¥ç”±IDEè‡ªåŠ¨ç”Ÿæˆã€‚å¦‚æœå¢åŠ æˆ–ä¿®æ”¹äº†å­—æ®µï¼Œå¯ä»¥æ”¹å˜<code>serialVersionUID</code>çš„å€¼ï¼Œè¿™æ ·å°±èƒ½è‡ªåŠ¨é˜»æ­¢ä¸åŒ¹é…çš„classç‰ˆæœ¬ï¼š</p>
</blockquote>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class Person implements Serializable {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private static final long serialVersionUID = 2709425275741743919L;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>æ³¨æ„</p>
<ul>
<li>åœ¨ Java ä¸­ï¼Œåºåˆ—åŒ–å¯¹è±¡é€šå¸¸ä¿å­˜ä¸º <code>.ser</code> æ‰©å±•åçš„æ–‡ä»¶ã€‚</li>
<li>å› ä¸ºJavaçš„åºåˆ—åŒ–æœºåˆ¶å¯ä»¥å¯¼è‡´ä¸€ä¸ªå®ä¾‹èƒ½ç›´æ¥ä»<code>byte[]</code>æ•°ç»„åˆ›å»ºï¼Œè€Œä¸ç»è¿‡æ„é€ æ–¹æ³•ï¼Œå› æ­¤ï¼Œå®ƒå­˜åœ¨ä¸€å®šçš„å®‰å…¨éšæ‚£ã€‚ä¸€ä¸ªç²¾å¿ƒæ„é€ çš„<code>byte[]</code>æ•°ç»„è¢«ååºåˆ—åŒ–åå¯ä»¥æ‰§è¡Œç‰¹å®šçš„Javaä»£ç ï¼Œä»è€Œå¯¼è‡´ä¸¥é‡çš„å®‰å…¨æ¼æ´ã€‚</li>
<li>å®é™…ä¸Šï¼ŒJavaæœ¬èº«æä¾›çš„åŸºäºå¯¹è±¡çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–æœºåˆ¶æ—¢å­˜åœ¨å®‰å…¨æ€§é—®é¢˜ï¼Œä¹Ÿå­˜åœ¨å…¼å®¹æ€§é—®é¢˜ã€‚æ›´å¥½çš„åºåˆ—åŒ–æ–¹æ³•æ˜¯é€šè¿‡JSONè¿™æ ·çš„é€šç”¨æ•°æ®ç»“æ„æ¥å®ç°ï¼Œåªè¾“å‡ºåŸºæœ¬ç±»å‹ï¼ˆåŒ…æ‹¬Stringï¼‰çš„å†…å®¹ï¼Œè€Œä¸å­˜å‚¨ä»»ä½•ä¸ä»£ç ç›¸å…³çš„ä¿¡æ¯ã€‚</li>
<li>Javaçš„åºåˆ—åŒ–æœºåˆ¶ä»…é€‚ç”¨äºJavaï¼Œå¦‚æœéœ€è¦ä¸å…¶å®ƒè¯­è¨€äº¤æ¢æ•°æ®ï¼Œå¿…é¡»ä½¿ç”¨é€šç”¨çš„åºåˆ—åŒ–æ–¹æ³•ï¼Œä¾‹å¦‚JSONã€‚</li>
<li>åœ¨åºåˆ—åŒ–è¿‡ç¨‹ä¸­ï¼Œæ„é€ å‡½æ•°ä¸ä¼šè¢«è°ƒç”¨ã€‚åºåˆ—åŒ–æ˜¯ç›´æ¥å°†å¯¹è±¡çš„å­—æ®µçŠ¶æ€å†™å…¥å­—èŠ‚æµï¼Œè€Œä¸éœ€è¦é€šè¿‡æ„é€ å‡½æ•°æ¥åˆ›å»ºå¯¹è±¡ã€‚è¿™æ„å‘³ç€å¯¹è±¡çš„æ„é€ é€»è¾‘ä¸ä¼šå‚ä¸åºåˆ—åŒ–ã€‚</li>
<li>åœ¨ååºåˆ—åŒ–è¿‡ç¨‹ä¸­ï¼Œå¯¹è±¡çš„æ„é€ å‡½æ•°åŒæ ·ä¸ä¼šè¢«è°ƒç”¨ã€‚Java çš„ååºåˆ—åŒ–æœºåˆ¶é€šè¿‡åå°„åˆ›å»ºå¯¹è±¡å®ä¾‹ï¼Œå¹¶ç›´æ¥ä»å­—èŠ‚æµä¸­æ¢å¤å¯¹è±¡çš„å­—æ®µçŠ¶æ€ï¼Œè€Œä¸ç»è¿‡æ„é€ å‡½æ•°ã€‚</li>
<li><strong>ç»§æ‰¿å±‚æ¬¡ä¸­çš„éå¯åºåˆ—åŒ–çˆ¶ç±»</strong>ï¼šå¦‚æœä¸€ä¸ªç±»å®ç°äº† <code>Serializable</code> æ¥å£ï¼Œä½†å®ƒçš„çˆ¶ç±»æ²¡æœ‰å®ç° <code>Serializable</code> æ¥å£ï¼Œé‚£ä¹ˆåœ¨ååºåˆ—åŒ–è¿‡ç¨‹ä¸­ï¼Œä¼šè°ƒç”¨è¯¥éå¯åºåˆ—åŒ–çˆ¶ç±»çš„æ— å‚æ„é€ å‡½æ•°ã€‚å¦‚æœè¯¥çˆ¶ç±»æ²¡æœ‰æ— å‚æ„é€ å‡½æ•°ï¼Œåˆ™ä¼šæŠ›å‡º <code>InvalidClassException</code>ã€‚</li>
<li><strong>è‡ªå®šä¹‰ååºåˆ—åŒ–</strong>ï¼šå¦‚æœä¸€ä¸ªç±»å®šä¹‰äº† <code>private void readObject(ObjectInputStream ois) throws IOException, ClassNotFoundException</code> æ–¹æ³•ï¼Œåˆ™å¯ä»¥åœ¨ååºåˆ—åŒ–è¿‡ç¨‹ä¸­æ‰§è¡Œè‡ªå®šä¹‰é€»è¾‘ï¼ŒåŒ…æ‹¬è°ƒç”¨æ„é€ å‡½æ•°æˆ–è€…åˆå§‹åŒ–å¯¹è±¡çŠ¶æ€ã€‚</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="reader">Reader<a href="#reader" class="hash-link" aria-label="Readerçš„ç›´æ¥é“¾æ¥" title="Readerçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<blockquote>
<p><code>Reader</code>æ˜¯Javaçš„IOåº“æä¾›çš„å¦ä¸€ä¸ªè¾“å…¥æµæ¥å£ã€‚å’Œ<code>InputStream</code>çš„åŒºåˆ«æ˜¯ï¼Œ<code>InputStream</code>æ˜¯ä¸€ä¸ªå­—èŠ‚æµï¼Œå³ä»¥<code>byte</code>ä¸ºå•ä½è¯»å–ï¼Œè€Œ<code>Reader</code>æ˜¯ä¸€ä¸ªå­—ç¬¦æµï¼Œå³ä»¥<code>char</code>ä¸ºå•ä½è¯»å–ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬è¯»å–ä¸€ä¸ªçº¯ASCIIç¼–ç çš„æ–‡æœ¬æ–‡ä»¶ï¼Œä¸Šè¿°ä»£ç å·¥ä½œæ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚ä½†å¦‚æœæ–‡ä»¶ä¸­åŒ…å«ä¸­æ–‡ï¼Œå°±ä¼šå‡ºç°ä¹±ç ï¼Œå› ä¸º<code>FileReader</code>é»˜è®¤çš„ç¼–ç ä¸ç³»ç»Ÿç›¸å…³ã€‚è¦é¿å…ä¹±ç é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦åœ¨åˆ›å»º<code>FileReader</code>æ—¶æŒ‡å®šç¼–ç ã€‚</p>
</blockquote>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">try (Reader reader = new FileReader(&quot;src/readme.txt&quot;, StandardCharsets.UTF_8)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // TODO</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>InputStreamReader</p>
<ul>
<li>
<p>é™¤äº†ç‰¹æ®Šçš„<code>CharArrayReader</code>å’Œ<code>StringReader</code>ï¼Œæ™®é€šçš„<code>Reader</code>å®é™…ä¸Šæ˜¯åŸºäº<code>InputStream</code>æ„é€ çš„ï¼Œå› ä¸º<code>Reader</code>éœ€è¦ä»<code>InputStream</code>ä¸­è¯»å…¥å­—èŠ‚æµï¼ˆ<code>byte</code>ï¼‰ï¼Œç„¶åï¼Œæ ¹æ®ç¼–ç è®¾ç½®ï¼Œå†è½¬æ¢ä¸º<code>char</code>å°±å¯ä»¥å®ç°å­—ç¬¦æµã€‚å¦‚æœæˆ‘ä»¬æŸ¥çœ‹<code>FileReader</code>çš„æºç ï¼Œå®ƒåœ¨å†…éƒ¨å®é™…ä¸ŠæŒæœ‰ä¸€ä¸ª<code>FileInputStream</code>ã€‚</p>
</li>
<li>
<p>æ—¢ç„¶<code>Reader</code>æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªåŸºäº<code>InputStream</code>çš„<code>byte</code>åˆ°<code>char</code>çš„è½¬æ¢å™¨ï¼Œé‚£ä¹ˆï¼Œå¦‚æœæˆ‘ä»¬å·²ç»æœ‰ä¸€ä¸ª<code>InputStream</code>ï¼Œæƒ³æŠŠå®ƒè½¬æ¢ä¸º<code>Reader</code>ï¼Œæ˜¯å®Œå…¨å¯è¡Œçš„ã€‚<code>InputStreamReader</code>å°±æ˜¯è¿™æ ·ä¸€ä¸ªè½¬æ¢å™¨ï¼Œå®ƒå¯ä»¥æŠŠä»»ä½•<code>InputStream</code>è½¬æ¢ä¸º<code>Reader</code>ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
</li>
</ul>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// æŒæœ‰InputStream:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">InputStream input = new FileInputStream(&quot;src/readme.txt&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// å˜æ¢ä¸ºReader:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Reader reader = new InputStreamReader(input, &quot;UTF-8&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">try (Reader reader = new InputStreamReader(new FileInputStream(&quot;src/readme.txt&quot;), &quot;UTF-8&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // TODO:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="writer">Writer<a href="#writer" class="hash-link" aria-label="Writerçš„ç›´æ¥é“¾æ¥" title="Writerçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">try (Writer writer = new FileWriter(&quot;readme.txt&quot;, StandardCharsets.UTF_8)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    writer.write(&#x27;H&#x27;); // å†™å…¥å•ä¸ªå­—ç¬¦</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    writer.write(&quot;Hello&quot;.toCharArray()); // å†™å…¥char[]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    writer.write(&quot;Hello&quot;); // å†™å…¥String</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>OutputStreamWriter</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">try (Writer writer = new OutputStreamWriter(new FileOutputStream(&quot;readme.txt&quot;), &quot;UTF-8&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // TODO:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>æç¤º</div><div class="admonitionContent_BuS1"><p>å¦‚æœä½ è¯»å–çš„æ˜¯å­—èŠ‚æµæ–‡ä»¶ï¼Œå¦‚pdfï¼Œå›¾ç‰‡ç­‰ï¼Œä½¿ç”¨InputStreamå’ŒOutputStreamï¼›</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="printstreamå’Œprintwriter">PrintStreamå’ŒPrintWriter<a href="#printstreamå’Œprintwriter" class="hash-link" aria-label="PrintStreamå’ŒPrintWriterçš„ç›´æ¥é“¾æ¥" title="PrintStreamå’ŒPrintWriterçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<blockquote>
<p><code>PrintStream</code>æ˜¯ä¸€ç§<code>FilterOutputStream</code>ï¼Œå®ƒåœ¨<code>OutputStream</code>çš„æ¥å£ä¸Šï¼Œé¢å¤–æä¾›äº†ä¸€äº›å†™å…¥å„ç§æ•°æ®ç±»å‹çš„æ–¹æ³•ï¼š</p>
</blockquote>
<ul>
<li>å†™å…¥<code>int</code>ï¼š<code>print(int)</code></li>
<li>å†™å…¥<code>boolean</code>ï¼š<code>print(boolean)</code></li>
<li>å†™å…¥<code>String</code>ï¼š<code>print(String)</code></li>
<li>å†™å…¥<code>Object</code>ï¼š<code>print(Object)</code>ï¼Œå®é™…ä¸Šç›¸å½“äº<code>print(object.toString())</code></li>
<li>ä»¥åŠå¯¹åº”çš„ä¸€ç»„<code>println()</code>æ–¹æ³•ï¼Œå®ƒä¼šè‡ªåŠ¨åŠ ä¸Šæ¢è¡Œç¬¦ã€‚</li>
</ul>
<p>æˆ‘ä»¬ç»å¸¸ä½¿ç”¨çš„<code>System.out.println()</code>å®é™…ä¸Šå°±æ˜¯ä½¿ç”¨<code>PrintStream</code>æ‰“å°å„ç§æ•°æ®ã€‚å…¶ä¸­ï¼Œ<code>System.out</code>æ˜¯ç³»ç»Ÿé»˜è®¤æä¾›çš„<code>PrintStream</code>ï¼Œè¡¨ç¤ºæ ‡å‡†è¾“å‡ºï¼š</p>
<p><code>System.err</code>æ˜¯ç³»ç»Ÿé»˜è®¤æä¾›çš„æ ‡å‡†é”™è¯¯è¾“å‡ºã€‚</p>
<p><code>PrintStream</code>å’Œ<code>OutputStream</code>ç›¸æ¯”ï¼Œé™¤äº†æ·»åŠ äº†ä¸€ç»„<code>print()</code>/<code>println()</code>æ–¹æ³•ï¼Œå¯ä»¥æ‰“å°å„ç§æ•°æ®ç±»å‹ï¼Œæ¯”è¾ƒæ–¹ä¾¿å¤–ï¼Œå®ƒè¿˜æœ‰ä¸€ä¸ªé¢å¤–çš„ä¼˜ç‚¹ï¼Œå°±æ˜¯ä¸ä¼šæŠ›å‡º<code>IOException</code>ï¼Œè¿™æ ·æˆ‘ä»¬åœ¨ç¼–å†™ä»£ç çš„æ—¶å€™ï¼Œå°±ä¸å¿…æ•è·<code>IOException</code>ã€‚</p>
<p>PrintWriter</p>
<blockquote>
<p><code>PrintStream</code>æœ€ç»ˆè¾“å‡ºçš„æ€»æ˜¯byteæ•°æ®ï¼Œè€Œ<code>PrintWriter</code>åˆ™æ˜¯æ‰©å±•äº†<code>Writer</code>æ¥å£ï¼Œå®ƒçš„<code>print()</code>/<code>println()</code>æ–¹æ³•æœ€ç»ˆè¾“å‡ºçš„æ˜¯<code>char</code>æ•°æ®ã€‚ä¸¤è€…çš„ä½¿ç”¨æ–¹æ³•å‡ ä¹æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ï¼š</p>
</blockquote>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">StringWriter buffer = new StringWriter();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">try (PrintWriter pw = new PrintWriter(buffer)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pw.println(&quot;Hello&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pw.println(12345);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pw.println(true);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">System.out.println(buffer.toString());</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="files">Files<a href="#files" class="hash-link" aria-label="Filesçš„ç›´æ¥é“¾æ¥" title="Filesçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>Java 7å¼€å§‹ï¼Œæä¾›äº†<code>Files</code>è¿™ä¸ªå·¥å…·ç±»ï¼Œèƒ½æå¤§åœ°æ–¹ä¾¿æˆ‘ä»¬è¯»å†™æ–‡ä»¶ã€‚</p>
<p>è™½ç„¶<code>Files</code>æ˜¯<code>java.nio</code>åŒ…é‡Œé¢çš„ç±»ï¼Œä½†ä»–ä¿©å°è£…äº†å¾ˆå¤šè¯»å†™æ–‡ä»¶çš„ç®€å•æ–¹æ³•ï¼Œä¾‹å¦‚ï¼Œæˆ‘ä»¬è¦æŠŠä¸€ä¸ªæ–‡ä»¶çš„å…¨éƒ¨å†…å®¹è¯»å–ä¸ºä¸€ä¸ª<code>byte[]</code>ï¼Œå¯ä»¥è¿™ä¹ˆå†™ï¼š</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">byte[] data = Files.readAllBytes(Path.of(&quot;/path/to/file.txt&quot;));</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>å¦‚æœæ˜¯æ–‡æœ¬æ–‡ä»¶ï¼Œå¯ä»¥æŠŠä¸€ä¸ªæ–‡ä»¶çš„å…¨éƒ¨å†…å®¹è¯»å–ä¸º<code>String</code>ï¼š</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// é»˜è®¤ä½¿ç”¨UTF-8ç¼–ç è¯»å–:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">String content1 = Files.readString(Path.of(&quot;/path/to/file.txt&quot;));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// å¯æŒ‡å®šç¼–ç :</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">String content2 = Files.readString(Path.of(&quot;/path&quot;, &quot;to&quot;, &quot;file.txt&quot;), StandardCharsets.ISO_8859_1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// æŒ‰è¡Œè¯»å–å¹¶è¿”å›æ¯è¡Œå†…å®¹:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">List&lt;String&gt; lines = Files.readAllLines(Path.of(&quot;/path/to/file.txt&quot;));</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>å†™å…¥æ–‡ä»¶ä¹Ÿéå¸¸æ–¹ä¾¿ï¼š</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// å†™å…¥äºŒè¿›åˆ¶æ–‡ä»¶:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">byte[] data = ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Files.write(Path.of(&quot;/path/to/file.txt&quot;), data);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// å†™å…¥æ–‡æœ¬å¹¶æŒ‡å®šç¼–ç :</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Files.writeString(Path.of(&quot;/path/to/file.txt&quot;), &quot;æ–‡æœ¬å†…å®¹...&quot;, StandardCharsets.ISO_8859_1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// æŒ‰è¡Œå†™å…¥æ–‡æœ¬:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">List&lt;String&gt; lines = ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Files.write(Path.of(&quot;/path/to/file.txt&quot;), lines);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>æ­¤å¤–ï¼Œ<code>Files</code>å·¥å…·ç±»è¿˜æœ‰<code>copy()</code>ã€<code>delete()</code>ã€<code>exists()</code>ã€<code>move()</code>ç­‰å¿«æ·æ–¹æ³•æ“ä½œæ–‡ä»¶å’Œç›®å½•ã€‚</p>
<p>æœ€åéœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œ<code>Files</code>æä¾›çš„è¯»å†™æ–¹æ³•ï¼Œå—å†…å­˜é™åˆ¶ï¼Œåªèƒ½è¯»å†™å°æ–‡ä»¶ï¼Œä¾‹å¦‚é…ç½®æ–‡ä»¶ç­‰ï¼Œä¸å¯ä¸€æ¬¡è¯»å…¥å‡ ä¸ªGçš„å¤§æ–‡ä»¶ã€‚è¯»å†™å¤§å‹æ–‡ä»¶ä»ç„¶è¦ä½¿ç”¨æ–‡ä»¶æµï¼Œæ¯æ¬¡åªè¯»å†™ä¸€éƒ¨åˆ†æ–‡ä»¶å†…å®¹ã€‚</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="stream">stream<a href="#stream" class="hash-link" aria-label="streamçš„ç›´æ¥é“¾æ¥" title="streamçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- Streamï¼ˆæµï¼‰æ˜¯ä¸€ä¸ªæ¥è‡ªæ•°æ®æºçš„å…ƒç´ é˜Ÿåˆ—ï¼Œå®ƒå¯ä»¥æ”¯æŒèšåˆæ“ä½œã€‚</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">æ•°æ®æºï¼šæµçš„æ•°æ®æ¥æºï¼Œæ„é€ Streamå¯¹è±¡çš„æ•°æ®æºï¼Œæ¯”å¦‚é€šè¿‡ä¸€ä¸ªListæ¥æ„é€ Streamå¯¹è±¡ï¼Œè¿™ä¸ªListå°±æ˜¯æ•°æ®æºï¼›</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">èšåˆæ“ä½œï¼šå¯¹Streamå¯¹è±¡è¿›è¡Œå¤„ç†åä½¿å¾—Streamå¯¹è±¡è¿”å›æŒ‡å®šè§„åˆ™æ•°æ®çš„æ“ä½œç§°ä¹‹ä¸ºèšåˆæ“ä½œï¼Œæ¯”å¦‚filterã€mapã€</span><span class="token keyword" style="color:#00009f">limit</span><span class="token plain">ã€sortedç­‰éƒ½æ˜¯èšåˆæ“ä½œ</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="streamå¯¹è±¡çš„åˆ›å»º">Streamå¯¹è±¡çš„åˆ›å»º<a href="#streamå¯¹è±¡çš„åˆ›å»º" class="hash-link" aria-label="Streamå¯¹è±¡çš„åˆ›å»ºçš„ç›´æ¥é“¾æ¥" title="Streamå¯¹è±¡çš„åˆ›å»ºçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- Streamå¯¹è±¡åˆ†ä¸ºä¸¤ç§ï¼Œä¸€ç§ä¸²è¡Œçš„æµå¯¹è±¡(é¡ºåºå•çº¿ç¨‹)ï¼Œä¸€ç§å¹¶è¡Œçš„æµå¯¹è±¡ï¼ˆå¤šçº¿ç¨‹ï¼‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- ä¸ºé›†åˆåˆ›å»ºä¸²è¡Œæµå¯¹è±¡</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Stream</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">UmsPermission</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> stream </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> permissionList</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stream</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- ä¸ºé›†åˆåˆ›å»ºå¹¶è¡Œæµå¯¹è±¡</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tream</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">UmsPermission</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> parallelStream </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> permissionList</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">parallelStream</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="filter">filter<a href="#filter" class="hash-link" aria-label="filterçš„ç›´æ¥é“¾æ¥" title="filterçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- å¯¹Streamä¸­çš„å…ƒç´ è¿›è¡Œè¿‡æ»¤æ“ä½œï¼Œå½“è®¾ç½®æ¡ä»¶è¿”å›trueæ—¶è¿”å›ç›¸åº”å…ƒç´ </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- è·å–æƒé™ç±»å‹ä¸ºç›®å½•çš„æƒé™</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">List</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">UmsPermission</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> dirList </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> permissionList</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stream</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">permission </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> permission</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">getType</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">collect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Collectors</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">toList</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="map-1">map<a href="#map-1" class="hash-link" aria-label="mapçš„ç›´æ¥é“¾æ¥" title="mapçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- å¯¹Streamä¸­çš„å…ƒç´ è¿›è¡Œè½¬æ¢å¤„ç†åè·å–ã€‚æ¯”å¦‚å¯ä»¥å°†UmsPermissionå¯¹è±¡è½¬æ¢æˆLongå¯¹è±¡ã€‚ æˆ‘ä»¬ç»å¸¸ä¼šæœ‰è¿™æ ·çš„éœ€æ±‚ï¼šéœ€è¦æŠŠæŸäº›å¯¹è±¡çš„idæå–å‡ºæ¥ï¼Œç„¶åæ ¹æ®è¿™äº›idå»æŸ¥è¯¢å…¶ä»–å¯¹è±¡ï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨æ­¤æ–¹æ³•</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- è·å–æ‰€æœ‰æƒé™çš„idç»„æˆçš„é›†åˆ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">List</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">Long</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> idList </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> permissionList</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stream</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">permission </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> permission</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">getId</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">collect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Collectors</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">toList</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="flatmap">flatMap<a href="#flatmap" class="hash-link" aria-label="flatMapçš„ç›´æ¥é“¾æ¥" title="flatMapçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="limit">limit<a href="#limit" class="hash-link" aria-label="limitçš„ç›´æ¥é“¾æ¥" title="limitçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- ä»Streamä¸­è·å–æŒ‡å®šæ•°é‡çš„å…ƒç´ </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- è·å–å‰5ä¸ªæƒé™å¯¹è±¡ç»„æˆçš„é›†åˆ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">List</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">UmsPermission</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> firstFiveList </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> permissionList</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stream</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">limit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">collect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Collectors</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">toList</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="count">count<a href="#count" class="hash-link" aria-label="countçš„ç›´æ¥é“¾æ¥" title="countçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- ä»…è·å–Streamä¸­å…ƒç´ çš„ä¸ªæ•°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- countæ“ä½œï¼šè·å–æ‰€æœ‰ç›®å½•æƒé™çš„ä¸ªæ•°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">long dirPermissionCount </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> permissionList</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stream</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">permission </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> permission</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">getType</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">count</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sorted">sorted<a href="#sorted" class="hash-link" aria-label="sortedçš„ç›´æ¥é“¾æ¥" title="sortedçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- å¯¹Streamä¸­å…ƒç´ æŒ‰æŒ‡å®šè§„åˆ™è¿›è¡Œæ’åº</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- å°†æ‰€æœ‰æƒé™æŒ‰å…ˆç›®å½•åèœå•å†æŒ‰é’®çš„é¡ºåºæ’åº</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">List</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">UmsPermission</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> sortedList </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> permissionList</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stream</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sorted</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">permission1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">permission2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">{</span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> permission1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">getType</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">compareTo</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">permission2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">getType</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">collect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Collectors</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">toList</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="skip">skip<a href="#skip" class="hash-link" aria-label="skipçš„ç›´æ¥é“¾æ¥" title="skipçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- è·³è¿‡æŒ‡å®šä¸ªæ•°çš„Streamä¸­å…ƒç´ ï¼Œè·å–åé¢çš„å…ƒç´ </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- è·³è¿‡å‰5ä¸ªå…ƒç´ ï¼Œè¿”å›åé¢çš„</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">List</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">UmsPermission</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> skipList </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> permissionList</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stream</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">skip</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">collect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Collectors</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">toList</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="listè½¬æˆmap">Listè½¬æˆmap<a href="#listè½¬æˆmap" class="hash-link" aria-label="Listè½¬æˆmapçš„ç›´æ¥é“¾æ¥" title="Listè½¬æˆmapçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦åå¤å¯¹Listä¸­çš„å¯¹è±¡æ ¹æ®idè¿›è¡ŒæŸ¥è¯¢ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆæŠŠè¯¥Listè½¬æ¢ä¸ºä»¥idä¸ºkeyçš„mapç»“æ„ï¼Œç„¶åå†é€šè¿‡map.get(id)æ¥è·å–å¯¹è±¡ï¼Œè¿™æ ·æ¯”è¾ƒæ–¹ä¾¿</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- å°†æƒé™åˆ—è¡¨ä»¥idä¸ºkeyï¼Œä»¥æƒé™å¯¹è±¡ä¸ºå€¼è½¬æ¢æˆmap</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Map</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">Long</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> UmsPermission</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> permissionMap </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> permissionList</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stream</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">collect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Collectors</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">toMap</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">permission </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> permission</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">getId</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> permission </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> permission</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Map</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">Long</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> UmsPermission</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> permissionMap </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> permissionList</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stream</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">collect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Collectors</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">toMap</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">permission </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> permission</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">getId</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">Function</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">identity</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> BinaryOperator</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">maxBy</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">1.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">List&lt;ClientProjectUserTypeVo&gt; userTypeList = projectUserType.getResult();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">List&lt;ClientProjectUserTypeResponse&gt; userTypeList = userTypeList.stream().map(item -&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ClientProjectUserTypeResponse response = new ClientProjectUserTypeResponse();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    BeanUtils.copyProperties(item,response);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return response;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}).collect(Collectors.toList())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2. List&lt;String&gt; roomNameList = machineRooms.stream().map(SvMachineRoomEntity::getRoomName).collect(Collectors.toList());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3.å°†å¯¹è±¡é›†æˆè½¬æˆä»¥å¯¹è±¡æŸå­—æ®µä¸ºkeyçš„map</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Map&lt;String, List&lt;Device&gt;&gt; groupByTime = list.stream()             .collect(Collectors.groupingBy(Device::getDeviceName));</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//listæµ</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="parallelstream">parallelStream<a href="#parallelstream" class="hash-link" aria-label="parallelStreamçš„ç›´æ¥é“¾æ¥" title="parallelStreamçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- ä¸streamæµåŒºåˆ«</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">streamæ˜¯é¡ºåºæµï¼Œç”±ä¸»çº¿ç¨‹æŒ‰é¡ºåºå¯¹æµæ‰§è¡Œæ“ä½œï¼Œè€ŒparallelStreamæ˜¯å¹¶è¡Œæµï¼Œå†…éƒ¨ä»¥å¤šçº¿ç¨‹å¹¶è¡Œæ‰§è¡Œçš„æ–¹å¼å¯¹æµè¿›è¡Œæ“ä½œï¼Œä½†å‰ææ˜¯æµä¸­çš„æ•°æ®å¤„ç†æ²¡æœ‰é¡ºåºè¦æ±‚ã€‚</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ³›å‹">æ³›å‹<a href="#æ³›å‹" class="hash-link" aria-label="æ³›å‹çš„ç›´æ¥é“¾æ¥" title="æ³›å‹çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<blockquote>
<p>[!tip]</p>
<ul>
<li>
<p>ç±»çš„æ³›å‹ç±»å‹<code>&lt;T&gt;</code>ä¸èƒ½ç”¨äºé™æ€æ–¹æ³•ã€‚</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class Pair&lt;T&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // ç¼–è¯‘é”™è¯¯</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static Pair&lt;T&gt; create(T first, T last) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return new Pair&lt;T&gt;(first, last);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//å¯¹äºé™æ€æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥å•ç‹¬æ”¹å†™ä¸ºâ€œæ³›å‹â€æ–¹æ³•ï¼Œåªéœ€è¦ä½¿ç”¨å¦ä¸€ä¸ªç±»å‹å³å¯</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class Pair&lt;T&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static &lt;K&gt; Pair&lt;K&gt; create(K first, K last) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return new Pair&lt;K&gt;(first, last);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="æ“¦æ‹­æ³•">æ“¦æ‹­æ³•<a href="#æ“¦æ‹­æ³•" class="hash-link" aria-label="æ“¦æ‹­æ³•çš„ç›´æ¥é“¾æ¥" title="æ“¦æ‹­æ³•çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<blockquote>
<p>æ³›å‹æ˜¯ä¸€ç§ç±»ä¼¼â€æ¨¡æ¿ä»£ç â€œçš„æŠ€æœ¯ï¼Œä¸åŒè¯­è¨€çš„æ³›å‹å®ç°æ–¹å¼ä¸ä¸€å®šç›¸åŒã€‚Javaè¯­è¨€çš„æ³›å‹å®ç°æ–¹å¼æ˜¯æ“¦æ‹­æ³•ï¼ˆType Erasureï¼‰ã€‚æ‰€è°“æ“¦æ‹­æ³•æ˜¯æŒ‡ï¼Œè™šæ‹Ÿæœºå¯¹æ³›å‹å…¶å®ä¸€æ— æ‰€çŸ¥ï¼Œæ‰€æœ‰çš„å·¥ä½œéƒ½æ˜¯ç¼–è¯‘å™¨åšçš„ã€‚</p>
</blockquote>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//è¿™æ˜¯ç¼–è¯‘å™¨çœ‹åˆ°çš„ä»£ç </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class Pair&lt;T&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private T first;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private T last;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//è€Œè™šæ‹Ÿæœºæ ¹æœ¬ä¸çŸ¥é“æ³›å‹ã€‚è¿™æ˜¯è™šæ‹Ÿæœºæ‰§è¡Œçš„ä»£ç ï¼š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class Pair {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Object first;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Object last;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>å› æ­¤ï¼ŒJavaä½¿ç”¨æ“¦æ‹­æ³•å®ç°æ³›å‹ï¼Œå¯¼è‡´äº†ï¼š</p>
<ul>
<li>ç¼–è¯‘å™¨æŠŠç±»å‹<code>&lt;T&gt;</code>è§†ä¸º<code>Object</code>ã€‚</li>
<li>ç¼–è¯‘å™¨æ ¹æ®<code>&lt;T&gt;</code>å®ç°å®‰å…¨çš„å¼ºåˆ¶è½¬å‹ã€‚</li>
</ul>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//ä½¿ç”¨æ³›å‹çš„æ—¶å€™ï¼Œæˆ‘ä»¬ç¼–å†™çš„ä»£ç ä¹Ÿæ˜¯ç¼–è¯‘å™¨çœ‹åˆ°çš„ä»£ç </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Pair&lt;String&gt; p = new Pair&lt;&gt;(&quot;Hello&quot;, &quot;world&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">String first = p.getFirst();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">String last = p.getLast();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//è€Œè™šæ‹Ÿæœºæ‰§è¡Œçš„ä»£ç å¹¶æ²¡æœ‰æ³›å‹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Pair p = new Pair(&quot;Hello&quot;, &quot;world&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">String first = (String) p.getFirst();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">String last = (String) p.getLast();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>æ‰€ä»¥ï¼ŒJavaçš„æ³›å‹æ˜¯ç”±ç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶å®è¡Œçš„ï¼Œç¼–è¯‘å™¨å†…éƒ¨æ°¸è¿œæŠŠæ‰€æœ‰ç±»å‹<code>T</code>è§†ä¸º<code>Object</code>å¤„ç†ï¼Œä½†æ˜¯ï¼Œåœ¨éœ€è¦è½¬å‹çš„æ—¶å€™ï¼Œç¼–è¯‘å™¨ä¼šæ ¹æ®<code>T</code>çš„ç±»å‹è‡ªåŠ¨ä¸ºæˆ‘ä»¬å®è¡Œå®‰å…¨åœ°å¼ºåˆ¶è½¬å‹ã€‚</p>
<p>äº†è§£äº†Javaæ³›å‹çš„å®ç°æ–¹å¼â€”â€”æ“¦æ‹­æ³•ï¼Œæˆ‘ä»¬å°±çŸ¥é“äº†Javaæ³›å‹çš„å±€é™ï¼š</p>
<blockquote>
<ul>
<li>
<p>å±€é™ä¸€ï¼š<code>&lt;T&gt;</code>ä¸èƒ½æ˜¯åŸºæœ¬ç±»å‹ï¼Œä¾‹å¦‚<code>int</code>ï¼Œå› ä¸ºå®é™…ç±»å‹æ˜¯<code>Object</code>ï¼Œ<code>Object</code>ç±»å‹æ— æ³•æŒæœ‰åŸºæœ¬ç±»å‹</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Pair&lt;int&gt; p = new Pair&lt;&gt;(1, 2); // compile error!</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>å±€é™äºŒï¼šæ— æ³•å–å¾—å¸¦æ³›å‹çš„<code>Class</code>ã€‚è§‚å¯Ÿä»¥ä¸‹ä»£ç ï¼š</p>
<blockquote>
<p>å› ä¸º <code>T</code> æ˜¯ <code>Object</code>ï¼Œæˆ‘ä»¬å¯¹ <code>Pair&lt;String&gt;</code>å’Œ <code>Pair&lt;Integer&gt;</code>ç±»å‹è·å–çš„éƒ½æ˜¯ <code>Pair</code>ç±»çš„ <code>Class</code>ã€‚</p>
</blockquote>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Pair&lt;String&gt; p1 = new Pair&lt;&gt;(&quot;Hello&quot;, &quot;world&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Pair&lt;Integer&gt; p2 = new Pair&lt;&gt;(123, 456);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Class c1 = p1.getClass();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Class c2 = p2.getClass();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">System.out.println(c1==c2); // true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">System.out.println(c1==Pair.class); // true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>å±€é™ä¸‰ï¼šæ— æ³•åˆ¤æ–­å¸¦æ³›å‹çš„ç±»å‹ï¼š</p>
<blockquote>
<p>åŸå› å’Œå‰é¢ä¸€æ ·ï¼Œå¹¶ä¸å­˜åœ¨<code>Pair&lt;String&gt;.class</code>ï¼Œè€Œæ˜¯åªæœ‰å”¯ä¸€çš„<code>Pair.class</code>ã€‚</p>
</blockquote>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Pair&lt;Integer&gt; p = new Pair&lt;&gt;(123, 456);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Compile error:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if (p instanceof Pair&lt;String&gt;) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>å±€é™å››ï¼šä¸èƒ½å®ä¾‹åŒ–<code>T</code>ç±»å‹ï¼š</p>
<blockquote>
<p>è¿™æ ·ä¸€æ¥ï¼Œåˆ›å»º<code>new Pair&lt;String&gt;()</code> å’Œåˆ›å»º <code>new Pair&lt;Integer&gt;()</code>å°±å…¨éƒ¨æˆäº†<code>Object</code>ï¼Œæ˜¾ç„¶ç¼–è¯‘å™¨è¦é˜»æ­¢è¿™ç§ç±»å‹ä¸å¯¹çš„ä»£ç ã€‚</p>
</blockquote>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">first = new T();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">last = new T();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//æ“¦æ‹­åå®é™…ä¸Šå˜æˆäº†ï¼š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">first = new Object();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">last = new Object();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>è¦å®ä¾‹åŒ–<code>T</code>ç±»å‹ï¼Œæˆ‘ä»¬å¿…é¡»å€ŸåŠ©é¢å¤–çš„<code>Class&lt;T&gt;</code>å‚æ•°å¹¶é€šè¿‡åå°„æ¥å®ä¾‹åŒ–<code>T</code>ç±»å‹ï¼š</p>
</blockquote>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class Pair&lt;T&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Pair(Class&lt;T&gt; clazz) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        first = clazz.newInstance();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        last = clazz.newInstance();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
</blockquote>
<p>æ³›å‹ç»§æ‰¿ï¼šä¸€ä¸ªç±»å¯ä»¥ç»§æ‰¿è‡ªä¸€ä¸ªæ³›å‹ç±»ã€‚ä¾‹å¦‚ï¼šçˆ¶ç±»çš„ç±»å‹æ˜¯<code>Pair&lt;Integer&gt;</code>ï¼Œå­ç±»çš„ç±»å‹æ˜¯<code>IntPair</code>ï¼Œå¯ä»¥è¿™ä¹ˆç»§æ‰¿</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class IntPair extends Pair&lt;Integer&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>åœ¨ç»§æ‰¿äº†æ³›å‹ç±»å‹çš„æƒ…å†µä¸‹ï¼Œå­ç±»å¯ä»¥è·å–çˆ¶ç±»çš„æ³›å‹ç±»å‹ã€‚ä¾‹å¦‚ï¼š<code>IntPair</code>å¯ä»¥è·å–åˆ°çˆ¶ç±»çš„æ³›å‹ç±»å‹<code>Integer</code>ï¼š</p>
</blockquote>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import java.lang.reflect.ParameterizedType;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.lang.reflect.Type;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class Main {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static void main(String[] args) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Class&lt;IntPair&gt; clazz = IntPair.class;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Type t = clazz.getGenericSuperclass();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (t instanceof ParameterizedType) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ParameterizedType pt = (ParameterizedType) t;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Type[] types = pt.getActualTypeArguments(); // å¯èƒ½æœ‰å¤šä¸ªæ³›å‹ç±»å‹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Type firstType = types[0]; // å–ç¬¬ä¸€ä¸ªæ³›å‹ç±»å‹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Class&lt;?&gt; typeClass = (Class&lt;?&gt;) firstType;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.println(typeClass); // Integer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>å› ä¸ºJavaå¼•å…¥äº†æ³›å‹ï¼Œæ‰€ä»¥ï¼Œåªç”¨<code>Class</code>æ¥æ ‡è¯†ç±»å‹å·²ç»ä¸å¤Ÿäº†ã€‚å®é™…ä¸Šï¼ŒJavaçš„ç±»å‹ç³»ç»Ÿç»“æ„å¦‚ä¸‹ï¼š</p>
</blockquote>
<!-- -->
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAxAAAAEwCAIAAACoqAC1AAALbElEQVR4nO3dQXKqQBQF0ORX1uLUDbj8bCDT7CTJ5A+ssiwVbgMNNHDO7CeITfuA67Pjf//5/XsDAKDbv7UHAADQOoEJACAQmAAAAoEJACAQmAAAAoEJACAQmAAAAoEJACAQmAAAAoEJACAQmAAAAoEJACAQmAAAAoEJACAQmAAAAoEJACAQmAAAAoEJACAQmAAAAoEJACAQmAAAAoEJACAQmAAAAoEJACAQmAAAAoEJACD4WHsAcHSn82XtIdTx/fW59hAA5qLDBAAQ6DBBEzbdntlNkwygiw4TAEAgMAEABAITAEAgMAEABAITAEAgMAEABAITAEAgMAEABAITAEAgMAEABAITAEAgMAEABAITAEAgMAEABAITAEAgMAEABAITAEAgMAEABB9rDwDodDpfen77/fW54FgADk2HCQAg0GGCdt33kK7dJl0lgFXoMAEABDpMsHldzafbEqjbr25b3q+O6upaPayg0twCjkyHCTbvGmW6Voj3BKmX/+z6Yf8KdIB902GCw3leGnU6X/rXS0lLwMHpMME+FS4SL/ygrb+JBbB7AhPsgUADMCsfyQGviV8ANzpMsBP3TSZf2gRQlw4T8Jq8BXCjwwT7JO4AVCQwwX4ULv2+36B8odLpfLGqCTgsH8nBEfV/i/f1q8Cf45GuFXBYOkywQ/3J5jkelexBWgKOTIcJtqFuXinZm4QEcKPDBAAQCEywH75+CWAmAhMAQGANE+xHrf9qF4AHOkwAAIHABAAQCEwAAIHABAAQCEwAAIHABAAQCEwAAIHABAAQCEwAAIHABAAQCEwAAIHABAAQCEwAAIHABAAQCEwAAMHH2gMA3t7e3k7ny9pDAKCTDhMAQPD+8/u39hgAAJqmwwQAEAhMAACBwAQAEAhMAACBwAQAEAhMAACBwAQAEAhMAACBwAQAEAhMAACBwAQAEAhMAACBwAQAEAhMAACBwAQAEAhMAACBwAQAEAhMAACBwAQAEAhMAACBwAQHdTpf1h4CwGYITAAAgcAER6S9BDCIwATHJTYBFBKY4HDkJIChBCY4NOEJoITABMfynJBkJoBIYAIACAQmOJCuZpImE0A/gQkAIBCY4Cj620iaTAA9BCYAgEBggkMoaSBpMgF0ef/5/Vt7DAAATdNhAgAIBCYAgEBgAgAIBCYAgEBgAgAIBCY4otP54ksEAMoJTAAAgcAEABAITAAAgcAEABAITAAAgcAEABAITAAAgcAEABAITAAAgcAEABAITAAAgcAEABAITAAAgcAEABAITAAAgcAEABAITAAAgcAEABAITAAAgcAEABAITAAAgcAEABAITAAAgcAEABAITAAAgcAEABAITAAAgcAEABAITAAAgcAEABAITAAAgcAEABAITAAAgcAEABAITAAAgcAEABAITAAAgcAEABAITAAAgcAEABAITAAAgcAEABC8//z+rT2GPqfzZe0hAMBOfH99rj2ErdJhAgAIPtYeQBGJ+ICuzUUvPTumyFmST2wm0mECAAgEJgCAQGACAAgEJgCAQGACAAgEJgCAQGACAAgEJgCAQGACAAgEJgCAQGACAAgEJgCAQGACAAgEJgCAQGACAAgEJgCAQGACAAgEJgCAQGACAAgEJgCAQGACAAgEJgCAQGACAAgEJgCAQGACAAgEJgCAQGACAAgEJgCAQGACAAgEJgCAQGACAAgEJgCAQGACAAgEJgCAQGACAAgEJgCAQGACAAgEJgCAQGACAAgEJgCAQGACAAgEJgCAQGACAAjef37/1h4DAEDTdJgAAAKBCQAgEJgAAAKBCQAgEJgAAAKBCQAgEJgAAAKBCQAgEJgAAAKBCQAg+Cjf9HS+zDmS5nx/ffZvcLQJYX8UOduleukXK2QoHSYAgGBAh+mqemRr0KD3JUeYEPZHkbNdqpd+MzUXdZgAAAKBCQAgEJgAAAKBCQAgEJgAAAKBCQAgEJgAAAKBCQAgEJgAAAKBCQAgEJgAAAKBCQAgEJgAAAKBCQAgEJgAAAKBCQAgEJgAAAKBCQAgEJjYvNP5cjpf1h4Fm6eQ6KdCDu6j7u4eiun767Pnt88b7MnL82rHx7uW1a9f1wHcXtn+8eyyAPrP+q2oW0i3vW1rNo5Tvafz5eGc7frn/UN69vbwk0Fz1fWMLXB9u1ezw/Q8lavfzFqz4wnx3uuYnPXAQVTrMD1n5OtP7oP8829377nHdj8hTNfaZD4XeWsjrKjkrN+KigPe7sXtaNX7cLz9B9vz2+Pc2g5VIc9mXMN0qHkEnPX3TMWGeLEoUXkN04OJVVi4NqLuZrP6/vp82WSKY7tl+fstxx3pw66uv+15rzBoXVrhgUw/0sJFA13v9kYc6cvNRldRXCfxvKJi+ku/riWLvHohFT7py4dMHFvds77rUVXW3OyyeudYelt4Dal1axv9Kri+PWj3r+QK10bU3WwV5WPrTyeD9nb74f3ao5LHTpm3ukda1+hCGuc+p3b9tud5Wy7y76/PklyyQJHXLaTq01s4tioTMrTe+u24eq9mvRMXHlf1W9u4V2GcvVbIvB2m0brWRsTNXq4TKtxsAV3HVf4R+MOW8Uj7S/a5yVQy2pfj6elRzXGkhfsp/FOX0fW22Bkb1wmtOLZo0NiqvwpVCqnrSbu6xYUXlv6xFW7W8kt/tenqrTuqiZeaifPWbCFtpUIa7TA9v0ntT6z9j52yWUUvBz/oSOOAh85b152jZ//LvAuZ6aUpv5kVHmndcRYOb9DNuJ0bz71B0ztls/nO8fIqmrKHOc76m0HZLtpo9a5+gkwpg7q3jyoP6bHRCrnXaGAaZHSHcwHXFH//sVcjH8wfUN3bw3QtB5oR7kt9NwfVr/BNVyOzsdi7nU1r+YiWf5M/xS4rpNGP5MqbSbf23f0Px202t8KFbBN3WL1A6+5w3N7qrrKcsk3jWj6EfRTSfKZ0Glp+3csteRT3q4xbroqo7u2jcavXeaMdpvJ5eQ7dhZ98LTP11+fteWfQwl3kOFq7Rty/CWutATZUf50fxO0EXLLTNuhqWbHe9lS9V5u7fjY+4P1VyLwdpnFz1BX8yxeKjls7ubwRR7rY3m7qTtEqE173s/OWtXwIOyikBs101q/CazrInl76QqtXSLsfya0+NYtxI5nVht7ZbGKQ3HSV1vMNbO73ZuN27srzsEij8ajxst42NO0bGmqXGT+Sm1h8Dw/v+tvLwrUpLZ8JJUe61t5e7r/iPud+aabsvGRs0wc/6A+ahj7p8pW/1thaPtIFlJ/1qyz93kr1rmLiHy3NesF3fXtQrcN0+w7r55/3POph++vGL9dol++kfF3k6oF36JEuubehr+nLjR++tmBEhXR53k//iv7+5y0c2/NmS74r7Znb6tNbaPS8TRnbKoVU8qSr9DKrn/UzabB6u8RPuEr+eKjreAuvISUTssAF/+DXt2c1O0yxNV34q5eTVfgtFF3DGDS2JRUe6Sp7q/uaDt3bwgrHNt+Ah54RJXtYYHpHz1vFOm/qSLseON+NZ9xZv+Tncc1W7xxqrZUsvLU9/LP6Bb+WfVTI+8/vX+GmG1oLMlHhkR5nQphVfyHNVGaK/LDqvqaql34tV8hQjX6tAABAOwQmWJM3wSxpyfYS7KxCBCYAgKDd72GCIzjC12nSjoW/e0n1HtzOKkSHCQAgEJgAAAKBCQAgEJgAAAKBCQAgEJgAAAKBCQAgEJgAAAKBCQAgEJgAAAKBCQAgEJgAAAKBCQAgEJgAAIKPoQ84nS/zjGSrTAi7p8jZLtVLLTpMAADB+8/v39pjAABomg4TAEAgMAEABAITAEAgMAEABAITAEAgMAEABAITAEAgMAEABAITAEAgMAEABAITAEAgMAEABAITAEAgMAEABAITAEAgMAEABAITAEAgMAEABP8BW1zaogU2HuQAAAAASUVORK5CYII=" alt="JAVA-TypeSystem" width="50%">
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ä¸Šç•Œé€šé…ç¬¦-extends-t">ä¸Šç•Œé€šé…ç¬¦ï¼ˆ? extends Tï¼‰<a href="#ä¸Šç•Œé€šé…ç¬¦-extends-t" class="hash-link" aria-label="ä¸Šç•Œé€šé…ç¬¦ï¼ˆ? extends Tï¼‰çš„ç›´æ¥é“¾æ¥" title="ä¸Šç•Œé€šé…ç¬¦ï¼ˆ? extends Tï¼‰çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<blockquote>
<p>[!important]</p>
<p><code>&lt;? extends Number&gt;</code> é€šé…ç¬¦çš„é™åˆ¶ï¼šæ–¹æ³• <code>setFirst(? extends Number)</code> æ— æ³•ä¼ é€’ä»»ä½• <code>Number</code> çš„å­ç±»å‹ç»™<code>setFirst(? extends Number)</code>ã€‚å› ä¸ºç¼–è¯‘å™¨ä¸çŸ¥é“å…·ä½“ç±»å‹ï¼Œæ— æ³•ç¡®ä¿ç±»å‹å®‰å…¨ã€‚</p>
<p><strong>æ€»ç»“ï¼šä½¿ç”¨extendsé€šé…ç¬¦è¡¨ç¤ºå¯ä»¥è¯»ï¼Œä¸èƒ½å†™ã€‚</strong></p>
</blockquote>
<blockquote>
<p><code>? extends T</code> è¡¨ç¤ºä¸€ä¸ªæœªçŸ¥çš„å…·ä½“ç±»å‹ï¼Œä½†å®ƒä¸€å®šæ˜¯ <code>T</code> æˆ– <code>T</code> çš„æŸä¸ªå­ç±»å‹ã€‚è¿™å…è®¸ä½ å¤„ç†ä¸€ä¸ªä¸ç¡®å®šå…·ä½“ç±»å‹çš„é›†åˆï¼Œä½†ä½ çŸ¥é“è¯¥é›†åˆä¸­çš„å…ƒç´ è‡³å°‘å®ç°äº† <code>T</code> æ¥å£æˆ–ç»§æ‰¿è‡ª <code>T</code> ç±»ã€‚</p>
</blockquote>
<blockquote>
<p>ä½¿ç”¨<code>&lt;? extends Integer&gt;</code>é€šé…ç¬¦è¡¨ç¤ºï¼š</p>
<ul>
<li>å…è®¸è°ƒç”¨<code>get()</code>æ–¹æ³•è·å–<code>Integer</code>çš„å¼•ç”¨ï¼›</li>
<li>ä¸å…è®¸è°ƒç”¨<code>set(? extends Integer)</code>æ–¹æ³•å¹¶ä¼ å…¥ä»»ä½•<code>Integer</code>çš„å¼•ç”¨ï¼ˆ<code>null</code>é™¤å¤–ï¼‰ã€‚</li>
</ul>
</blockquote>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="ä¸‹ç•Œé€šé…ç¬¦-super-t">ä¸‹ç•Œé€šé…ç¬¦ï¼ˆ? super Tï¼‰<a href="#ä¸‹ç•Œé€šé…ç¬¦-super-t" class="hash-link" aria-label="ä¸‹ç•Œé€šé…ç¬¦ï¼ˆ? super Tï¼‰çš„ç›´æ¥é“¾æ¥" title="ä¸‹ç•Œé€šé…ç¬¦ï¼ˆ? super Tï¼‰çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<blockquote>
<p>[!important]</p>
<p><code>&lt;? super Integer&gt;</code>é€šé…ç¬¦çš„é™åˆ¶ï¼šæ–¹æ³•å‚æ•°ç­¾å<code>? super Integer getFirst()</code>æ— æ³•ä¼ é€’ä»»ä½•<code>Integer</code>çš„çˆ¶ç±»å‹ç»™<code>? super Integer getFirst()</code>ã€‚å› ä¸ºå¦‚æœä¼ å…¥çš„å®é™…ç±»å‹æ˜¯<code>Pair&lt;Number&gt;</code>ï¼Œç¼–è¯‘å™¨æ— æ³•å°†<code>Number</code>ç±»å‹ è½¬å‹ä¸º<code>Integer</code>ã€‚å”¯ä¸€å¯ä»¥æ¥æ”¶<code>getFirst()</code>æ–¹æ³•è¿”å›å€¼çš„æ˜¯<code>Object</code>ç±»å‹ã€‚</p>
<p><strong>æ€»ç»“ï¼šä½¿ç”¨superé€šé…ç¬¦è¡¨ç¤ºå¯ä»¥å†™ï¼Œä¸èƒ½è¯»ã€‚</strong></p>
</blockquote>
<blockquote>
<p><code>? super T</code> åˆ™è¡¨ç¤ºä¸€ä¸ªæœªçŸ¥çš„å…·ä½“ç±»å‹ï¼Œä½†å®ƒä¸€å®šæ˜¯ <code>T</code> æˆ– <code>T</code> çš„æŸä¸ªçˆ¶ç±»å‹ã€‚è¿™æ„å‘³ç€ä½ å¯ä»¥åœ¨æ–¹æ³•ä¸­å‘ä¸€ä¸ªç±»å‹æœªçŸ¥ä½†è‡³å°‘æ˜¯ <code>T</code> çš„çˆ¶ç±»å‹çš„é›†åˆæ·»åŠ  <code>T</code> ç±»å‹çš„å…ƒç´ ã€‚</p>
<p>ä½¿ç”¨<code>&lt;? super Integer&gt;</code>é€šé…ç¬¦è¡¨ç¤ºï¼š</p>
<ul>
<li>å…è®¸è°ƒç”¨<code>set(? super Integer)</code>æ–¹æ³•ä¼ å…¥<code>Integer</code>çš„å¼•ç”¨ï¼›</li>
<li>ä¸å…è®¸è°ƒç”¨<code>get()</code>æ–¹æ³•è·å¾—<code>Integer</code>çš„å¼•ç”¨ã€‚</li>
</ul>
</blockquote>
<blockquote>
<p>[!note]</p>
<p>å¯¹æ¯”extendså’Œsuperé€šé…ç¬¦ï¼š</p>
<ul>
<li><code>&lt;? extends T&gt;</code>å…è®¸è°ƒç”¨è¯»æ–¹æ³•<code>T get()</code>è·å–<code>T</code>çš„å¼•ç”¨ï¼Œä½†ä¸å…è®¸è°ƒç”¨å†™æ–¹æ³•<code>set(T)</code>ä¼ å…¥<code>T</code>çš„å¼•ç”¨ï¼ˆä¼ å…¥<code>null</code>é™¤å¤–ï¼‰ï¼›</li>
<li><code>&lt;? super T&gt;</code>å…è®¸è°ƒç”¨å†™æ–¹æ³•<code>set(T)</code>ä¼ å…¥<code>T</code>çš„å¼•ç”¨ï¼Œä½†ä¸å…è®¸è°ƒç”¨è¯»æ–¹æ³•<code>T get()</code>è·å–<code>T</code>çš„å¼•ç”¨ï¼ˆè·å–<code>Object</code>é™¤å¤–ï¼‰ã€‚</li>
</ul>
<p>ä¾‹å­ï¼ŒJavaæ ‡å‡†åº“çš„<code>Collections</code>ç±»å®šä¹‰çš„<code>copy()</code>æ–¹æ³•ï¼š</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class Collections {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // æŠŠsrcçš„æ¯ä¸ªå…ƒç´ å¤åˆ¶åˆ°destä¸­:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static &lt;T&gt; void copy(List&lt;? super T&gt; dest, List&lt;? extends T&gt; src) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (int i=0; i&lt;src.size(); i++) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            T t = src.get(i);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            dest.add(t);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="æ— é™å®šé€šé…ç¬¦">æ— é™å®šé€šé…ç¬¦<a href="#æ— é™å®šé€šé…ç¬¦" class="hash-link" aria-label="æ— é™å®šé€šé…ç¬¦çš„ç›´æ¥é“¾æ¥" title="æ— é™å®šé€šé…ç¬¦çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>Javaçš„æ³›å‹è¿˜å…è®¸ä½¿ç”¨æ— é™å®šé€šé…ç¬¦ï¼ˆUnbounded Wildcard Typeï¼‰ï¼Œå³åªå®šä¹‰ä¸€ä¸ª<code>?</code>ï¼š<code>void sample(Pair&lt;?&gt; p);</code>ã€‚</p>
<p>å› ä¸º<code>&lt;?&gt;</code>é€šé…ç¬¦æ—¢æ²¡æœ‰<code>extends</code>ï¼Œä¹Ÿæ²¡æœ‰<code>super</code>ï¼Œå› æ­¤ï¼š</p>
<ul>
<li>ä¸å…è®¸è°ƒç”¨<code>set(T)</code>æ–¹æ³•å¹¶ä¼ å…¥å¼•ç”¨ï¼ˆ<code>null</code>é™¤ å¤–ï¼‰ï¼›</li>
<li>ä¸å…è®¸è°ƒç”¨<code>T get()</code>æ–¹æ³•å¹¶è·å–<code>T</code>å¼•ç”¨ï¼ˆåªèƒ½è·å–<code>Object</code>å¼•ç”¨ï¼‰ã€‚</li>
</ul>
<p>æ¢å¥è¯è¯´ï¼Œæ—¢ä¸èƒ½è¯»ï¼Œä¹Ÿä¸èƒ½å†™ï¼Œé‚£åªèƒ½åšä¸€äº›<code>null</code>åˆ¤æ–­ï¼š</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">static boolean isNull(Pair&lt;?&gt; p) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return p.getFirst() == null || p.getLast() == null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå¯ä»¥å¼•å…¥æ³›å‹å‚æ•°<code>&lt;T&gt;</code>æ¶ˆé™¤<code>&lt;?&gt;</code>é€šé…ç¬¦ï¼š</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">static &lt;T&gt; boolean isNull(Pair&lt;T&gt; p) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return p.getFirst() == null || p.getLast() == null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>&lt;?&gt;</code>é€šé…ç¬¦æœ‰ä¸€ä¸ªç‹¬ç‰¹çš„ç‰¹ç‚¹ï¼Œå°±æ˜¯ï¼š<code>Pair&lt;?&gt;</code>æ˜¯æ‰€æœ‰<code>Pair&lt;T&gt;</code>çš„è¶…ç±»ï¼š</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//å¯ä»¥æ­£å¸¸ç¼–è¯‘è¿è¡Œçš„ï¼Œå› ä¸ºPair&lt;Integer&gt;æ˜¯Pair&lt;?&gt;çš„å­ç±»ï¼Œå¯ä»¥å®‰å…¨åœ°å‘ä¸Šè½¬å‹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public static void main(String[] args) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Pair&lt;Integer&gt; p = new Pair&lt;&gt;(123, 456);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Pair&lt;?&gt; p2 = p; // å®‰å…¨åœ°å‘ä¸Šè½¬å‹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    System.out.println(p2.getFirst() + &quot;, &quot; + p2.getLast());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ç¤ºä¾‹">ç¤ºä¾‹<a href="#ç¤ºä¾‹" class="hash-link" aria-label="ç¤ºä¾‹çš„ç›´æ¥é“¾æ¥" title="ç¤ºä¾‹çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<blockquote>
<p>å¦‚æœç±»æœ¬èº«ä¸èƒ½ä½¿ç”¨æ³›å‹ï¼ˆä¾‹å¦‚ï¼Œå¦‚æœä½ æ­£åœ¨ä½¿ç”¨ä¸€ä¸ªä¸å…è®¸æ³›å‹çš„æ—§Javaç‰ˆæœ¬ï¼Œæˆ–è€…æ˜¯å‡ºäºè®¾è®¡ä¸Šçš„è€ƒè™‘ï¼‰ï¼Œä½†æ˜¯ä½ ä»ç„¶å¸Œæœ› <code>calculateYoy</code> æ–¹æ³•èƒ½å¤Ÿçµæ´»åœ°å¤„ç†ä¸åŒç±»å‹çš„åˆ—è¡¨ï¼Œä½ å¯ä»¥å°†æ³›å‹æ”¾åœ¨æ–¹æ³•çº§åˆ«ã€‚</p>
<p>è¿™æ„å‘³ç€æ–¹æ³•å°†æˆä¸ºæ³›å‹æ–¹æ³•ï¼Œè€Œç±»æœ¬èº«ä¿æŒéæ³›å‹ã€‚</p>
</blockquote>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">private &lt;T&gt; void calculateYoy(List&lt;? extends T&gt; list, Function&lt;? super T, String&gt; valueGetter, BiConsumer&lt;? super T, String&gt; yoySetter) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    for (int i = 1; i &lt; list.size(); i++) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        T previousYearVO = list.get(i);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        T currentYearVO = list.get(i - 1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (ObjectUtil.isAllNotEmpty(valueGetter.apply(previousYearVO), valueGetter.apply(currentYearVO))) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            BigDecimal currentYearValue = Convert.toBigDecimal(valueGetter.apply(currentYearVO), BigDecimal.ZERO);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (currentYearValue.compareTo(BigDecimal.ZERO) != 0) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                BigDecimal previousYearValue = Convert.toBigDecimal(valueGetter.apply(previousYearVO), BigDecimal.ZERO);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                BigDecimal yoyChange = (currentYearValue.subtract(previousYearValue)).divide(previousYearValue, 4, RoundingMode.HALF_UP);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                yoySetter.accept(currentYearVO, yoyChange.toString());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="æ³›å‹å’Œåå°„">æ³›å‹å’Œåå°„<a href="#æ³›å‹å’Œåå°„" class="hash-link" aria-label="æ³›å‹å’Œåå°„çš„ç›´æ¥é“¾æ¥" title="æ³›å‹å’Œåå°„çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>Javaçš„éƒ¨åˆ†åå°„APIä¹Ÿæ˜¯æ³›å‹ã€‚ä¾‹å¦‚ï¼š<code>Class&lt;T&gt;</code>å°±æ˜¯æ³›å‹ï¼š</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// compile warning:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Class clazz = String.class;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">String str = (String) clazz.newInstance();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// no warning:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Class&lt;String&gt; clazz = String.class;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">String str = clazz.newInstance();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>è°ƒç”¨<code>Class</code>çš„<code>getSuperclass()</code>æ–¹æ³•è¿”å›çš„<code>Class</code>ç±»å‹æ˜¯<code>Class&lt;? super T&gt;</code>ï¼š</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Class&lt;? super String&gt; sup = String.class.getSuperclass();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>æ„é€ æ–¹æ³•<code>Constructor&lt;T&gt;</code>ä¹Ÿæ˜¯æ³›å‹ï¼š</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Class&lt;Integer&gt; clazz = Integer.class;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Constructor&lt;Integer&gt; cons = clazz.getConstructor(int.class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Integer i = cons.newInstance(123);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>æˆ‘ä»¬å¯ä»¥å£°æ˜å¸¦æ³›å‹çš„æ•°ç»„ï¼Œä½†ä¸èƒ½ç”¨<code>new</code>æ“ä½œç¬¦åˆ›å»ºå¸¦æ³›å‹çš„æ•°ç»„ï¼Œå¿…é¡»é€šè¿‡å¼ºåˆ¶è½¬å‹å®ç°å¸¦æ³›å‹çš„æ•°ç»„ï¼š</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Pair&lt;String&gt;[] ps = null; // ok</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Pair&lt;String&gt;[] ps = new Pair&lt;String&gt;[2]; // compile error!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@SuppressWarnings(&quot;unchecked&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Pair&lt;String&gt;[] ps = (Pair&lt;String&gt;[]) new Pair[2]; //compile success</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>å¸¦æ³›å‹çš„æ•°ç»„å®é™…ä¸Šæ˜¯ç¼–è¯‘å™¨çš„ç±»å‹æ“¦é™¤ï¼š</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Pair[] arr = new Pair[2];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Pair&lt;String&gt;[] ps = (Pair&lt;String&gt;[]) arr;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">System.out.println(ps.getClass() == Pair[].class); // true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">String s1 = (String) arr[0].getFirst();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">String s2 = ps[0].getFirst();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ä¸èƒ½ç›´æ¥åˆ›å»ºæ³›å‹æ•°ç»„<code>T[]</code>ï¼Œå› ä¸ºæ“¦æ‹­åä»£ç å˜ä¸º<code>Object[]</code>ã€‚å¿…é¡»å€ŸåŠ©<code>Class&lt;T&gt;</code>æ¥åˆ›å»ºæ³›å‹æ•°ç»„æˆ–åˆ©ç”¨å¯å˜å‚æ•°åˆ›å»ºæ³›å‹æ•°ç»„ï¼š</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// compile error:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class Abc&lt;T&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    T[] createArray() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return new T[5];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// compile success</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">T[] createArray(Class&lt;T&gt; cls) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return (T[]) Array.newInstance(cls, 5);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// compile success</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class ArrayHelper {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @SafeVarargs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    static &lt;T&gt; T[] asArray(T... objs) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return objs;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">String[] ss = ArrayHelper.asArray(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Integer[] ns = ArrayHelper.asArray(1, 2, 3);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ä¼¼ä¹å¯ä»¥å®‰å…¨åœ°åˆ›å»ºä¸€ä¸ªæ³›å‹æ•°ç»„ã€‚ä½†å®é™…ä¸Šï¼Œè¿™ç§æ–¹æ³•éå¸¸å±é™©ã€‚åŸå› è¿˜æ˜¯å› ä¸ºæ“¦æ‹­æ³•ï¼Œåœ¨<code>pickTwo()</code>æ–¹æ³•å†…éƒ¨ï¼Œç¼–è¯‘å™¨æ— æ³•æ£€æµ‹<code>K[]</code>çš„æ­£ç¡®ç±»å‹ï¼Œå› æ­¤è¿”å›äº†<code>Object[]</code>ã€‚ä»¥ä¸‹ä»£ç æ¥è‡ªã€ŠEffective Javaã€‹çš„ç¤ºä¾‹ï¼š</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class Main {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static void main(String[] args) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String[] arr = asArray(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(Arrays.toString(arr));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // ClassCastException:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String[] firstTwo = pickTwo(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(Arrays.toString(firstTwo));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    static &lt;K&gt; K[] pickTwo(K k1, K k2, K k3) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return asArray(k1, k2);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //ç¼–è¯‘å™¨å¯¹æ‰€æœ‰å¯å˜æ³›å‹å‚æ•°éƒ½ä¼šå‘å‡ºè­¦å‘Šï¼Œå¯ä»¥ç”¨`@SafeVarargs`æ¶ˆé™¤è­¦å‘Šã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    static &lt;T&gt; T[] asArray(T... objs) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return objs;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ³¨è§£">æ³¨è§£<a href="#æ³¨è§£" class="hash-link" aria-label="æ³¨è§£çš„ç›´æ¥é“¾æ¥" title="æ³¨è§£çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="inherited">@Inherited<a href="#inherited" class="hash-link" aria-label="@Inheritedçš„ç›´æ¥é“¾æ¥" title="@Inheritedçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- å…ƒæ³¨è§£</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ç±»Aç»§æ‰¿ç±»Bï¼Œç±»Bæœ‰ä¸€ä¸ªè‡ªå®šä¹‰æ³¨è§£ï¼Œå¦‚æœæƒ³è¦Aç»§æ‰¿Bçš„æ³¨è§£ï¼Œåˆ™éœ€è¦åœ¨Bè‡ªå®šä¹‰æ³¨è§£ä¸ŠåŠ ä¸Š</span><span class="token variable" style="color:#36acaa">@Inherited</span><span class="token plain">è¡¨ç¤ºå…ƒæ³¨è§£ï¼Œç”¨äºæŒ‡ç¤ºæ³¨è§£æ˜¯å¦åº”è¯¥è¢«å­ç±»ç»§æ‰¿ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè‡ªå®šä¹‰æ³¨è§£æ˜¯ä¸ç»§æ‰¿ç»™å­ç±»çš„</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- @Retention</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUNTIMEï¼šç¡®ä¿å®ƒå¯ä»¥åœ¨è¿è¡Œæ—¶è¢«åå°„è®¿é—®</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="intercepts-signature">@Intercepts @Signature<a href="#intercepts-signature" class="hash-link" aria-label="@Intercepts @Signatureçš„ç›´æ¥é“¾æ¥" title="@Intercepts @Signatureçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- mybatisæ‹¦æˆªå™¨å¯ä»¥æ‹¦æˆªå¦‚ä¸‹4ä¸­ç±»å‹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Executorï¼š</span><span class="token keyword" style="color:#00009f">sql</span><span class="token plain">çš„å†…éƒ¨æ‰§è¡Œå™¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ParameterHandlerï¼šæ‹¦æˆªå‚æ•°çš„å¤„ç†</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">StatementHandlerï¼šæ‹¦æˆª</span><span class="token keyword" style="color:#00009f">sql</span><span class="token plain">çš„æ„å»º</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ResultSetHandlerï¼šæ‹¦æˆªç»“æœçš„å¤„ç†</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- @Signature æ³¨è§£å‚æ•°è¯´æ˜</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">type</span><span class="token plain">ï¼šå°±æ˜¯æŒ‡å®šæ‹¦æˆªå™¨ç±»å‹ï¼ˆParameterHandler ï¼ŒStatementHandlerï¼ŒResultSetHandler ï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">methodï¼šæ˜¯æ‹¦æˆªå™¨ç±»å‹ä¸­çš„æ–¹æ³•ï¼Œä¸æ˜¯è‡ªå·±å†™çš„æ–¹æ³•</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">argsï¼šæ˜¯methodä¸­æ–¹æ³•çš„å…¥å‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- eg</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token variable" style="color:#36acaa">@Intercepts</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">value</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token variable" style="color:#36acaa">@Signature</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ResultSetHandler</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">class</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> method </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;handleResultSets&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> args </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Statement</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">class</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token variable" style="color:#36acaa">@Component</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> class MybatisResultSetHandler implements Interceptor {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token variable" style="color:#36acaa">@Override</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> Object intercept</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Invocation invocation</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> throws Throwable {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">//è¿™é‡Œä¸ç®¡å‡ ä¸ªç»“æœéƒ½æ˜¯è¿”å›ä¸€ä¸ªlistï¼Œå¼ºè½¬æˆlistå³å¯</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Object proceed </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> invocation</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">proceed</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">out</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">println</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">proceed</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> proceed</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- typeå°±æ˜¯æ‹¦æˆªç»“æœçš„å¤„ç†ï¼ˆResultSetHandler ï¼‰çš„æ‹¦æˆªå™¨ï¼Œmethodæ˜¯ResultSetHandleræ¥å£çš„æŸä¸€ä¸ªæ–¹æ³•,argså°±æ˜¯è¿™ä¸ªæ–¹æ³•ä¸­çš„å‚æ•°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> interface ResultSetHandler {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">E</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> List</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">E</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> handleResultSets</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Statement var1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> throws SQLException</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">E</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">Cursor</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">E</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> handleCursorResultSets</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Statement var1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> throws SQLException</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void handleOutputParameters</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">CallableStatement var1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> throws SQLException</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- Interceptor æ¥å£</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">interceptæ–¹æ³•ï¼šinterceptorèƒ½å¤Ÿæ‹¦æˆªçš„å››ç§ç±»å‹å¯¹è±¡ï¼Œæ­¤å¤„å…¥å‚invocationä¾¿æ˜¯æŒ‡æ‹¦æˆªåˆ°çš„å¯¹è±¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pluginæ–¹æ³•ï¼šè®©mybatisåˆ¤æ–­ï¼Œæ˜¯å¦è¦è¿›è¡Œæ‹¦æˆªï¼Œç„¶ååšå‡ºå†³å®šæ˜¯å¦ç”Ÿæˆä¸€ä¸ªä»£ç†ï¼ˆ</span><span class="token variable" style="color:#36acaa">@Intercepts</span><span class="token plain">æ³¨è§£æ¥å†³å®šæ˜¯å¦è¿›è¡Œæ‹¦æˆªå¤„ç†ï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">setPropertiesæ–¹æ³•ï¼šæ‹¦æˆªå™¨éœ€è¦ä¸€äº›å˜é‡å¯¹è±¡ï¼Œè€Œä¸”è¿™ä¸ªå¯¹è±¡æ˜¯æ”¯æŒå¯é…ç½®çš„</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="conditional">@Conditional<a href="#conditional" class="hash-link" aria-label="@Conditionalçš„ç›´æ¥é“¾æ¥" title="@Conditionalçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//ç®€å•ä½¿ç”¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">åœ¨javaä¸­è¿™ç§æƒ…å†µï¼Œè°ƒç”¨ç³»ç»Ÿçš„cmdå‘½ä»¤ï¼Œä½†æ˜¯åœ¨windowå’Œlinuxä¸‹å‘½ä»¤æœ‰äº›æœ‰äº›æ—¶å€™æ˜¯ä¸ä¸€æ ·çš„</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class LinuxCondition implements Condition {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return context.getEnvironment().getProperty(&quot;os.name&quot;).contains(&quot;Linux&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class WindowsCondition implements Condition {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	 * ConditionContext context: springå®¹å™¨ä¸Šä¸‹æ–‡ç¯å¢ƒ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	 * AnnotatedTypeMetadata metadata ï¼š@Conditionalä¿®é¥°ç±»å‹ä¿¡æ¯</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	 */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return context.getEnvironment().getProperty(&quot;os.name&quot;).contains(&quot;Windows&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public interface CmdService {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void print();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class WindowCmdService implements CmdService{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void print() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;Window cmd...&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class LinuxCmdService implements CmdService{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void print() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;Linux cmd...&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class CmdServiceConditionConfig {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * å½“WindowConditionæ–¹æ³•ä¸­çš„matchesè¿”å›trueçš„æ—¶å€™ï¼Œ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * WindowCmdServiceä¼šè¢«æ³¨å…¥ï¼Œå¦åˆ™ä¸æ³¨å…¥ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Bean(&quot;cmdService&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Conditional(WindowCondition.class)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public CmdService windowCmdService(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return new WindowCmdService();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * å½“LinuxConditionæ–¹æ³•ä¸­çš„matchesè¿”å›trueçš„æ—¶å€™ï¼Œ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * LinuxCmdServiceä¼šè¢«æ³¨å…¥ï¼Œå¦åˆ™ä¸æ³¨å…¥ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Bean(&quot;cmdService&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Conditional(LinuxCondition.class)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public CmdService LinuxCmdService(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return new LinuxCmdService();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- è¡ç”Ÿæ³¨è§£</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- @ConditionalOnBean</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ä»…ä»…åœ¨å½“å‰ä¸Šä¸‹æ–‡ä¸­å­˜åœ¨æŸä¸ªå¯¹è±¡æ—¶ï¼Œæ‰ä¼šå®ä¾‹åŒ–ä¸€ä¸ªBean</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- @ConditionalOnClass</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">æŸä¸ªclassä½äºç±»è·¯å¾„ä¸Šï¼Œæ‰ä¼šå®ä¾‹åŒ–ä¸€ä¸ªBean</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- @ConditionalOnExpression</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">å½“è¡¨è¾¾å¼ä¸º</span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain">çš„æ—¶å€™ï¼Œæ‰ä¼šå®ä¾‹åŒ–ä¸€ä¸ªBeanã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">æ¯”å¦‚ï¼š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token variable" style="color:#36acaa">@ConditionalOnExpression</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;true&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token variable" style="color:#36acaa">@ConditionalOnExpression</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;${my.controller.enabled:false}&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- @ConditionalOnMissingBean</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ä»…ä»…åœ¨å½“å‰ä¸Šä¸‹æ–‡ä¸­ä¸å­˜åœ¨æŸä¸ªå¯¹è±¡æ—¶ï¼Œæ‰ä¼šå®ä¾‹åŒ–ä¸€ä¸ªBean</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- @ConditionalOnMissingClass</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">æŸä¸ªclassç±»è·¯å¾„ä¸Šä¸å­˜åœ¨çš„æ—¶å€™ï¼Œæ‰ä¼šå®ä¾‹åŒ–ä¸€ä¸ªBean</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- @ConditionalOnNotWebApplication</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ä¸æ˜¯webåº”ç”¨</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="requestmapping">@RequestMapping<a href="#requestmapping" class="hash-link" aria-label="@RequestMappingçš„ç›´æ¥é“¾æ¥" title="@RequestMappingçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- produces æŒ‡å®šAcceptæ ‡å¤´ï¼ˆæŒ‡å®šè¿”å›ç±»å‹ï¼‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token variable" style="color:#36acaa">@RequestMapping</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">value</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/ex/foos&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  method </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> GET</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  produces </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> { </span><span class="token string" style="color:#e3116c">&quot;application/json&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;application/xml&quot;</span><span class="token plain"> }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- consumesï¼ˆæŒ‡å®šå¤„ç†è¯·æ±‚çš„æäº¤å†…å®¹ç±»å‹ï¼ˆContent-Typeï¼‰ï¼‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token variable" style="color:#36acaa">@RequestMapping</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">value</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/pets&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    method </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> RequestMethod</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">POST</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    consumes</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;application/json&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="dependson">@DependsOn<a href="#dependson" class="hash-link" aria-label="@DependsOnçš„ç›´æ¥é“¾æ¥" title="@DependsOnçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">å¯ä»¥å®šä¹‰åœ¨ç±»å’Œæ–¹æ³•ä¸Šï¼Œæ„æ€æ˜¯æˆ‘è¿™ä¸ªç»„ä»¶è¦ä¾èµ–äºå¦ä¸€ä¸ªç»„ä»¶ï¼Œä¹Ÿå°±æ˜¯è¯´è¢«ä¾èµ–çš„ç»„ä»¶ä¼šæ¯”è¯¥ç»„ä»¶å…ˆæ³¨å†Œåˆ°IOCå®¹å™¨ä¸­</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="postconstruct">@PostConstruct<a href="#postconstruct" class="hash-link" aria-label="@PostConstructçš„ç›´æ¥é“¾æ¥" title="@PostConstructçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-mysql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-mysql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">æœåŠ¡å¯åŠ¨æ—¶æ‰§è¡Œè¯¥æ³¨è§£æ–¹æ³•</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@PostConstructæ³¨è§£çš„â½…æ³•åœ¨åŠ è½½ç±»çš„æ„é€ å‡½æ•°ä¹‹åæ‰§â¾ï¼Œä¹Ÿå°±æ˜¯åœ¨åŠ è½½äº†æ„é€ å‡½æ•°ä¹‹å</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="async">@Async<a href="#async" class="hash-link" aria-label="@Asyncçš„ç›´æ¥é“¾æ¥" title="@Asyncçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-mysql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-mysql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">1.å¼‚æ­¥çº¿ç¨‹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2.@Asyncä¸@Transactionalä¸€èµ·ä½¿ç”¨ï¼Œå­çº¿ç¨‹ä¸å½±å“ä¸»çº¿ç¨‹ï¼Œçº¿ç¨‹é—´äº‹åŠ¡ç›¸äº’éš”ç¦»</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3.å¯åŠ¨ç±»ä½¿ç”¨@EnableAsyncå¯ç”¨å¼‚æ­¥</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">æºç å…¥å£ï¼š@EnableAsync --&gt; é‡è¦ç±»AsyncConfigurationSelector</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@EnableAsyncæœ€ç»ˆæ˜¯å‘å®¹å™¨å†…æ³¨å…¥äº†ProxyAsyncConfiguration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">æ³¨æ„ï¼š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">åœ¨Springé‡Œé¢ï¼Œä¸è®ºæ˜¯äº‹åŠ¡æ³¨è§£è¿˜æ˜¯å¼‚æ­¥æ³¨è§£ï¼Œé€šé€šéƒ½æ˜¯ä¾é AOPæ³¨å…¥é€»è¾‘çš„ï¼Œè€Œå†…éƒ¨æ–¹æ³•è°ƒç”¨æ˜¯èµ°ä¸äº†ä»£ç†çš„ï¼Œæ‰€ä»¥è¿™é‡Œçš„@Asyncå‹æ ¹å°±æ²¡ç”Ÿæ•ˆï¼Œæ‰€ä»¥è¯´è¿™å«å‡æƒ³å¼‚æ­¥ï¼ˆåŒä¸ªç±»ä¸ç”Ÿæ•ˆï¼‰</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="value">@Value<a href="#value" class="hash-link" aria-label="@Valueçš„ç›´æ¥é“¾æ¥" title="@Valueçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-mysql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-mysql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">private static String appKey;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Value(&quot;${third.hikvision.appKey}&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public static void setAppKey(String appKey) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    HKApiUtil.appKey = appKey;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="preauthorize">@PreAuthorize<a href="#preauthorize" class="hash-link" aria-label="@PreAuthorizeçš„ç›´æ¥é“¾æ¥" title="@PreAuthorizeçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-mysql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-mysql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@PreAuthorize æ³¨è§£ï¼Œé¡¾åæ€ä¹‰æ˜¯è¿›å…¥æ–¹æ³•å‰çš„æƒé™éªŒè¯ï¼Œ@PreAuthorize å£°æ˜è¿™ä¸ªæ–¹æ³•æ‰€éœ€è¦çš„æƒé™è¡¨è¾¾å¼ï¼Œä¾‹å¦‚ï¼š@PreAuthorize(&quot;hasAuthority(&#x27;sys:dept:delete&#x27;)&quot;)ï¼Œ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">æ ¹æ®è¿™ä¸ªæ³¨è§£æ‰€éœ€è¦çš„æƒé™ï¼Œå†å’Œå½“å‰ç™»å½•çš„ç”¨æˆ·è§’è‰²æ‰€æ‹¥æœ‰çš„æƒé™å¯¹æ¯”ï¼Œå¦‚æœç”¨æˆ·çš„è§’è‰²æƒé™é›†Setä¸­æœ‰è¿™ä¸ªæƒé™ï¼Œåˆ™æ”¾è¡Œï¼›æ²¡æœ‰ï¼Œæ‹’ç»</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="builder">@Builder<a href="#builder" class="hash-link" aria-label="@Builderçš„ç›´æ¥é“¾æ¥" title="@Builderçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token variable" style="color:#36acaa">@Builder</span><span class="token plain"> æ³¨è§£ä¸ºç±»ç”Ÿæˆç›¸å¯¹ç•¥å¾®å¤æ‚çš„æ„å»ºå™¨ API</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">å®ƒä½œç”¨äºç±» ï¼Œå°†å…¶å˜æˆå»ºé€ è€…æ¨¡å¼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">å¯ä»¥ä»¥é“¾çš„å½¢å¼è°ƒç”¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">åˆå§‹åŒ–å®ä¾‹å¯¹è±¡ç”Ÿæˆçš„å¯¹è±¡æ˜¯ä¸å¯ä»¥å˜çš„ï¼Œå¯ä»¥åœ¨åˆ›å»ºå¯¹è±¡çš„æ—¶å€™è¿›è¡Œèµ‹å€¼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">å¦‚æœéœ€è¦åœ¨åŸæ¥çš„åŸºç¡€ä¸Šä¿®æ”¹å¯ä»¥åŠ  </span><span class="token keyword" style="color:#00009f">set</span><span class="token plain"> æ–¹æ³•ï¼Œfinal å­—æ®µå¯ä»¥ä¸éœ€è¦åˆå§‹åŒ–</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">å®ƒä¼šç”Ÿæˆä¸€ä¸ªå…¨å‚çš„æ„é€ å‡½æ•°</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="within-target">@within @target<a href="#within-target" class="hash-link" aria-label="@within @targetçš„ç›´æ¥é“¾æ¥" title="@within @targetçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token variable" style="color:#36acaa">@within</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> å’Œ </span><span class="token variable" style="color:#36acaa">@target</span><span class="token plain">çš„â€œä½œç”¨åŸŸâ€æœ‰ç‚¹åƒæ¸…æœçš„çˆµä½å’Œå®˜ä½çš„â€œæœ‰æ•ˆæœŸâ€ï¼š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token variable" style="color:#36acaa">@within</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> ï¼Œç±»ä¼¼äºçˆµä½ï¼Œæ˜¯å¯ä»¥ä¸–è¢­çš„</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token variable" style="color:#36acaa">@target</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">ï¼Œç±»ä¼¼äºå®˜ä½ï¼Œæ˜¯ä¸èƒ½ä¸–è¢­çš„</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- ================================================================</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token variable" style="color:#36acaa">@Before</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;@target(com.javatpoint.jjk.A1)&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> void execute2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    System</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">out</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">println</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;@target --- A1&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ä¸Šè¿°ä»£ç å¯ä»¥å½¢è±¡åœ°ç†è§£ä¸ºï¼Œè°çš„å®˜ä½æ˜¯A1ï¼Œå°±åœ¨ä»–çš„æ‰€æœ‰æ–¹æ³•æ‰§è¡Œå‰è¿›è¡Œå¢å¼ºï¼Œå³æ‰“å°</span><span class="token variable" style="color:#36acaa">@target</span><span class="token plain"> â€” A1ï¼Œæ˜¾ç„¶ï¼Œåªæœ‰Humanè¢«å°äº†å®˜ã€‚è¿™ç§å®˜ä½æ˜¯ä¸èƒ½ä¸–è¢­çš„ï¼Œæ‰€ä»¥ï¼Œå¯¹Manå’ŒBoyæ— æ•ˆã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- ================================================================</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token variable" style="color:#36acaa">@Before</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;@within(com.javatpoint.jjk.A2)&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> void execute3</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    System</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">out</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">println</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;@within --- A2&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ä¸Šè¿°ä»£ç å¯ä»¥å½¢è±¡åœ°ç†è§£ä¸ºï¼Œè°æ˜¯A2çˆµä½çš„å—ç›Šè€…ï¼Œå°±åœ¨ä»–è‡ªå·±çš„æ–¹æ³•ï¼Œæˆ–è€…ç»§æ‰¿çš„æ–¹æ³•æ‰§è¡Œå‰å¢å¼ºï¼Œå³æ‰“å°</span><span class="token variable" style="color:#36acaa">@within</span><span class="token plain"> â€” A2ï¼Œæ˜¾ç„¶ï¼ŒManã€Boyéƒ½æ”¶ç›Šã€‚Boyé‡å†™çš„æ–¹æ³•ä¸ä¼šå¢å¼ºï¼Œè¿™ä¸æ˜¯ä¸–è¢­çš„ï¼Œä¹Ÿå¥½ç†è§£ï¼</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- -->
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPIAAAFOCAYAAAC8F0AeAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAACDCSURBVHhe7d1dcxRXnufxvZrd6Xl+2JvZh3me2bYlgXnQQ6kyq/RUQg+FZMkyNsJgg4UQQkiAsNVG0AgEbtbjCNEdMzTMdm8Ee4Nvmoi5wC9gl76Z9zKzNzu3/82TpVM6eeqfJzNLVVn58Lv4hFTnnEwiSvXVySyVw//u3XffpVbp6joQZU4KswZSrqurhpvzox4jv496joxrW8hcjKY5KWgeUk6PUA1Tn4uyJudaGrKgxsoFaZpT57k5yAguTJ1pvToHrraHzEXpN8+NQQaZwgwaV8egrm0hq99zYapzOn0tZIxfrGHnoUFbQ1Yfy7GgeciAoBCD5oWgefBoe8jqmEqdh4xQA9X5rdXHpaB58Gh5yAIXKyLOAT0++Vgf1+fU8aA5YMUSshqxPgcZYQrPL0xunBuDQG0PWY9XfwwZERQfF6g6plOPhUBtDdkvWv0xZECYCP3WqOP6HIQSS8jcGsigMCEi2LZoS8gCIs44LsSwkYZZA5G0LWTIMFOwpjkpaB4iQ8jgqlQqNDc3F878vJdpXp8LM59AxWKRfd6SAiGD69KlS7S8vEyLi4vBzp1rZFrjN6ePJ9T6+jpVq1X2eUsKhAwuEbLYdUKzrEZh1qj09QnU19dHFy5cQMiQDk2HrH7PxanOqfR1CYWQIVUOFbL6WI6pc+oafSzhEDKkyqFDVse4uZRCyJAqLQlZHUfIsULI4GrLjqzPpxBChlSJHLKgxqqHqz9OKYQMqXKokP2iRcixQcjgCgrZGipSZdGm6kaJZrbKjhJNO99Xztlkj6Q/WD8IGVLFFPLYWYvev1+i+UdlxhDN7ZTdoLlj0w4hQ6r4hTyxZDPx8iZXOhdzobBAmy/f0qs3r2lzrmCYf0EXC43zfhAypAoXstiJ9VinNgdpbLmPhi+epIn1AZp76J0fP+8f8/CMRacu2VT52Flj8WuaVZjbpWcvd2lz7y09217wzi2/qAW+Lb4iZMgwPWRxT6xeTs/ctWmg2kMFx8hSL1VW+6m0eIxOjr1LkzcL9XVzD8pUYu6Zxz60aeGbMlVvlmhu1/l6q9Sw5jBmtl+7AbvROkHP7MdaKKzR4/14a0EjZMgwPWTxxlY9Tie8/sluGrl00n18+o5Fk87OXP1Rkaa+GKTjw+/QrBJ95ZPGXXl6rURTq7V4R+Yt+uDrcsOaZsnL5sfLTqxiZ/a7vEbIkHV6yNPrB2FO3hqk3oluN2ixCxdmjtDQheN0zP4hvf/AifODo1RZ6auvF7uuei55vskrJbJKzu78kUULT4aoPG552GXvMWHV4t3fdfej1i+v3XUIGbJOD1n8iUmGOXa5l+yP3qOZezYdH3rHjVfswCJkEffQ+RM04twzy/Wzd5iQN2ohi53+zNMhlun+2kRcVr/aW/M+Vi6vJYQMmdcY8sGOLN7cKp09RtWtIvWOdblj4pL6WOkd9/vB+SM0duVgR56943/Z3OqQuR3YL1iEDJmnhyw++CHDnNwoUN9U7dJa3CuLy+sB5/K6z7ncHpw/SieduNV7ZNMbWS0P2b2sfkvfff/rBuKe2bMWIUPWNb7ZdfCnJ/EnJrETT2zU/tw0tVmgmbvW/veD7qW2XCuMX/APstUh+11GX9x767ncFhAyZJ4esj1cdD+xJeMU8Yqdt7x43P3TU+Vqn3tvfOr6gCdi8ecne9Qbg6rVIYtgTW9sfTbwgXvpre/Wfh8c0SFkSBU9ZEF87FKNdPa+7UYsPgwijK/10/vOmLpm/FNzjOWpIk1ctlnD1eR9ZhshQ6pwIQviY5dqqCZT1/zvjdMKIUOq+IUsiEteccnMxSuIuaCdOK0QMqSKKWRB/KeKIujqjRLNbtf+Viw++CECNt0Tpx1ChlQJCjmvEDKkCkLmIWRIFYTMQ8iQKgiZh5AhVRAyDyFDqiBkHkKGVBEhixcreE1MTCBkSA8R8rVr12hpaQk0N2/eRMiQDqVSiU6dOgU++vv72ectKRAyQAYgZIAMQMgAGYCQIXG6ut6l+/d/0/3KzUMjhAyJdOLE37LjwEPIABmAkAEyACFDIk1N/Sk7DjyEDIkj3uRaXf1DvNkVAUIGyACEDJABCBkgAxAyJE7tAyE/wD1yBAgZEqmv72/YceAhZIAMQMgAGYCQIZEmJvCBkCgQMiSOeJPr+vU/wJtdESBkgAxAyAAZgJABMgAhQ+KIe+N7934L98gRIGRIpIGBv2bHgYeQATIAIQNkAEKGRDp16s/YceAhZEicrq53aH39992v3Dw0QsgAGYCQATIAIQNkAEKGxBEfBNnexgdCokDIkEiDg/hASBQIGSADEDJABiBkk64uL24NtEWl8ufsOPAQMkcPWMWth5YSb3LduPF7eLMrAoTM4aJFzJBgCFlnCtY0B9BBCFlnChUhQ0IhZF1QqAi57cS98Z07v4175AgQsqCGKUPlYlXnuHlomWLxr9hx4CFkLsygMX0OoMPyHbIpTH1OUufU9QAdlN+Q1ThVpjX6uLoWWmp09C/YceDlM+TDxskdDy0j3uTa3MQHQqLIX8h+EUYNM+p6gDbKV8gyPi5A0xwnylqANsvnjsyNC1FD5sYhVcTlu45bl3T5fbOLEyVkaBsR09bW77Q9KjVeHbc+ybIfctQ4EXMi2HZ7PxDiF63feNJlN2QZpI5bqwq7DlLNFCtCTgo1XA53jBR2HaRamJDTFHO2Qw47rkPIHVcu/yU73ioIOQ2CQg6KNOw6aAsR0O3bv9vSkPQw5WPu3zDNJVW+Qg6aU4VdB4mnhqnGqY+pj1VyfZK1LWTbtjunVKqJOhejI0eOsM/bYR09epT99/KqVGoUdl5/3AzuZ9QObQv5iy++oI2NDbp+/Xr81tdros7F5Msvv6RCocA+b4clXjzi/Ny/mzfr6wfUx0Hr9HF1LCzx2hcNcD+jdmhryMViMXksq4Yb18faoK+vj27dutXWkMULifu388SyDnDj6pifKGt14ueLkMPyi9KEO0aORT1XExBy+8kAuQijxhl1vYSQo2gmPv0Y+TjqeZqEkNvPFF/UMKOulxByFM0EqB4jv496jkNAyJ3XbJxRIOQo9BDVxyq/Y7j5NkPInYeQI4glZIELk+O3Xj1XDBBy68kwwwYaZW2zEHJUQWFy435rY4CQW0uNUsWtVYVd1yyEHJWM0i/MoPmYIeTW4cLlxjhh1zUrNyFbQ0WqLNpU3SjRzFbZUaLpddsZs8geVtYGhRg0LwTNxygRIQ8Nk7W4RPbGA7K3viVLWN9xxi5TcXiUPyZhTCGGDTTsumbkIuSxsxa9f79E84/KrLmdMlU+KXkjVenn9BuXguZj1OmQrbOfk33/52Q/+iVv5zlZ55bZY5PEFGHYQOW6MGujynzIE0s2G2+jIZq86sSsHi+D1KP0Gw+aMygUFmjz5Vt69eY1bc4VtLk1evzmLX33/a9dr/bWPPMmnQzZWtrk42VYK1vsOdqpMLdLz968oIvOc1Mfc5/rxp+BKcAocbYjYiHTIYudWA92anOQxpb7aPjiSZpYH6C5h7WIpfHztvc8SpjDMxaduuRcjn/srLGZYJW1nnOE4L6oXu7S5t5bera9cDC+H/jj5doLS0atrjHpVMjuTswEa2KdX2k4j+R57lsUQ5SQhVbF3A6ZDVncE6uX0zN3bRqo9lDBMbLUS5XVfiotHqOTY+/S5K3BeshzD8pUGtFCdMIcO1OihW+GqHqzRHO7ZareinApHsLM9ms3zsLyC3rlBD2jvLh0F53Yg9ZIHQnZuSdmL6cf/iMVNp9Q3+o9Gvxqr3H+wQuyRirecznGPrSd5955ztXnXlvTjGZC1sckhNwiesjijS0Zsfjh909208ilk+7j03csmnR25uqPijT1xSAdH36HZp375FrM4n5Z25Ud09ed3fxa2Q11ZN6iD752vhdzLYhY3XVrLy7+hSQlPWTxJpYe6cAX31BPZbZm6kPqHpqkk5/daFhnfdK4K0+vlWhqtRav57k/JP+Qf+U+//rVkDuv/KJ1v3duc8TP47vvnXVXGm+PRNy1+f3bIuXfOzh/7SqrNm/+2fvJbMjT6we7sdhxeye63aDFLlyYOUJDF47TMfuH9P4D5wXywVGqXO2vhyx+86vnkuebXCmTVXZ2Z+fybuHJEJXHLQ+77D0mLPUFJX+4fpfOabi0ttd3vHE6O2332Az1Lm8djDk7dvHuzzzr3PGbu55zCe5zf6VEVsnZnT+yWvbc1573g8gOYvsV3Z4PF7JYL34Ws3d/5Xwv1h78/ETEYlw9Xv0lLM+vxhvll7QqsyGLPzHJkMcu95L90Xs0c8+m40PvOPGWada57BYhi7iHzp9wduve/ZCHaPYOE/JG7cVUOVeiM0+HHUMNGu6vQxKX1eobWO5j5od58IP37iImHQl561tPnAO3vqae8VnPmK87e55zCfXn3rnK4p53oZnn3rQjhw1Z/ixEsK9ePnTG90O+WwtZHsceH3B+9bggGQ75YEcWb26Vzh6j6laReivdbqxTXxbpWOkdd35w/giNXelzx92Qt4c851IdhNwYc1MvJvmDV3ZY9QWirnV/W0e89OrIpfXW33niLEQK+annXKpOhyzCHLzyPDDk2y//jxvywb/h3fURsoEesvjghwx5cqNAfVO1S+v+qR4qnTtOA7NHqW+yx4n4KJ0c63J36Nr6Iapu1u6F1fNJtRdTC0P2ubwT1B+wu0s3cf/UkR1ZfPBDidN68Jx6RqvUu/JVfaz443+ggc2feNYJ1q1HnnOpOhbylYIb8UHID2l2kA95dnA/ZOcXM3cbpIaKkBl6yOITWzJk8SemXifWiY3an5umbg+6l9lzD52d+XbRvU+Wa4XxT51La583r1p9ae13Ge3uvvuX281GLCTmzS5nV+4emaYjE/N0dGaRuoYm6PjiSsM668Kq51yquEMe3I9S/BxExLX1zuP9kN2omZDlFZYesnyMkA30kMXHLsUntmScU5sFd+ctLx6nyrUB989PQxdO0qn1gjNfe5NLEH9+skedc8iQNa0OWQSr/saW5G/7zwauuT/8oB3bTydCFh+7FJ/Y0iMtOmMDG7vUt3rX989PxdHGPz9J8YX82g3Z3YHnH9avmNxo3dAaQ679Qlbukfd/pmJc/rzcX8bb2JGN9JCFyjnvp7pm79tuwMOXel3ja/30/o7YjWv3xmLN+KfaC0ILuTxt0cRlmzVcddaoxyZAR0J2iI9dNoQawPr0WsN5VOWpIvu8C61+7uWltNDMfNwyHbIwucJ9RPMgXPXx1Jryt2HtPGnVqZAF8bFLLljWtW3nmHiedzVCvxAPOx+3zIcsiMsuccnsF7KYG/9MuS9GyKGZQhbExy7FJTMbryA+zeXuxJ2JWOW3Th1XBc3HKRchC/aI5QZdvVGi2bviT0y1D36IS2n3nlisQ8iRBYXsGhlzgr5K1o2HZG//lKw7T8m+uVsL2HBP3Gp+4clxfc5vXJ3TxzslNyE30INVI9bnUiwRISeEKT45p8+r43JOf5wECFn/nnucYgj5QFB8foGq4yp1Tach5AxFy0HIB8JE6LfGbzwpEHKGIxYQsleYGJMeLSe/IQsZj1jIa8h+IYaNNMyaJMl3yDmQ95C5GE1zUtB80mQq5Gq1CpqJiYlYQub+7U46fdrLNK/PqfPcXBJNT09nJ+QzZ87Q3NwcaMRz086QxS8K7t/tpPn5RqY1fnP6eFKJ134mQj579iwtLi6CjxMnTrDP22GJS3fu3+u0c+d4vus+/dyzTtLXJ5logPsZtUPbQk6Srq536cmT33C/cvMQD/H8y5+B/J77mRztK9Ppnf/tWcOtgwO5CFno6XmHHYf46EGqkapzY9f+J330i3+j/uml+lowy03I0HlqrPqYJHbjD5//qxvy6Uf/7FkL/hAyxEbGyo1JcjeWsCuHk5uQFxb+hB2H+MhY9cfSe/1lOvP8XzwhY1cOJzdvdl28+B/dr9w8xEcNV5JzlbVf0se/+H+ekAXsysFwaQ2x8otYvTfWYVcOhpAhVlzEgn5vrMOubIaQIXZ6xKbdWMKubJabe+Sf/OTfN7yAIBmCdmMJu7K/3OzIR478kB2HzgqzG0vYlf3h0ho6KuxuLGFX5iFk6Jgou7GEXZmXm5Dn5/8TOw6d0330BL1XGGtwvDzjRiu+cvNdXd3s+fIsN292ff45PhCSFj3H+tyQxVduHhrh0hoSByFHh5AhcRBydAgZEgchR5ebe+THj/GBkLRAyNHlZkd+7z18ICQtEHJ0uLSGxEHI0SFkSByEHF1uQp6d/c/sOCQPQo4uN292Xb78x3izKyUQcnS4tIbEQcjRIWRIHIQcHUKGOvEfI3D/kULcjpdq/9EEQg4vNyHv7v4HOn78v9Ufnz79X2hl5Y88ax48+E06ceJv64+np/8rra7+oWfNzs4PqK/vYM3k5J/S2tofeNbcu/cD6u//m/rj8fE/o/X13/esSSK5EyYFQg4POzLUyZDFjsjtlHHDf64YHkKGOhkydsL0QcgxEX/62t7+rUT/CQwhpxdCjtHg4F+z40mBkNMLIUMdQk4vhAx1CDm9EHKMKpU/Z8eTAiGnF0KOiXiT68aN38ObXdAWCBnqEHJ6IWSoQ8jphZChDiGnF0KOibg3vnPnt3GPDG2BkGNULP4VO54UCDm9EDLUIeT0QshQh5DTCyHHaHT0L9jxpEDI6YWQYyLe5NrcxAdCoD0QMtQh5PRCyFCHkNMLIUMdQk4vhBwTcW+8tfU7uEeGtkDIMbJtfCAE2gMhQx1CTi+EDHUIOb0QcozK5b9kx5MCIacXQo6JeJPr9u3fxZtd0BYIGeoQcnohZKjrPnKMhj9/6n7l5iG5ELLB+Pg4bW1twSFcvXqVfW6htRCygQh5ZWWFisUiNKG/vx8hxwQhG4iQL1++zL5IIRhCjg9CNkDIh4OQ44OQDRDy4SDk+CBkA4R8OAg5PgjZACEfDkKOD0I2QMiHg5Djg5ANEPLhIOT4IGSDUCEPDZO1uET2xgOyt74lS1jfccac44ZH+WNyAiHHByEbBIVsnf2c7Ps/J/vRL12lR7/w2vk5WeeW2WPzACHHByEbmEK2ljbrAbMRK6yVLfYc7VRYfkHfff9rerxcMI61E0KOD0I28AvZ3Yl9IvYbt877f9RzeMaiU5dsqnxsU9Hi10Qlo321t1Yfu7j31h17tr3gWdsuCDk+CNmADdm5J1Yvp+vBPnxBhc0n1Ld6jwa/2muI2X7wgqyRivdcjrEPbVr4pkzVmyWa23W+3io1rGmGCPnV3gt6/OYFXSwUqFBYo8cvd2nTiRkhZw9CNuBCFm9iqRELhS//Ox0Zn6WeimPqQ+oemqSTn93whCxYnzTuytNrJZparcU7Mm/RB1+XG9Y0Y2b7tbsbi11YXEqLsEXA4rEastyl3d17P3oxXigs0OZLcazzC+BNbc2rN69pcy78ZTlCjg9CNuBCttd3PBFbzk7bU5mhvitbB2POjl28+zP3e0/IN3c95xKm10s0eaVEVsnZnT+yaOHJEJXHLQ+77D0mDBlybWcWQdciVEMWa9T7ZTH3ytm1Z9wdvBayGq86L48xQcjxQcgGbMhb39bDFKEO3Pqajpya9Yyp5Lg7d2fPcy5heqMWcmXRpjNPh1jj5517Z+24IPWQ3Utq5xJ7rxagHOeOcaPXQtbfLEPIyYSQDdiQf/SNJ86CE3KPc1mtjvnabgxZanXI6s6r78Iy5MLcLj3bv2yuX14j5FRCyAZ6yJZVpNKNHU+c1oPn1DNapd6Vrw7Gfvz3VLj9tfu9ujPbm42X1lI7Q1Z5dmonYnUNduT0QsgGasgiYsE+V3uzS0YrvheX190j03RkYp6OzixS9/AEnTi3Uo+4HvKnqw0vdinWkJ0YTw9c84Qsw0bI6YSQDWTIMmJBfOzS3nneEHPRGRvY2KW+1buePz9JJWfntsYa//wkxR2yiFF8X7+kFm9qbWNHTiuEbCBCXl4+CFm+QMXHLt04lZCDWJ9eaziPqjxVpInLNmu4arHHJB1Cjg9CNlBD1l+k4mOXoUO+tu0cYxlDzqJMh9zVVcPNdQBCNtDf7NKJj12KS2bfmMWnuZydWETMHZ91mQxZBqzj1sYIIRsEhSxYo2NkX7hK1o2HZG//lKw7T8m+uVsLeNT/njgPMhcyF7CKOyYmCFkj/t9M0qlTwSELebtkDiuzIfuNdzBmhKxQI5Yhi3tk7kWqQsi83IQcNBcDhLxPDViOyZCDIpUhI2avTIUsQw0K2W++zRDyPj1iwfSutQ4hN8rljoyQO4fbjYVmQkbMB1Ifsh6mKVbTXAwQssMUsvrJLu7FqkLEXqkOWQ1TjVMf56jniQlC3mcK+fTpqqtahSgmJyfTGXJQnH7z+uMYIWQDEfLa2hqNjo64RkYgilKplL6Q9Rijhhl1fYvkLmRu5/VTLpdpaWnJ2ZVrxPcqbix+l5mx5Dh79iz73CaSjFANMWqYUde3CEIOgTummfO02tH+YRq58oydg4hkgFyEUeKMsraFEHII+jHNnKMdKtf/F515/i90pNdm5yECU4BR40TI7cdFKMf84lTnTOviJHbjMy/+L330i3+j0av/g10DLSJD7kCgYeU+ZPlYxx3DzXWK2I1FxAJ25Rgg5OTRw5RxcmP6uBzrJHU3lrArR6DusGEDjbK2A3IfsmleH1Mfd5K6G0vYlUNSg9Rx61Vh13UAQm5ivpO43VjCrhwCF2PYQOW6MGtjlrmQ1Qj9YjTNSUHzncLtxhJ25QCmEMMGGnZdzDIVshqozm+tPi4FzXeCaTeWsCsbmCIMG2jYdTHLTMh+4clxfc5vXJ3TxzvNtBtL2JUNTBFGCRQht48pPjmnz6vjHHVtp4XZjSXsygatCDmBchGy4BeoOq5S1yRBmN1Ywq7cpBTHnLmQTRGa1gQd20lRdmMp97tyM0FyIack7ky+2cXNSXJNUqPlHLOmqbjwZQP74x+70Yqv+lzh/XX2XLkg44saoH5Ms+fpgFSG7Bdi2EjDrEmDnmN9bsjiKzefa80EqB4jv496jg5JdchcjKY5KWg+LRCygR6hGqY6rtLX+K1LoNSHzAVpmlPnubk0QcgGaohqmDruGG4u4TIRMhelaZ4bSyOEbKBHqYYZZlyOpURq3+xSI/ULk1uj0tenDUI2UKPkwvSb49amQOpDVr/3i1OdN61LG4QcgAtVFTSfIpkIWX2sUtdnUW5DlgHq/Nbp41LQfIpkJmR1jJvLIoTM8Funjuvz3FzKIOQUy2XIfvHJcX0u6nhKZfrSWlCPyRqE7DOnz6vjOnVdiqU2ZMEUrv44ixAywy9SdZybT7lMhcytybJch2wKMcyajMlMyNx81uUyZCFMpDmLOdUh513mQ/YLMWykYdZkBEJOsdyEzMVompOC5jMEIadYrkLmgjTNqfPcXMYg5BTLXchclH7z3FiGIeQUy03I6vdcmOqcTl+bUQg5xXIVsvpYH+Pm1fEcQMgplvmQBT1KNVR9LscQcorlMmR1DBHXIeQUQ8jMXE4h5BTLZcjqY/m9Op9TCDnFchcyFy03lkMIOcVyEbIgY0WwvhByiuUuZG4OXAg5xXITMgRCyCmGkEFCyCmGkEFCyCmGkEFCyCmGkEFCyCmGkEFCyCmGkEFCyCmGkEFCyCmGkEFCyCmGkEFCyCmGkEFCyCmGkEFCyCmGkEFCyCmGkEFCyCmGkEFCyCmGkEFCyAajo6N0/fr15Nq4RZce/ZP7lZ1PgEuXLrHPLbQWQjYYHx+nq1evUrFYhCb09/e7zx/33EJrIWQDEfLly5fZFykEQ8jxQcgGCPlwEHJ8ELIBQj4chBwfhGyAkA8HIccHIRsg5MNByPFByAYI+XAQcnwQsgFCPhyEHB+EbBAq5KFhshaXyN54QPbWt2QJ6zvOmHPc8Ch/TE4g5PggZIOgkK2zn5N9/+dkP/olb+c5WeeW2WPzACHHByEbmEK2ljb5eBnWyhZ7jnYqFBZo8+Vb+u77X9e9evOCLhYK7Pp2QMjxQcgGfiG7OzETrIl1fqXhPNLwjEWnLtlU+dimosWviUqG/Hj5INyLe2/p1ctdmokpZoQcH4RswIbs3BOzl9MP/5EKm0+ob/UeDX611zj/4AVZIxXvuRxjH9q08E2ZqjdLNLfrfL1ValjTDC7kwvILhJxRCNmAC1m8iaVHOvDFN9RTma2Z+pC6hybp5Gc3GtZZnzTuytNrJZparcU7Mm/RB1+XG9Y0Qw9ZPn62vdCwhrv0ntl+3XApXiis0eM33nOYIOT4IGQDLmR7fccbp7PTdo/NUO/y1sGYs2MX7/7Ms84dv7nrOZcwvV6iySslskrO7vyRRQtPhqg8bnnYZe8xYeiRuqEqu7Gcf7W3Vj9GjVdGe5gdHSHHByEbsCFvfeuJc+DW19QzPusZ83Vnz3MuYXqjFnJl0aYzT4dY4+ede2ftuCD6jiyo98iFuV165rPjymPc9fuhczt6EIQcH4RswF5ab/2dJ85CpJCfes6liiPkWryvaXPOCVnsrg0he49RY+fCD4KQ44OQDdgdWXzwQ4nTevCcekar1LvyVX2s+ON/oIHNn3jWCdatR55zqZIRsndHVndhcdkdZTcWEHJ8ELJB6De7nF25e2SajkzM09GZReoamqDjiysN66wLq55zqWK/tN6PVr1H5v48VbsvfkGPX9Z+AcjxMBByfBCyARey+Nil+MSWHmnRGRvY2KW+1bu+f34qjjb++UlqV8ieN7uUaGtrajFzb4bpa/Rjw0DI8UHIBmzIDvGxy4ZQA1ifXms4j6o8VaSJyzZruGqxx8RBv9yOAiHHByEb+IUsiI9dcsGyrm07x3QuxsM4zKfBEHJ8ELKBKWRBfOxSXDKz8Qri01zuTpy+iEXAfpfbYSHk+CBkg6CQXSNjTtBXybrxkOztn5J15ynZN3drARvuifMAIccHIRuEChl8IeT4IGQDhHw4CDk+CNkAIR8OQo4PQjZAyIeDkOODkA0Q8uEg5PggZAOEfDgIOT4I2UCGXK1WoQmTk5MIOSYI2UCEvLKyQiMjI9CEUqmEkGOCkA1EyFtbW3AICDkeCBkgAxAyQAYgZIAMQMgAGYCQATIAIQNkAEIGyACEnARdXQe4eYAACLmT1IB13HoAHwi5k/Rw9ccAISHkTvELFjFDExByp5hiRcgQEULulDAhI2YICSHHSQ3TFKqc85sH0CDkuOhhmmI1zQE0eJf+P5i7Fxp6PTuLAAAAAElFTkSuQmCC" alt="withinAndtarget" width="50%">
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="validated-valid">@Validated @Valid<a href="#validated-valid" class="hash-link" aria-label="@Validated @Validçš„ç›´æ¥é“¾æ¥" title="@Validated @Validçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- è¯´æ˜</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">springboot2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token number" style="color:#36acaa">3</span><span class="token plain">ç‰ˆæœ¬åï¼Œwebä¸­ä¸åŒ…å«Validatedæ ¡éªŒä¾èµ–ï¼Œéœ€è¦æ‰‹åŠ¨æ·»åŠ ä¾èµ–</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">dependency</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">groupId</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">org</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">springframework</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">boot</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">groupId</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">artifactId</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">spring</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">boot</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">starter</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">validation</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">artifactId</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">dependency</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- å±æ€§æ ¡éªŒæ³¨è§£</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token variable" style="color:#36acaa">@NotBlank</span><span class="token plain">ï¼šåªç”¨åœ¨Stringä¸Šï¼Œè¡¨ç¤ºä¼ è¿›æ¥çš„å€¼ä¸èƒ½ä¸º</span><span class="token boolean" style="color:#36acaa">null</span><span class="token plain">ï¼Œè€Œä¸”è°ƒç”¨trim</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">åï¼Œé•¿åº¦å¿…é¡»  å¤§äº</span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token variable" style="color:#36acaa">@NotNull</span><span class="token plain">ï¼šä¸èƒ½ä¸º</span><span class="token boolean" style="color:#36acaa">null</span><span class="token plain">ï¼Œä½†å¯ä»¥ä¸ºempty</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">åˆ†é…äº†å†…å­˜ç©ºé—´ï¼Œä½†å€¼ä¸ºç©º</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token variable" style="color:#36acaa">@NotEmpty</span><span class="token plain">ï¼šä¸èƒ½ä¸º</span><span class="token boolean" style="color:#36acaa">null</span><span class="token plain">ï¼Œè€Œä¸”é•¿åº¦å¿…é¡»å¤§äº</span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- æ³¨è§£ä½ç½®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token variable" style="color:#36acaa">@Validated</span><span class="token plain">ï¼šç”¨åœ¨ç±»å‹ã€æ–¹æ³•å’Œæ–¹æ³•å‚æ•°ä¸Šã€‚ä½†ä¸èƒ½ç”¨äºæˆå‘˜å±æ€§</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token variable" style="color:#36acaa">@Valid</span><span class="token plain">ï¼šå¯ä»¥ç”¨åœ¨æ–¹æ³•ã€æ„é€ å‡½æ•°ã€æ–¹æ³•å‚æ•°å’Œæˆå‘˜å±æ€§ä¸Š</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">æ‰€ä»¥å¯ä»¥ç”¨</span><span class="token variable" style="color:#36acaa">@Valid</span><span class="token plain">å®ç°åµŒå¥—éªŒè¯</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- å¼‚å¸¸</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">å¦‚æœæ ¡éªŒå¤±è´¥ï¼Œä¼šæŠ›å‡ºMethodArgumentNotValidExceptionæˆ–è€…ConstraintViolationExceptionå¼‚å¸¸</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="åˆ†ç»„æ ¡éªŒ">åˆ†ç»„æ ¡éªŒ<a href="#åˆ†ç»„æ ¡éªŒ" class="hash-link" aria-label="åˆ†ç»„æ ¡éªŒçš„ç›´æ¥é“¾æ¥" title="åˆ†ç»„æ ¡éªŒçš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">-- åˆ†ç»„æ ¡éªŒ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- åœ¨åˆ†ç»„EditUseræ—¶ï¼ŒéªŒè¯idä¸èƒ½ä¸ºç©ºï¼Œå…¶ä»–æƒ…å†µä¸‹ä¸åšéªŒè¯</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@NotNull(groups={EditUser.class})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private Long id;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- æ­¤å¤„ä¸å¡«åˆ†ç»„æ¶ˆæ¯è¡¨ç¤ºæ‰€æœ‰åˆ†ç»„éƒ½éœ€è¦æ ¡éªŒ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@NotNull(groups = {AddUser.class, EditUser.class})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private UserIdCardVo userIdCardVo;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@RequestBody @Validated({EditUser.class})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- @Valid</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ä¸æ”¯æŒåˆ†ç»„ï¼Œæ‰€ä»¥å¯¹äºæ‰€æœ‰æ ¡éªŒæ ‡ç­¾é‡Œé¢æ·»åŠ äº†groupså­—æ®µçš„éƒ½ä¸ä¼šæ ¡éªŒä¼šè·³è¿‡</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="åµŒå¥—æ ¡éªŒ">åµŒå¥—æ ¡éªŒ<a href="#åµŒå¥—æ ¡éªŒ" class="hash-link" aria-label="åµŒå¥—æ ¡éªŒçš„ç›´æ¥é“¾æ¥" title="åµŒå¥—æ ¡éªŒçš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DTOç±»é‡Œé¢çš„å­—æ®µéƒ½æ˜¯åŸºæœ¬æ•°æ®ç±»å‹å’ŒStringç±»å‹ã€‚ä½†æ˜¯å®é™…åœºæ™¯ä¸­ï¼Œæœ‰å¯èƒ½æŸä¸ªå­—æ®µä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ç§æƒ…å†µå…ˆï¼Œå¯ä»¥ä½¿ç”¨åµŒå¥—æ ¡éªŒã€‚æ¯”å¦‚ï¼Œä¸Šé¢ä¿å­˜Userä¿¡æ¯çš„æ—¶å€™åŒæ—¶è¿˜å¸¦æœ‰Jobä¿¡æ¯ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ­¤æ—¶DTOç±»çš„å¯¹åº”å­—æ®µå¿…é¡»æ ‡è®°@Validæ³¨è§£</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@NotNull(groups = {Save.class, Update.class})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Valid</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private Job job;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public static class Job {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   @Min(value = 1, groups = Update.class)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   private Long jobId;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   @NotNull(groups = {Save.class, Update.class})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   @Length(min = 2, max = 10, groups = {Save.class, Update.class})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   private String jobName;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="é›†åˆæ ¡éªŒ">é›†åˆæ ¡éªŒ<a href="#é›†åˆæ ¡éªŒ" class="hash-link" aria-label="é›†åˆæ ¡éªŒçš„ç›´æ¥é“¾æ¥" title="é›†åˆæ ¡éªŒçš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">å¦‚æœè¯·æ±‚ä½“ç›´æ¥ä¼ é€’äº†jsonæ•°ç»„ç»™åå°ï¼Œå¹¶å¸Œæœ›å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹éƒ½è¿›è¡Œå‚æ•°æ ¡éªŒã€‚æ­¤æ—¶ï¼Œå¦‚æœæˆ‘ä»¬ç›´æ¥ä½¿ç”¨java.util.Collectionä¸‹çš„listæˆ–è€…setæ¥æ¥æ”¶æ•°æ®ï¼Œå‚æ•°æ ¡éªŒå¹¶ä¸ä¼šç”Ÿæ•ˆï¼æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰listé›†åˆæ¥æ¥æ”¶å‚æ•°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class ValidationList&lt;E&gt; implements List&lt;E&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Delegate // @Delegateæ˜¯lombokæ³¨è§£</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Valid // ä¸€å®šè¦åŠ @Validæ³¨è§£</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public List&lt;E&gt; list = new ArrayList&lt;&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // ä¸€å®šè¦è®°å¾—é‡å†™toStringæ–¹æ³•</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public String toString() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return list.toString();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@RequestBody @Validated(UserDTO.Save.class) ValidationList&lt;UserDTO&gt; userList</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="è‡ªå®šä¹‰æ ¡éªŒ">è‡ªå®šä¹‰æ ¡éªŒ<a href="#è‡ªå®šä¹‰æ ¡éªŒ" class="hash-link" aria-label="è‡ªå®šä¹‰æ ¡éªŒçš„ç›´æ¥é“¾æ¥" title="è‡ªå®šä¹‰æ ¡éªŒçš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/* </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ä¸šåŠ¡éœ€æ±‚æ€»æ˜¯æ¯”æ¡†æ¶æä¾›çš„è¿™äº›ç®€å•æ ¡éªŒè¦å¤æ‚çš„å¤šï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰æ ¡éªŒæ¥æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ã€‚è‡ªå®šä¹‰spring validationéå¸¸ç®€å•ï¼Œå‡è®¾æˆ‘ä»¬è‡ªå®šä¹‰åŠ å¯†idï¼ˆç”±æ•°å­—æˆ–è€…a-fçš„å­—æ¯ç»„æˆï¼Œ32-256é•¿åº¦ï¼‰æ ¡éªŒï¼Œä¸»è¦åˆ†ä¸ºä¸¤æ­¥</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Target({METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Retention(RUNTIME)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Documented</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Constraint(validatedBy = {EncryptIdValidator.class})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public @interface EncryptId {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // é»˜è®¤é”™è¯¯æ¶ˆæ¯</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    String message() default &quot;åŠ å¯†idæ ¼å¼é”™è¯¯&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // åˆ†ç»„</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Class&lt;?&gt;[] groups() default {};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // è´Ÿè½½</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Class&lt;? extends Payload&gt;[] payload() default {};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class EncryptIdValidator implements ConstraintValidator&lt;EncryptId, String&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private static final Pattern PATTERN = Pattern.compile(&quot;^[a-f\d]{32,256}$&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public boolean isValid(String value, ConstraintValidatorContext context) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // ä¸ä¸ºnullæ‰è¿›è¡Œæ ¡éªŒ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (value != null) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Matcher matcher = PATTERN.matcher(value);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return matcher.find();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨@EncryptIdè¿›è¡Œå‚æ•°æ ¡éªŒäº†</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="ç¼–ç¨‹å¼æ ¡éªŒ">ç¼–ç¨‹å¼æ ¡éªŒ<a href="#ç¼–ç¨‹å¼æ ¡éªŒ" class="hash-link" aria-label="ç¼–ç¨‹å¼æ ¡éªŒçš„ç›´æ¥é“¾æ¥" title="ç¼–ç¨‹å¼æ ¡éªŒçš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token variable" style="color:#36acaa">@Autowired</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private javax</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">validation</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Validator globalValidator</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// ç¼–ç¨‹å¼æ ¡éªŒ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token variable" style="color:#36acaa">@PostMapping</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;/saveWithCodingValidate&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> Result saveWithCodingValidate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token variable" style="color:#36acaa">@RequestBody</span><span class="token plain"> UserDTO userDTO</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">Set</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">ConstraintViolation</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">UserDTO</span><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token plain"> validate </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> globalValidator</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">validate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">userDTO</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> UserDTO</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">Save</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">class</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    	</span><span class="token comment" style="color:#999988;font-style:italic">// å¦‚æœæ ¡éªŒé€šè¿‡ï¼Œvalidateä¸ºç©ºï¼›å¦åˆ™ï¼ŒvalidateåŒ…å«æœªæ ¡éªŒé€šè¿‡é¡¹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">validate</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">isEmpty</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// æ ¡éªŒé€šè¿‡ï¼Œæ‰ä¼šæ‰§è¡Œä¸šåŠ¡é€»è¾‘å¤„ç†</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    } </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ConstraintViolation</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">UserDTO</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> userDTOConstraintViolation : validate</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// æ ¡éªŒå¤±è´¥ï¼Œåšå…¶å®ƒé€»è¾‘</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">out</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">println</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">userDTOConstraintViolation</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> Result</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ok</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="å¿«é€Ÿå¤±è´¥">å¿«é€Ÿå¤±è´¥<a href="#å¿«é€Ÿå¤±è´¥" class="hash-link" aria-label="å¿«é€Ÿå¤±è´¥çš„ç›´æ¥é“¾æ¥" title="å¿«é€Ÿå¤±è´¥çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Spring Validationé»˜è®¤ä¼šæ ¡éªŒå®Œæ‰€æœ‰å­—æ®µï¼Œç„¶åæ‰æŠ›å‡ºå¼‚å¸¸ã€‚å¯ä»¥é€šè¿‡ä¸€äº›ç®€å•çš„é…ç½®ï¼Œå¼€å¯Fali Fastæ¨¡å¼ï¼Œä¸€æ—¦æ ¡éªŒå¤±è´¥å°±ç«‹å³è¿”å›</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Bean</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public Validator validator() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ValidatorFactory validatorFactory = Validation.byProvider(HibernateValidator.class)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .configure()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // å¿«é€Ÿå¤±è´¥æ¨¡å¼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .failFast(true)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .buildValidatorFactory();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return validatorFactory.getValidator();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ•æ„Ÿè¯è„±æ•">æ•æ„Ÿè¯è„±æ•<a href="#æ•æ„Ÿè¯è„±æ•" class="hash-link" aria-label="æ•æ„Ÿè¯è„±æ•çš„ç›´æ¥é“¾æ¥" title="æ•æ„Ÿè¯è„±æ•çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p><a href="https://mp.weixin.qq.com/s/vVhB8uJBz4WMlOZHJ2Zbog" target="_blank" rel="noopener noreferrer">https://mp.weixin.qq.com/s/vVhB8uJBz4WMlOZHJ2Zbog</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="jenkinsè‡ªåŠ¨åŒ–éƒ¨ç½²">Jenkinsè‡ªåŠ¨åŒ–éƒ¨ç½²<a href="#jenkinsè‡ªåŠ¨åŒ–éƒ¨ç½²" class="hash-link" aria-label="Jenkinsè‡ªåŠ¨åŒ–éƒ¨ç½²çš„ç›´æ¥é“¾æ¥" title="Jenkinsè‡ªåŠ¨åŒ–éƒ¨ç½²çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- éƒ¨ç½²åç«¯</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https:</span><span class="token comment" style="color:#999988;font-style:italic">//www.macrozheng.com/mall/reference/jenkins.html</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- éƒ¨ç½²å‰ç«¯</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https:</span><span class="token comment" style="color:#999988;font-style:italic">//www.macrozheng.com/mall/reference/jenkins_vue.html</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="spiæœºåˆ¶">SPIæœºåˆ¶<a href="#spiæœºåˆ¶" class="hash-link" aria-label="SPIæœºåˆ¶çš„ç›´æ¥é“¾æ¥" title="SPIæœºåˆ¶çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//SPI ï¼Œå…¨ç§°ä¸º Service Provider Interfaceï¼Œæ˜¯ä¸€ç§æœåŠ¡å‘ç°æœºåˆ¶ã€‚å®ƒé€šè¿‡åœ¨ClassPathè·¯å¾„ä¸‹çš„META-INF/servicesæ–‡ä»¶å¤¹æŸ¥æ‰¾æ–‡ä»¶ï¼Œè‡ªåŠ¨åŠ è½½æ–‡ä»¶é‡Œæ‰€å®šä¹‰çš„ç±»ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//1.é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€ä¸ªæ¥å£ï¼ŒSPIService</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public interface SPIService {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void execute();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//2.ç„¶åï¼Œå®šä¹‰ä¸¤ä¸ªå®ç°ç±»</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class SpiImpl1 implements SPIService{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void execute() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;SpiImpl1.execute()&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class SpiImpl2 implements SPIService{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void execute() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;SpiImpl2.execute()&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//3.æœ€åå‘¢ï¼Œè¦åœ¨ClassPathè·¯å¾„ä¸‹é…ç½®æ·»åŠ ä¸€ä¸ªæ–‡ä»¶ã€‚æ–‡ä»¶åå­—æ˜¯æ¥å£çš„å…¨é™å®šç±»åï¼Œå†…å®¹æ˜¯å®ç°ç±»çš„å…¨é™å®šç±»åï¼Œå¤šä¸ªå®ç°ç±»ç”¨æ¢è¡Œç¬¦åˆ†éš”ã€‚com.viewscenes.netsupervisor.spi.SPIServiceã€‚å†…å®¹ï¼š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">com.viewscenes.netsupervisor.spi.SpiImpl1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">com.viewscenes.netsupervisor.spi.SpiImpl2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//4.ç„¶åæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ServiceLoader.loadæˆ–è€…Service.providersæ–¹æ³•æ‹¿åˆ°å®ç°ç±»çš„å®ä¾‹ã€‚å…¶ä¸­ï¼ŒService.providersåŒ…ä½äºsun.misc.Serviceï¼Œè€ŒServiceLoader.loadåŒ…ä½äºjava.util.ServiceLoaderã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class Test {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static void main(String[] args) {    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Iterator&lt;SPIService&gt; providers = Service.providers(SPIService.class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ServiceLoader&lt;SPIService&gt; load = ServiceLoader.load(SPIService.class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        while(providers.hasNext()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            SPIService ser = providers.next();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ser.execute();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;--------------------------------&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Iterator&lt;SPIService&gt; iterator = load.iterator();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        while(iterator.hasNext()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            SPIService ser = iterator.next();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ser.execute();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//5.è¾“å‡ºç»“æœ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SpiImpl1.execute()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SpiImpl2.execute()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SpiImpl1.execute()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SpiImpl2.execute()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">æ€»ç»“ï¼šJavaä¸­çš„SPIæä¾›äº†ä¸€ç§æ¯”è¾ƒç‰¹åˆ«çš„æœåŠ¡å‘ç°å’Œè°ƒç”¨æœºåˆ¶ï¼Œé€šè¿‡æ¥å£çµæ´»çš„å°†æœåŠ¡è°ƒç”¨ä¸æœåŠ¡æ ä¾›è€…åˆ†ç¦»ï¼Œç”¨äºæä¾›ç»™ç¬¬ä¸‰æ–¹å®ç°æ‰©å±•æ—¶è¿˜æ˜¯å¾ˆæ–¹ä¾¿çš„ã€‚ä½†æ˜¯ä¹Ÿæœ‰ç¼ºç‚¹ï¼Œæ¯”æ–¹è¯´ä¸€æ—¦åŠ è½½ä¸€ä¸ªæ¥å£ï¼Œå°±ä¼šæŠŠæ‰€æœ‰å®ç°ç±»éƒ½åŠ è½½è¿›æ¥ï¼Œå¯èƒ½ä¼šåŠ è½½åˆ°ä¸éœ€è¦çš„å†—ä½™æœåŠ¡ã€‚ä¸è¿‡ç«™åœ¨æ•´ä½“è§’åº¦ä¸Šï¼Œè¿˜æ˜¯ç»™æˆ‘ä»¬æä¾›äº†ä¸€ç§éå¸¸ä¸é”™çš„æ¡†æ¶æ‰©å±•ã€é›†æˆçš„æ€è·¯ã€‚</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="jna-jni">JNA JNI<a href="#jna-jni" class="hash-link" aria-label="JNA JNIçš„ç›´æ¥é“¾æ¥" title="JNA JNIçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- JNA(Java Native Access &quot;JNA(Java Native Access)&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ä¸€ä¸ªå¼€æºçš„ Java æ¡†æ¶ï¼Œæ˜¯ Sun å…¬å¸æ¨å‡ºçš„ä¸€ç§è°ƒç”¨æœ¬åœ°æ–¹æ³•çš„æŠ€æœ¯ï¼Œæ˜¯å»ºç«‹åœ¨ç»å…¸çš„ JNI åŸºç¡€ä¹‹ä¸Šçš„ä¸€ä¸ªæ¡†æ¶ã€‚ä¹‹æ‰€ä»¥è¯´å®ƒæ˜¯ JNI çš„æ›¿ä»£è€…ï¼Œæ˜¯å› ä¸º JNA å¤§å¤§ç®€åŒ–äº†è°ƒç”¨æœ¬åœ°æ–¹æ³•çš„è¿‡ç¨‹ï¼Œä½¿ç”¨å¾ˆæ–¹ä¾¿ï¼ŒåŸºæœ¬ä¸Šä¸éœ€è¦è„±ç¦» Java ç¯å¢ƒå°±å¯ä»¥å®Œæˆã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- JNI ï¼ˆJava Native Interfaceï¼‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">å³ Java æœ¬åœ°æ¥å£ï¼Œå®ƒå»ºç«‹äº† Java ä¸å…¶ä»–ç¼–ç¨‹è¯­è¨€çš„æ¡¥æ¢ï¼Œå…è®¸ Java ç¨‹åºè°ƒç”¨å…¶ä»–è¯­è¨€ï¼ˆå°¤å…¶æ˜¯ C</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">C</span><span class="token operator" style="color:#393A34">+</span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> ï¼‰ç¼–å†™çš„ç¨‹åºæˆ–è€…ä»£ç åº“ã€‚å¹¶ä¸”ï¼Œ JDK æœ¬èº«çš„å®ç°ä¹Ÿå¤§é‡ç”¨åˆ° JNI æŠ€æœ¯æ¥è°ƒç”¨æœ¬åœ° C ç¨‹åºåº“ã€‚</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="aop">AOP<a href="#aop" class="hash-link" aria-label="AOPçš„ç›´æ¥é“¾æ¥" title="AOPçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- AOPä¸ºAspect Oriented Programmingçš„ç¼©å†™</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- æ„ä¸ºï¼šé¢å‘åˆ‡é¢ç¼–ç¨‹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- é€šè¿‡é¢„ç¼–è¯‘æ–¹å¼å’Œè¿è¡ŒæœŸåŠ¨æ€ä»£ç†å®ç°ç¨‹åºåŠŸèƒ½çš„ç»Ÿä¸€ç»´æŠ¤çš„ä¸€ç§æŠ€æœ¯</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- åˆ©ç”¨AOPå¯ä»¥å¯¹ä¸šåŠ¡é€»è¾‘çš„å„ä¸ªéƒ¨åˆ†è¿›è¡Œéš”ç¦»ï¼Œä»è€Œä½¿å¾—ä¸šåŠ¡é€»è¾‘å„éƒ¨åˆ†ä¹‹é—´çš„è€¦åˆåº¦é™ä½ï¼Œæé«˜ç¨‹åºçš„å¯é‡ç”¨æ€§ï¼ŒåŒæ—¶æé«˜äº†å¼€å‘çš„æ•ˆç‡</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ç›¸å…³æœ¯è¯­">ç›¸å…³æœ¯è¯­<a href="#ç›¸å…³æœ¯è¯­" class="hash-link" aria-label="ç›¸å…³æœ¯è¯­çš„ç›´æ¥é“¾æ¥" title="ç›¸å…³æœ¯è¯­çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="é€šçŸ¥advice">é€šçŸ¥ï¼ˆAdviceï¼‰<a href="#é€šçŸ¥advice" class="hash-link" aria-label="é€šçŸ¥ï¼ˆAdviceï¼‰çš„ç›´æ¥é“¾æ¥" title="é€šçŸ¥ï¼ˆAdviceï¼‰çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<p>é€šçŸ¥æè¿°äº†åˆ‡é¢è¦å®Œæˆçš„å·¥ä½œä»¥åŠä½•æ—¶æ‰§è¡Œã€‚æ¯”å¦‚æˆ‘ä»¬çš„æ—¥å¿—åˆ‡é¢éœ€è¦è®°å½•æ¯ä¸ªæ¥å£è°ƒç”¨æ—¶é•¿ï¼Œå°±éœ€è¦åœ¨æ¥å£è°ƒç”¨å‰ååˆ†åˆ«è®°å½•å½“å‰æ—¶é—´ï¼Œå†å–å·®å€¼</p>
<ul>
<li>å‰ç½®é€šçŸ¥ï¼ˆBeforeï¼‰ï¼šåœ¨ç›®æ ‡æ–¹æ³•è°ƒç”¨å‰è°ƒç”¨é€šçŸ¥åŠŸèƒ½ã€‚</li>
<li>åç½®é€šçŸ¥ï¼ˆAfterï¼‰ï¼šåœ¨ç›®æ ‡æ–¹æ³•è°ƒç”¨ä¹‹åè°ƒç”¨é€šçŸ¥åŠŸèƒ½ï¼Œä¸å…³å¿ƒæ–¹æ³•çš„è¿”å›ç»“æœï¼›åŸæ“ä½œå¼‚å¸¸ä¹Ÿä¼šæ‰§è¡Œã€‚</li>
<li>è¿”å›é€šçŸ¥ï¼ˆAfterReturningï¼‰ï¼šåœ¨ç›®æ ‡æ–¹æ³•æˆåŠŸæ‰§è¡Œä¹‹åè°ƒç”¨é€šçŸ¥åŠŸèƒ½ï¼›åŸæ“ä½œå¼‚å¸¸ï¼Œä¸ä¼šæ‰§è¡Œã€‚</li>
<li>å¼‚å¸¸é€šçŸ¥ï¼ˆAfterThrowingï¼‰ï¼šåœ¨ç›®æ ‡æ–¹æ³•æŠ›å‡ºå¼‚å¸¸åè°ƒç”¨é€šçŸ¥åŠŸèƒ½ã€‚</li>
<li>ç¯ç»•é€šçŸ¥ï¼ˆAroundï¼‰ï¼šé€šçŸ¥åŒ…è£¹äº†ç›®æ ‡æ–¹æ³•ï¼Œåœ¨ç›®æ ‡æ–¹æ³•è°ƒç”¨ä¹‹å‰å’Œä¹‹åæ‰§è¡Œè‡ªå®šä¹‰çš„è¡Œä¸ºï¼›
éœ€è¦å¯¹åŸæ“ä½œè°ƒç”¨Object result = proceedingJoinPoint.proceed()ï¼›
å¦‚æœæœ‰è¿”å›å€¼ï¼Œéœ€è¦return resultã€‚</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="è¿æ¥ç‚¹joinpoint">è¿æ¥ç‚¹ï¼ˆJoinPointï¼‰<a href="#è¿æ¥ç‚¹joinpoint" class="hash-link" aria-label="è¿æ¥ç‚¹ï¼ˆJoinPointï¼‰çš„ç›´æ¥é“¾æ¥" title="è¿æ¥ç‚¹ï¼ˆJoinPointï¼‰çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<p>é€šçŸ¥åŠŸèƒ½è¢«åº”ç”¨çš„æ—¶æœºã€‚æ¯”å¦‚æ¥å£æ–¹æ³•è¢«è°ƒç”¨çš„æ—¶å€™å°±æ˜¯æ—¥å¿—åˆ‡é¢çš„è¿æ¥ç‚¹</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="åˆ‡ç‚¹pointcut">åˆ‡ç‚¹ï¼ˆPointcutï¼‰<a href="#åˆ‡ç‚¹pointcut" class="hash-link" aria-label="åˆ‡ç‚¹ï¼ˆPointcutï¼‰çš„ç›´æ¥é“¾æ¥" title="åˆ‡ç‚¹ï¼ˆPointcutï¼‰çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<p>åˆ‡ç‚¹å®šä¹‰äº†é€šçŸ¥åŠŸèƒ½è¢«åº”ç”¨çš„èŒƒå›´ã€‚æ¯”å¦‚æ—¥å¿—åˆ‡é¢çš„åº”ç”¨èŒƒå›´å°±æ˜¯æ‰€æœ‰æ¥å£ï¼Œå³æ‰€æœ‰controllerå±‚çš„æ¥å£æ–¹æ³•</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="åˆ‡é¢aspect">åˆ‡é¢ï¼ˆAspectï¼‰<a href="#åˆ‡é¢aspect" class="hash-link" aria-label="åˆ‡é¢ï¼ˆAspectï¼‰çš„ç›´æ¥é“¾æ¥" title="åˆ‡é¢ï¼ˆAspectï¼‰çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<p>åˆ‡é¢æ˜¯é€šçŸ¥å’Œåˆ‡ç‚¹çš„ç»“åˆï¼Œå®šä¹‰  äº†ä½•æ—¶ã€ä½•åœ°åº”ç”¨é€šçŸ¥åŠŸèƒ½</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="å¼•å…¥introduction">å¼•å…¥ï¼ˆIntroductionï¼‰<a href="#å¼•å…¥introduction" class="hash-link" aria-label="å¼•å…¥ï¼ˆIntroductionï¼‰çš„ç›´æ¥é“¾æ¥" title="å¼•å…¥ï¼ˆIntroductionï¼‰çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<p>åœ¨æ— éœ€ä¿®æ”¹ç°æœ‰ç±»çš„æƒ…å†µä¸‹ï¼Œå‘ç°æœ‰çš„ç±»æ·»åŠ æ–°æ–¹æ³•æˆ–å±æ€§</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="ç»‡å…¥weaving">ç»‡å…¥ï¼ˆWeavingï¼‰<a href="#ç»‡å…¥weaving" class="hash-link" aria-label="ç»‡å…¥ï¼ˆWeavingï¼‰çš„ç›´æ¥é“¾æ¥" title="ç»‡å…¥ï¼ˆWeavingï¼‰çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<p>æŠŠåˆ‡é¢åº”ç”¨åˆ°ç›®æ ‡å¯¹è±¡å¹¶åˆ›å»ºæ–°çš„ä»£ç†å¯¹è±¡çš„è¿‡ç¨‹</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ç›¸å…³æ³¨è§£">ç›¸å…³æ³¨è§£<a href="#ç›¸å…³æ³¨è§£" class="hash-link" aria-label="ç›¸å…³æ³¨è§£çš„ç›´æ¥é“¾æ¥" title="ç›¸å…³æ³¨è§£çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<ul>
<li>@Aspectï¼šç”¨äºå®šä¹‰åˆ‡é¢</li>
<li>@Beforeï¼šé€šçŸ¥æ–¹æ³•ä¼šåœ¨ç›®æ ‡æ–¹æ³•è°ƒç”¨ä¹‹å‰æ‰§è¡Œ</li>
<li>@Afterï¼šé€šçŸ¥æ–¹æ³•ä¼šåœ¨ç›®æ ‡æ–¹æ³•è¿”å›æˆ–æŠ›å‡ºå¼‚å¸¸åæ‰§è¡Œ</li>
<li>@AfterReturningï¼šé€šçŸ¥æ–¹æ³•ä¼šåœ¨ç›®æ ‡æ–¹æ³•è¿”å›åæ‰§è¡Œ</li>
<li>@AfterThrowingï¼šé€šçŸ¥æ–¹æ³•ä¼šåœ¨ç›®æ ‡æ–¹æ³•æŠ›å‡ºå¼‚å¸¸åæ‰§è¡Œ</li>
<li>@Aroundï¼šé€šçŸ¥æ–¹æ³•ä¼šå°†ç›®æ ‡æ–¹æ³•å°è£…èµ·æ¥</li>
<li>@Pointcutï¼šå®šä¹‰åˆ‡ç‚¹è¡¨è¾¾å¼</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="åˆ‡ç‚¹è¡¨è¾¾å¼">åˆ‡ç‚¹è¡¨è¾¾å¼<a href="#åˆ‡ç‚¹è¡¨è¾¾å¼" class="hash-link" aria-label="åˆ‡ç‚¹è¡¨è¾¾å¼çš„ç›´æ¥é“¾æ¥" title="åˆ‡ç‚¹è¡¨è¾¾å¼çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- æŒ‡å®šäº†é€šçŸ¥è¢«åº”ç”¨çš„  èŒƒå›´ï¼Œè¡¨è¾¾å¼æ ¼å¼</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">execution</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">æ–¹æ³•ä¿®é¥°ç¬¦ è¿”å›ç±»å‹ æ–¹æ³•æ‰€å±çš„åŒ…</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ç±»å</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">æ–¹æ³•åç§°</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">æ–¹æ³•å‚æ•°</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- com.macro.mall.tiny.controlleråŒ…ä¸­æ‰€æœ‰ç±»çš„publicæ–¹æ³•éƒ½åº”ç”¨åˆ‡é¢é‡Œçš„é€šçŸ¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">execution</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> com</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">macro</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mall</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tiny</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">controller</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- com.macro.mall.tiny.serviceåŒ…åŠå…¶å­åŒ…ä¸‹æ‰€æœ‰ç±»ä¸­çš„æ‰€æœ‰æ–¹æ³•éƒ½åº”ç”¨åˆ‡é¢é‡Œçš„é€šçŸ¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">execution</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> com</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">macro</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mall</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tiny</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">service</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- com.macro.mall.tiny.service.PmsBrandServiceç±»ä¸­çš„æ‰€æœ‰æ–¹æ³•éƒ½åº”ç”¨åˆ‡é¢é‡Œçš„é€šçŸ¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">execution</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> com</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">macro</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mall</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tiny</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">service</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PmsBrandService</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ¥å£æ–‡æ¡£">æ¥å£æ–‡æ¡£<a href="#æ¥å£æ–‡æ¡£" class="hash-link" aria-label="æ¥å£æ–‡æ¡£çš„ç›´æ¥é“¾æ¥" title="æ¥å£æ–‡æ¡£çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="springfox">springfox<a href="#springfox" class="hash-link" aria-label="springfoxçš„ç›´æ¥é“¾æ¥" title="springfoxçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">io.springfox</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">springfox-swagger2</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">2.2.2</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">io.springfox</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">springfox-swagger-ui</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">2.2.2</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token number" style="color:#36acaa">1.</span><span class="token plain"> Springfoxæ˜¯ä¸€ä¸ªé€šè¿‡æ‰«æä»£ç æå–ä»£ç ä¸­çš„ä¿¡æ¯ï¼Œç”ŸæˆAPIæ–‡æ¡£çš„å·¥å…·</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2.</span><span class="token plain"> APIæ–‡æ¡£çš„æ ¼å¼ä¸æ­¢Swaggerçš„OpenAPI Specificationï¼Œè¿˜æœ‰RAMLï¼Œjsonapiï¼ŒSpringfoxçš„ç›®æ ‡åŒæ ·åŒ…æ‹¬æ”¯æŒè¿™äº›æ ¼å¼ã€‚è¿™å°±èƒ½è§£é‡Šé‚£ä¸ªswagger2çš„åç¼€äº†ï¼Œè¿™åªæ˜¯Springfoxå¯¹Swaggerçš„æ”¯æŒ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">3.</span><span class="token plain"> åœ¨Swaggerçš„æ•™ç¨‹ä¸­ï¼Œéƒ½ä¼šæåˆ°</span><span class="token variable" style="color:#36acaa">@Api</span><span class="token plain">ã€</span><span class="token variable" style="color:#36acaa">@ApiModel</span><span class="token plain">ã€</span><span class="token variable" style="color:#36acaa">@ApiOperation</span><span class="token plain">è¿™äº›æ³¨è§£ï¼Œè¿™äº›æ³¨è§£å…¶å®ä¸æ˜¯Springfoxçš„ï¼Œè€Œæ˜¯Swaggerçš„ã€‚springfox</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">swagger2è¿™ä¸ªåŒ…ä¾èµ–äº†swagger</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">coreè¿™ä¸ªåŒ…ï¼Œè€Œè¿™äº›æ³¨è§£æ­£æ˜¯åœ¨è¿™é‡Œé¢</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">4.</span><span class="token plain"> swagger</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">coreè¿™ä¸ªåŒ…æ˜¯åªæ”¯æŒJAX</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">RS2çš„ï¼Œå¹¶ä¸æ”¯æŒå¸¸ç”¨çš„Spring MVCã€‚è¿™å°±æ˜¯springfox</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">swaggerçš„ä½œç”¨äº†ï¼Œå®ƒå°†ä¸Šé¢é‚£äº›ç”¨äºJAX</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">RS2çš„æ³¨è§£é€‚é…åˆ°äº†Spring MVCä¸Š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">5.</span><span class="token plain"> é™¤äº†Spring MVCå¤–ï¼ŒSpringfoxè¿˜æ”¯æŒSpring </span><span class="token keyword" style="color:#00009f">Data</span><span class="token plain"> RESTã€JSR </span><span class="token number" style="color:#36acaa">303</span><span class="token plain">ï¼Œè¿™é¡¹æ ‡å‡†çš„å‚è€ƒå®ç°æ˜¯Hibernate Validator</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="swagger">swagger<a href="#swagger" class="hash-link" aria-label="swaggerçš„ç›´æ¥é“¾æ¥" title="swaggerçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- æ¥å£åœ°å€ï¼š</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">http:</span><span class="token comment" style="color:#999988;font-style:italic">//localhost:8080/swagger-ui.html</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- æ³¨é‡Šè¯´æ˜</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">@Api</span><span class="token plain">ï¼šç”¨äºä¿®é¥°Controllerç±»ï¼Œç”ŸæˆControllerç›¸å…³æ–‡æ¡£ä¿¡æ¯</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">@ApiOperation</span><span class="token plain">ï¼šç”¨äºä¿®é¥°Controllerç±»ä¸­çš„æ–¹æ³•ï¼Œç”Ÿæˆæ¥å£æ–¹æ³•ç›¸å…³æ–‡æ¡£ä¿¡æ¯</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">@ApiParam</span><span class="token plain">ï¼šç”¨äºä¿®é¥°æ¥å£ä¸­çš„å‚æ•°ï¼Œç”Ÿæˆæ¥å£å‚æ•°ç›¸å…³æ–‡æ¡£ä¿¡æ¯</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">@ApiModelProperty</span><span class="token plain">ï¼šç”¨äºä¿®é¥°å®ä½“ç±»çš„å±æ€§ï¼Œå½“å®ä½“ç±»æ˜¯è¯·æ±‚å‚æ•°æˆ–è¿”å›ç»“æœæ—¶ï¼Œç›´æ¥ç”Ÿæˆç›¸å…³æ–‡æ¡£ä¿¡æ¯</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!--Swagger-UI APIæ–‡æ¡£ç”Ÿäº§å·¥å…·--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">io.springfox</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">springfox-swagger2</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">2.7.0</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">io.springfox</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">springfox-swagger-ui</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">2.7.0</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">package com.heminhua.system.config;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.springframework.context.annotation.Bean;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.springframework.context.annotation.Configuration;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import springfox.documentation.builders.ApiInfoBuilder;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import springfox.documentation.builders.PathSelectors;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import springfox.documentation.builders.RequestHandlerSelectors;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import springfox.documentation.service.ApiInfo;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import springfox.documentation.spi.DocumentationType;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import springfox.documentation.spring.web.plugins.Docket;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import springfox.documentation.swagger2.annotations.EnableSwagger2;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * Swagger2APIæ–‡æ¡£çš„é…ç½®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @author hmh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@EnableSwagger2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class Swagger2Config {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Bean</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Docket createRestApi(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return new Docket(DocumentationType.SWAGGER_2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                .apiInfo(apiInfo())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                .select()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                //ä¸ºå½“å‰åŒ…ä¸‹controllerç”ŸæˆAPIæ–‡æ¡£</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                .apis(RequestHandlerSelectors.basePackage(&quot;com.heminhua.system.api&quot;))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                //ä¸ºæœ‰@Apiæ³¨è§£çš„Controllerç”ŸæˆAPIæ–‡æ¡£</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                //.apis(RequestHandlerSelectors.withClassAnnotation(Api.class))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                //ä¸ºæœ‰@ApiOperationæ³¨è§£çš„æ–¹æ³•ç”ŸæˆAPIæ–‡æ¡£</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                //.apis(RequestHandlerSelectors.withMethodAnnotation(ApiOperation.class))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                .paths(PathSelectors.any())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                .build();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private ApiInfo apiInfo() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return new ApiInfoBuilder()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                .title(&quot;SwaggerUIæ¼”ç¤º&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                .description(&quot;æ¥å£æ–‡æ¡£&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                .contact(&quot;hmhStart&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                .version(&quot;1.0&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                .build();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="knife4j">knife4j<a href="#knife4j" class="hash-link" aria-label="knife4jçš„ç›´æ¥é“¾æ¥" title="knife4jçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- æ¥å£åœ°å€ï¼š</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">http:</span><span class="token comment" style="color:#999988;font-style:italic">//localhost:9992/doc.html#/home</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!--æ•´åˆKnife4j--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">com.github.xiaoymin</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">knife4j-spring-boot-starter</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">2.0.2</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * Swagger2APIæ–‡æ¡£çš„é…ç½®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@EnableSwagger2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@EnableKnife4j</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class Swagger2Config {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="swaggeræ–°ç‰ˆæœ¬">swaggeræ–°ç‰ˆæœ¬<a href="#swaggeræ–°ç‰ˆæœ¬" class="hash-link" aria-label="swaggeræ–°ç‰ˆæœ¬çš„ç›´æ¥é“¾æ¥" title="swaggeræ–°ç‰ˆæœ¬çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!--springfox swaggerå®˜æ–¹Starter--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">io.springfox</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">springfox-boot-starter</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">3.0.0</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- åœ°å€</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">http:</span><span class="token comment" style="color:#999988;font-style:italic">//localhost:8088/swagger-ui/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">springfox</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token key atrule" style="color:#00a4db">documentation</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token key atrule" style="color:#00a4db">enabled</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ååº”å¼ç¼–ç¨‹">ååº”å¼ç¼–ç¨‹<a href="#ååº”å¼ç¼–ç¨‹" class="hash-link" aria-label="ååº”å¼ç¼–ç¨‹çš„ç›´æ¥é“¾æ¥" title="ååº”å¼ç¼–ç¨‹çš„ç›´ æ¥é“¾æ¥">â€‹</a></h2>
<p>ååº”å¼ç¼–ç¨‹æ˜¯å…³äºéé˜»å¡åº”ç”¨ç¨‹åºçš„ï¼Œè¿™äº›åº”ç”¨ç¨‹åºæ˜¯å¼‚æ­¥çš„ã€äº‹ä»¶é©±åŠ¨çš„ï¼Œå¹¶ä¸”éœ€è¦å°‘é‡çš„çº¿ç¨‹æ¥å‚ç›´ä¼¸ç¼©(å³åœ¨ JVM ä¸­)ï¼Œè€Œä¸æ˜¯æ°´å¹³ä¼¸ç¼©(å³é€šè¿‡é›†ç¾¤)</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="reactoræ¡†æ¶">Reactoræ¡†æ¶<a href="#reactoræ¡†æ¶" class="hash-link" aria-label="Reactoræ¡†æ¶çš„ç›´æ¥é“¾æ¥" title="Reactoræ¡†æ¶çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- Reactoræ˜¯ä¸€ä¸ªç¬¬å››ä»£å“åº”å¼ç¼–ç¨‹æ¡†æ¶ï¼Œç”¨äºæ„å»ºéé˜»å¡JVMåº”ç”¨ç¨‹åºï¼ŒåŸºäºReactive Streams Specificationå®ç°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- Reactoræ˜¯ä¸€ç§åŸºäºäº‹ä»¶é©±åŠ¨çš„ç¼–ç¨‹æ¨¡å‹ï¼Œå®ƒä¸»è¦ç”¨äºç½‘ç»œç¼–ç¨‹ä¸­çš„é«˜å¹¶å‘åœºæ™¯ï¼Œèƒ½å¤Ÿé«˜æ•ˆåœ°å¤„ç†å¤§é‡çš„å¹¶å‘è¿æ¥è¯·æ±‚</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- Reactorä¸¤ä¸ªæ ¸å¿ƒç»„ä»¶ï¼šSelectorå’ŒHandler</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1.</span><span class="token plain"> Selectoræ˜¯Java NIOä¸­çš„ä¸€ä¸ªæ ¸å¿ƒç»„ä»¶ï¼Œå®ƒå¯ä»¥ç›‘å¬å¤šä¸ªé€šé“ï¼ˆChannelï¼‰çš„äº‹ä»¶ï¼Œå¦‚è¿æ¥ã€è¯»å†™ç­‰äº‹ä»¶ã€‚Selectorä¼šä¸æ–­è½®è¯¢å·²ç»æ³¨å†Œçš„é€šé“ï¼Œä¸€æ—¦æŸä¸ªé€šé“å‘ç”Ÿäº†äº‹  ä»¶ï¼ŒSelectorå°±ä¼šé€šçŸ¥ç›¸åº”çš„</span><span class="token keyword" style="color:#00009f">Handler</span><span class="token plain">æ¥å¤„ç†è¿™ä¸ªäº‹ä»¶ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2.</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">Handler</span><span class="token plain">æ˜¯ä¸€ä¸ªå¤„ç†å™¨ï¼Œå®ƒè´Ÿè´£å…·ä½“çš„ä¸šåŠ¡é€»è¾‘ï¼Œå½“Selectoré€šçŸ¥</span><span class="token keyword" style="color:#00009f">Handler</span><span class="token plain">æœ‰äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œ</span><span class="token keyword" style="color:#00009f">Handler</span><span class="token plain">å°±ä¼šæ ¹æ®äº‹ä»¶ç±»å‹æ‰§è¡Œç›¸åº”çš„æ“ä½œï¼Œä¾‹å¦‚è¯»å–æ•°æ®ã€å¤„ç†æ•°æ®ã€å†™å…¥æ•°æ®ç­‰ç­‰ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- ä¸»è¦æµç¨‹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1.</span><span class="token plain"> Selectorç›‘å¬é€šé“ä¸Šçš„äº‹ä»¶ï¼Œå½“æœ‰äº‹ä»¶å‘ç”Ÿæ—¶ï¼ŒSelectorå°±ä¼šé€šçŸ¥ç›¸åº”çš„</span><span class="token keyword" style="color:#00009f">Handler</span><span class="token plain">æ¥å¤„ç†äº‹ä»¶ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2.</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">Handler</span><span class="token plain">å¤„ç†äº‹ä»¶ï¼Œæ ¹æ®äº‹ä»¶ç±»å‹æ‰§è¡Œç›¸åº”çš„æ“ä½œã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">3.</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">Handler</span><span class="token plain">å°†å¤„ç†ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- ä¼˜ç¼ºç‚¹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Javaç±»Reactoræ¨¡å‹çš„ä¼˜ç‚¹æ˜¯å¯ä»¥å¤„ç†å¤§é‡çš„å¹¶å‘è¿æ¥è¯·æ±‚ï¼Œå‡å°‘äº†çº¿ç¨‹çš„åˆ›å»ºå’Œé”€æ¯ï¼Œæé«˜äº†ç¨‹åºçš„æ€§èƒ½å’Œæ•ˆç‡ã€‚ä½†åŒæ—¶ä¹Ÿéœ€è¦æ³¨æ„é˜²æ­¢</span><span class="token keyword" style="color:#00009f">Handler</span><span class="token plain">çš„å¤„ç†é€»è¾‘è¿‡äºå¤æ‚ï¼Œå¯¼è‡´é˜»å¡æˆ–è€…è€—æ—¶è¿‡é•¿çš„æƒ…å†µå‡ºç°ã€‚</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="fluxå’Œmono">Fluxå’ŒMono<a href="#fluxå’Œmono" class="hash-link" aria-label="Fluxå’ŒMonoçš„ç›´æ¥é“¾æ¥" title="Fluxå’ŒMonoçš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- Flux</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1.</span><span class="token plain"> ä»£è¡¨çš„æ˜¯ </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">to</span><span class="token plain"> N ä¸ªå“åº”å¼åºåˆ—</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2.</span><span class="token plain"> Fluxå…¶å®å°±æ˜¯ä¸€ä¸ªPublisherï¼Œç”¨æ¥äº§ç”Ÿå¼‚æ­¥åºåˆ—</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">3.</span><span class="token plain"> Fluxæä¾›äº†éå¸¸å¤šçš„æœ‰ç”¨çš„æ–¹æ³•ï¼Œæ¥å¤„ç†è¿™äº›åºåˆ—ï¼Œå¹¶ä¸”æä¾›äº†completionå’Œerrorçš„ä¿¡å·é€šçŸ¥</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">4.</span><span class="token plain"> ç›¸åº”çš„ä¼šå»è°ƒç”¨Subscriberçš„onNext</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> onComplete</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> onErroræ–¹æ³•</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- Mono</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1.</span><span class="token plain"> ä»£è¡¨çš„æ˜¯</span><span class="token number" style="color:#36acaa">0</span><span class="token plain">æˆ–è€…</span><span class="token number" style="color:#36acaa">1</span><span class="token plain">ä¸ªå“åº”å¼åºåˆ—</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2.</span><span class="token plain"> Monoå’ŒFluxä¸€æ ·ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªPublisherï¼Œç”¨æ¥äº§ç”Ÿå¼‚æ­¥åºåˆ—ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">3.</span><span class="token plain"> Monoå› ä¸ºåªæœ‰</span><span class="token number" style="color:#36acaa">0</span><span class="token plain">æˆ–è€…</span><span class="token number" style="color:#36acaa">1</span><span class="token plain">ä¸ªåºåˆ—ï¼Œæ‰€ä»¥åªä¼šè§¦å‘Subscriberçš„onCompleteå’ŒonErroræ–¹æ³•ï¼Œæ²¡æœ‰onNext</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">4.</span><span class="token plain"> Monoå’ŒFluxæ˜¯å¯ä»¥äº’ç›¸è½¬æ¢çš„ï¼ŒMono</span><span class="token comment" style="color:#999988;font-style:italic">#concatWith(Publisher)è¿”å›ä¸€ä¸ªFluxï¼Œè€Œ Mono#then(Mono)è¿”å›ä¸€ä¸ªMono.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="flux">Flux<a href="#flux" class="hash-link" aria-label="Fluxçš„ç›´æ¥é“¾æ¥" title="Fluxçš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- åˆ›å»º</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Flux</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">String</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> seq1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Flux</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">just</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;foo&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;bar&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;foobar&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">List</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">String</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> iterable </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Arrays</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">asList</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;foo&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;bar&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;foobar&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Flux</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">String</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> seq2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Flux</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fromIterable</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">iterable</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Flux</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">Integer</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> numbersFromFiveToSeven </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Flux</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- æ‰“å°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">åˆ›å»ºçš„Fluxè°ƒç”¨log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- subscribe</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Disposable subscribe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Disposable subscribe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Consumer</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">? super T</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> consumer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Disposable subscribe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Consumer</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">? super T</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> consumer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          Consumer</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">? super Throwable</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> errorConsumer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Disposable subscribe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Consumer</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">? super T</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> consumer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          Consumer</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">? super Throwable</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> errorConsumer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          Runnable completeConsumer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Disposable subscribe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Consumer</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">? super T</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> consumer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          Consumer</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">? super Throwable</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> errorConsumer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          Runnable completeConsumer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          Consumer</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">? super Subscription</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> subscriptionConsumer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- subscribeå››ä¸ªå‚æ•°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Flux</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">Integer</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> ints3 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Flux</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ints3</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">subscribe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    System</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">out</span><span class="token plain">::println</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    error </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> System</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">err</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">println</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Error &quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> error</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> System</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">out</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">println</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Done&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sub </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> sub</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">request</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">å‚æ•°</span><span class="token number" style="color:#36acaa">1</span><span class="token plain">ï¼šè¡¨ç¤ºæ‰“å°å‡ºæ¥</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">å‚æ•°</span><span class="token number" style="color:#36acaa">2</span><span class="token plain">ï¼šä¸­é—´æœ‰é”™è¯¯ï¼Œè¾“å‡ºError</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">å‚æ•°</span><span class="token number" style="color:#36acaa">3</span><span class="token plain">ï¼šå…¨éƒ¨å®Œæˆï¼Œè¾“å‡ºDone</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">å‚æ•°</span><span class="token number" style="color:#36acaa">4</span><span class="token plain">ï¼šsubscriptionConsumerè°ƒç”¨request</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">n</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">å†³å®šè¿™æ¬¡subscribeè·å–å…ƒç´ çš„æœ€å¤§æ•°ç›®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> interface Subscription {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> void request</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">long n</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> void cancel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- Disposableå¯¹è±¡</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> interface Disposable {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	void dispose</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token keyword" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">boolean</span><span class="token plain"> isDisposed</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">å¯é€šè¿‡è°ƒç”¨dispose</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">å–æ¶ˆè¿™ä¸ªsubscribeï¼ˆå‘å‡ºæé†’ï¼Œä¸èƒ½ä¿è¯é©¬ä¸Šåœæ­¢ï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- Disposableså·¥å…·ç±»</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1.</span><span class="token plain"> Disposables</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">swap</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">å¯åˆ›å»ºä¸€ä¸ªDisposableï¼Œç”¨æ¥æ›¿æ¢æˆ–è€…å–æ¶ˆä¸€ä¸ªç°æœ‰çš„Disposable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2.</span><span class="token plain"> Disposables</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">composite</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">â€¦</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">å¯ä»¥å°†å¤šä¸ªDisposableåˆå¹¶èµ·æ¥ï¼Œåœ¨åé¢ç»Ÿä¸€åšå¤„ç†</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="äº‹åŠ¡">äº‹åŠ¡<a href="#äº‹åŠ¡" class="hash-link" aria-label="äº‹åŠ¡çš„ç›´æ¥é“¾æ¥" title="äº‹åŠ¡çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="äº‹åŠ¡ä¼ æ’­">äº‹åŠ¡ä¼ æ’­<a href="#äº‹åŠ¡ä¼ æ’­" class="hash-link" aria-label="äº‹åŠ¡ä¼ æ’­çš„ç›´æ¥é“¾æ¥" title="äº‹åŠ¡ä¼ æ’­çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<ul>
<li><code>PROPAGATION_REQUIRED</code>ï¼ˆé»˜è®¤ï¼‰ï¼šå¦‚æœæœ‰ç°æœ‰äº‹åŠ¡ï¼šåŠ å…¥åˆ°ç°æœ‰äº‹åŠ¡ä¸­ï¼›å¦‚æœæ²¡æœ‰ç°æœ‰äº‹åŠ¡ï¼šå¯åŠ¨ä¸€ä¸ªæ–°çš„äº‹åŠ¡ã€‚</li>
<li><code>PROPAGATION_REQUIRES_NEW</code>ï¼šæ— è®ºå½“å‰æ˜¯å¦å­˜åœ¨äº‹åŠ¡ï¼Œæ€»æ˜¯æ–°å»ºä¸€ä¸ªäº‹åŠ¡ã€‚å¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™æŠŠå½“å‰äº‹åŠ¡æŒ‚èµ·ã€‚</li>
<li><code>PROPAGATION_NOT_SUPPORTED</code>ï¼šæ— è®ºå½“å‰æ˜¯å¦å­˜åœ¨äº‹åŠ¡ï¼Œéƒ½ä»¥éäº‹åŠ¡æ–¹å¼æ‰§è¡Œã€‚å¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™æŠŠå½“å‰äº‹åŠ¡æŒ‚èµ·ã€‚</li>
<li><code>PROPAGATION_NEVER</code>ï¼šæ— è®ºå½“å‰æ˜¯å¦å­˜åœ¨äº‹åŠ¡ï¼Œéƒ½ä»¥éäº‹åŠ¡æ–¹å¼æ‰§è¡Œã€‚å¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸ã€‚</li>
<li><code>PROPAGATION_SUPPORTS</code>ï¼šå¦‚æœæœ‰ç°æœ‰äº‹åŠ¡ï¼šåŠ å…¥åˆ°ç°æœ‰äº‹åŠ¡ä¸­ï¼›å¦‚æœæ²¡æœ‰ç°æœ‰äº‹åŠ¡ï¼šä»¥éäº‹åŠ¡æ–¹å¼æ‰§è¡Œã€‚</li>
<li><code>PROPAGATION_MANDATORY</code>ï¼šå¦‚æœæœ‰ç°æœ‰äº‹åŠ¡ï¼šåŠ å…¥åˆ°ç°æœ‰äº‹åŠ¡ä¸­ï¼›å¦‚æœæ²¡æœ‰ç°æœ‰äº‹åŠ¡ï¼šæŠ›å‡ºå¼‚å¸¸ã€‚</li>
<li><code>PROPAGATION_NESTED</code>ï¼šå¦‚æœæœ‰ç°æœ‰äº‹åŠ¡ï¼šåˆ›å»ºä¸€ä¸ªåµŒå¥—äº‹åŠ¡ï¼›å¦‚æœæ²¡æœ‰ç°æœ‰äº‹åŠ¡ï¼šå¯åŠ¨ä¸€ä¸ªæ–°çš„äº‹åŠ¡ã€‚</li>
</ul>
<p>åœ¨ Spring ä¸­ï¼Œå¦‚æœ createProfile æ–¹æ³•æ²¡æœ‰æ˜¾å¼åœ°æ ‡æ˜ propagation å±æ€§ï¼Œé»˜è®¤æƒ…å†µä¸‹å®ƒå°†ç»§æ‰¿çˆ¶äº‹åŠ¡çš„ä¼ æ’­è¡Œä¸ºã€‚é»˜è®¤çš„ä¼ æ’­è¡Œä¸ºæ˜¯ <code>PROPAGATION_REQUIRED</code>ï¼Œè¿™æ„å‘³ç€å¦‚æœå½“å‰å­˜åœ¨ä¸€ä¸ªäº‹åŠ¡ï¼Œåˆ™ createProfile å°†åŠ å…¥åˆ°è¿™ä¸ªäº‹åŠ¡ä¸­ï¼›å¦‚æœæ²¡æœ‰äº‹åŠ¡ ï¼Œåˆ™ä¼šå¯åŠ¨ä¸€ä¸ªæ–°çš„äº‹åŠ¡ã€‚</p>
<ul>
<li>å¦‚æœ createUserAndProfile æ–¹æ³•å·²ç»åœ¨äº‹åŠ¡ä¸­ï¼š<!-- -->
<ul>
<li>createProfile æ–¹æ³•å°†åŠ å…¥åˆ°åŒä¸€ä¸ªäº‹åŠ¡ä¸­ã€‚</li>
<li>è¿™æ„å‘³ç€ createProfile æ–¹æ³•ä¸­çš„æ“ä½œå°†ä½œä¸º createUserAndProfile æ–¹æ³•çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒä»¬å°†ä¸€èµ·æäº¤æˆ–ä¸€èµ·å›æ»šã€‚</li>
</ul>
</li>
<li>å¦‚æœ createUserAndProfile æ–¹æ³•ä¸åœ¨äº‹åŠ¡ä¸­ï¼š<!-- -->
<ul>
<li>createProfile æ–¹æ³•å°†å¯åŠ¨ä¸€ä¸ªæ–°çš„äº‹åŠ¡ã€‚</li>
<li>è¿™æ„å‘³ç€ createProfile æ–¹æ³•ä¸­çš„æ“ä½œå°†ç‹¬ç«‹äº createUserAndProfile æ–¹æ³•ï¼Œå®ƒä»¬å°†åˆ†åˆ«æäº¤æˆ–å›æ»šã€‚</li>
</ul>
</li>
</ul>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@Service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class UserService {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Autowired</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private UserRepository userRepository;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Transactional</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void createUserAndProfile(User user, UserProfile userProfile) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // åˆ›å»ºç”¨æˆ·</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        userRepository.save(user);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // åˆ›å»ºç”¨æˆ·èµ„æ–™</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        createProfile(userProfile);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Transactional</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void createProfile(UserProfile userProfile) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // åˆ›å»ºç”¨æˆ·èµ„æ–™</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // è¿™é‡Œé»˜è®¤ä½¿ç”¨ PROPAGATION_REQUIREDï¼Œ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // å¦‚æœ createUserAndProfile æ–¹æ³•å·²ç»åœ¨äº‹åŠ¡ä¸­ï¼Œåˆ™ join åŒä¸€ä¸ªäº‹åŠ¡ï¼›</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // å¦åˆ™ï¼Œå°†å¯åŠ¨ä¸€ä¸ªæ–°çš„äº‹åŠ¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        userProfileRepository.save(userProfile);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="åˆ†å¸ƒå¼äº‹åŠ¡">åˆ†å¸ƒå¼äº‹åŠ¡<a href="#åˆ†å¸ƒå¼äº‹åŠ¡" class="hash-link" aria-label="åˆ†å¸ƒå¼äº‹åŠ¡çš„ç›´æ¥é“¾æ¥" title="åˆ†å¸ƒå¼äº‹åŠ¡çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>seataå†™éš”ç¦»</p>
<ol>
<li>å…¨å±€äº‹åŠ¡t1å’Œt2</li>
<li>t1å…ˆæ“ä½œ
å¼€å§‹äº‹åŠ¡æ‹¿åˆ°æœ¬åœ°é”--&gt;ä¿®æ”¹è¡¨ä¸­æ•°æ®--&gt;æäº¤æœ¬åœ°äº‹åŠ¡å‰ï¼Œæ‹¿åˆ°å…¨å±€é”--&gt;æœ¬åœ°æäº¤é‡Šæ”¾æœ¬åœ°é”</li>
<li>t2ç´§æ¥æ“ä½œ
å¼€å§‹äº‹åŠ¡æ‹¿åˆ°æœ¬åœ°é”--&gt;ä¿®æ”¹è¡¨ä¸­æ•°æ®--&gt;æäº¤æœ¬åœ°äº‹åŠ¡å‰ï¼Œè¯·æ±‚å…¨å±€é”</li>
<li>å¦‚æœè¿™ä¸ªæ—¶å€™ï¼Œt1è¿›è¡Œæœ¬åœ°å›æ»šï¼Œåˆ™ä¸ä¼šé‡Šæ”¾å…¨å±€é”ï¼Œè€Œæ˜¯å°è¯•è·å–æœ¬åœ°é”ï¼Œ
è€Œt2å°†ä¸€ç›´è¯·æ±‚å…¨å±€é”ï¼Œç›´åˆ°è¯·æ±‚è¶…æ—¶ï¼Œå›æ»šå¹¶æ”¾å¼ƒè¯·æ±‚å…¨å±€é”åŠé‡Šæ”¾æœ¬åœ°é”ï¼Œ
t2é‡Šæ”¾æœ¬åœ°é”åï¼Œt1è·å–åˆ°æœ¬åœ°é”ï¼Œå›æ»šæˆåŠŸ</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="æ‰‹åŠ¨æäº¤äº‹åŠ¡">æ‰‹åŠ¨æäº¤äº‹åŠ¡<a href="#æ‰‹åŠ¨æäº¤äº‹åŠ¡" class="hash-link" aria-label="æ‰‹åŠ¨æäº¤äº‹åŠ¡çš„ç›´æ¥é“¾æ¥" title="æ‰‹åŠ¨æäº¤äº‹åŠ¡çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@Autowired</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DataSourceTransactionManager transactionManager;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public void test() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //è·å–äº‹åŠ¡å®šä¹‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    DefaultTransactionDefinition def = new DefaultTransactionDefinition();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //è®¾ç½®äº‹åŠ¡éš”ç¦»çº§åˆ«ï¼Œå¼€å¯æ–°äº‹åŠ¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    def.setPropagationBehavior(TransactionDefinition.PROPAGATION_REQUIRES_NEW);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //è·å–äº‹åŠ¡çŠ¶æ€ï¼Œå¼€å§‹äº‹åŠ¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    TransactionStatus transactionStatus = transactionManager.getTransaction(def);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //æäº¤äº‹åŠ¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    transactionManager.commit(transactionStatus);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //å›æ»šäº‹åŠ¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    transactionManager.rollback(transactionStatus);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="jdbcäº‹åŠ¡">JDBCäº‹åŠ¡<a href="#jdbcäº‹åŠ¡" class="hash-link" aria-label="JDBCäº‹åŠ¡çš„ç›´æ¥é“¾æ¥" title="JDBCäº‹åŠ¡çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<ul>
<li>JDBC äº‹åŠ¡æ˜¯ç”¨ Connection å¯¹è±¡æ§åˆ¶çš„ã€‚JDBC Connection æ¥å£ï¼ˆ java.sql.Connection ï¼‰æä¾›äº†ä¸¤ç§äº‹åŠ¡æ¨¡å¼ï¼šè‡ªåŠ¨æäº¤å’Œæ‰‹å·¥æäº¤ã€‚</li>
<li>java.sql.Connection æä¾›äº†ä»¥ä¸‹æ§åˆ¶äº‹åŠ¡çš„æ–¹æ³•ï¼š
<code>public void setAutoCommit(boolean)</code>
<code>public boolean getAutoCommit()</code>
<code>public void commit()</code>
<code>public void rollback()</code></li>
<li>ä½¿ç”¨ JDBC äº‹åŠ¡ç•Œå®šæ—¶ï¼Œæ‚¨å¯ä»¥å°†å¤šä¸ª SQL è¯­å¥ç»“åˆåˆ°ä¸€ä¸ªäº‹åŠ¡ä¸­ã€‚
JDBC äº‹åŠ¡çš„ä¸€ä¸ªç¼ºç‚¹æ˜¯äº‹åŠ¡çš„èŒƒå›´å±€é™äºä¸€ä¸ªæ•°æ®åº“è¿æ¥ã€‚ä¸€ä¸ª JDBC äº‹åŠ¡ä¸èƒ½è·¨è¶Šå¤šä¸ªæ•°æ®åº“ã€‚</li>
<li>JDBCå®šä¹‰äº†SavePointæ¥å£ï¼Œæä¾›åœ¨ä¸€ä¸ªæ›´ç»†ç²’åº¦çš„äº‹åŠ¡æ§åˆ¶æœºåˆ¶ã€‚å½“è®¾ç½®äº†ä¸€ä¸ªä¿å­˜ç‚¹åï¼Œå¯ä»¥rollbackåˆ°è¯¥ä¿å­˜ç‚¹å¤„çš„çŠ¶æ€ï¼Œè€Œä¸æ˜¯rollbackæ•´ä¸ªäº‹åŠ¡ã€‚</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="minio">MinIO<a href="#minio" class="hash-link" aria-label="MinIOçš„ç›´æ¥é“¾æ¥" title="MinIOçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- ä¸‹è½½åœ°å€</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https:</span><span class="token comment" style="color:#999988;font-style:italic">//min.io/download#/windows</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- æ“ä½œæ–‡æ¡£</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https:</span><span class="token comment" style="color:#999988;font-style:italic">//www.macrozheng.com/mall/reference/minio.html</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- å¯åŠ¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">minio</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">exe server D:\hayes\minio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">--è®¿é—®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">http:</span><span class="token comment" style="color:#999988;font-style:italic">//localhost:9000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">io.minio</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">minio</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">8.4.6</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">com.squareup.okhttp3</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">okhttp</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">4.9.0</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="pagehelper">PageHelper<a href="#pagehelper" class="hash-link" aria-label="PageHelperçš„ç›´æ¥é“¾æ¥" title="PageHelperçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>ä½¿ç”¨æ–‡æ¡£ï¼š<a href="https://github.com/pagehelper/Mybatis-PageHelper/blob/master/wikis/zh/HowToUse.md" target="_blank" rel="noopener noreferrer">https://github.com/pagehelper/Mybatis-PageHelper/blob/master/wikis/zh/HowToUse.md</a></p>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- ç‰©ç†åˆ†é¡µæ’ä»¶ --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">com.github.pagehelper</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">pagehelper</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">5.3.2</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">PageHelper.startPage(pageNum, pageSize);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//ä¹‹åè¿›è¡ŒæŸ¥è¯¢æ“ä½œå°†è‡ªåŠ¨è¿›è¡Œåˆ†é¡µ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">List&lt;PmsBrand&gt; brandList = brandMapper.selectByExample(new PmsBrandExample());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//é€šè¿‡æ„é€ PageInfoå¯¹è±¡è·å–åˆ†é¡µä¿¡æ¯ï¼Œå¦‚å½“å‰é¡µç ï¼Œ æ€»é¡µæ•°ï¼Œæ€»æ¡æ•°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PageInfo&lt;PmsBrand&gt; pageInfo = new PageInfo&lt;&gt;(list);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="è·¨åŸŸ">è·¨åŸŸ<a href="#è·¨åŸŸ" class="hash-link" aria-label="è·¨åŸŸçš„ç›´æ¥é“¾æ¥" title="è·¨åŸŸçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>è·¨åŸŸï¼ˆCross-Origin Resource Sharing, CORSï¼‰æ˜¯æŒ‡ä¸€ä¸ªç½‘é¡µå‘èµ·çš„è¯·æ±‚ï¼Œå…¶èµ„æºä½äºä¸åŒçš„åŸŸã€åè®®æˆ–ç«¯å£ã€‚ä¾‹å¦‚ï¼Œ<code>http://example.com</code> çš„ç½‘é¡µè¯•å›¾è®¿é—® <code>http://api.example.com</code>ï¼Œè¿™å°±æ˜¯ä¸€æ¬¡è·¨åŸŸè¯·æ±‚ã€‚</p>
<p>æµè§ˆå™¨åŸºäºå®‰å…¨åŸå› ï¼Œå¯¹è·¨åŸŸè¯·æ±‚åšäº†é™åˆ¶ï¼Œé˜²æ­¢æ¶æ„ç½‘ç«™åœ¨æœªç»æˆæƒçš„æƒ…å†µä¸‹è·å–ç”¨æˆ·æ•°æ®ã€‚è¿™ç§å®‰å…¨ç­–ç•¥è¢«ç§°ä¸ºâ€œåŒæºç­–ç•¥ï¼ˆSame-Origin Policyï¼‰â€ã€‚åŒæºç­–ç•¥è§„å®šï¼Œåªæœ‰åœ¨ç›¸åŒçš„åè®®ã€åŸŸåå’Œç«¯å£ä¸‹ï¼Œæ‰èƒ½å…±äº«æ•°æ®ã€‚</p>
<p>å¤æ‚çš„è·¨è¶Šè¯·æ±‚éœ€è¦å…ˆè¿›è¡Œä¸€æ¬¡OPTIONSè¯·æ±‚è¿›è¡Œé¢„æ£€ï¼Œæˆ‘ä»¬çš„åº”ç”¨æ•´åˆSpringSecurityï¼Œå¯¹OPTIONSè¯·æ±‚éœ€è¦æ”¾å¼€ç™»å½•è®¤è¯ã€‚</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="corså·¥ä½œåŸç†">CORSå·¥ä½œåŸç†<a href="#corså·¥ä½œåŸç†" class="hash-link" aria-label="CORSå·¥ä½œåŸç†çš„ç›´æ¥é“¾æ¥" title="CORSå·¥ä½œåŸç†çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>CORS çš„æ ¸å¿ƒåœ¨äºæœåŠ¡å™¨é€šè¿‡è®¾ç½® HTTP å¤´æ¥å‘Šè¯‰æµè§ˆå™¨å…è®¸è·¨åŸŸè¯·æ±‚ã€‚å¸¸è§çš„ CORS ç›¸å…³ HTTP å¤´åŒ…æ‹¬ï¼š</p>
<ol>
<li><strong>Access-Control-Allow-Origin</strong>ï¼šæŒ‡å®šå…è®¸è®¿é—®èµ„æºçš„å¤–åŸŸ URLã€‚</li>
<li><strong>Access-Control-Allow-Methods</strong>ï¼šæŒ‡å®šå…è®¸çš„è¯·æ±‚æ–¹æ³•ï¼Œå¦‚ GETã€POST ç­‰ã€‚</li>
<li><strong>Access-Control-Allow-Headers</strong>ï¼šæŒ‡å®šå…è®¸çš„è¯·æ±‚å¤´ã€‚</li>
<li><strong>Access-Control-Allow-Credentials</strong>ï¼šæŒ‡ç¤ºæ˜¯å¦å…è®¸å‘é€ Cookieã€‚</li>
<li><strong>Access-Control-Expose-Headers</strong>ï¼šåˆ—å‡ºå“ªäº›å“åº”å¤´å¯ä»¥æš´éœ²ç»™å‰ç«¯åº”ç”¨ã€‚</li>
<li><strong>Access-Control-Max-Age</strong>ï¼šæŒ‡ç¤ºåœ¨ç¼“å­˜é¢„æ£€è¯·æ±‚çš„ç»“æœæœŸé—´ï¼Œæµè§ˆå™¨å¯ä»¥ç¼“å­˜ç»“æœçš„æ—¶é—´ï¼ˆä»¥ç§’ä¸ºå•ä½ï¼‰ã€‚</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="é¢„æ£€è¯·æ±‚">é¢„æ£€è¯·æ±‚<a href="#é¢„æ£€è¯·æ±‚" class="hash-link" aria-label="é¢„æ£€è¯·æ±‚çš„ç›´æ¥é“¾æ¥" title="é¢„æ£€è¯·æ±‚çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>å¯¹äºå¤æ‚è¯·æ±‚ï¼ˆå¦‚åŒ…å«è‡ªå®šä¹‰å¤´çš„ POST è¯·æ±‚ï¼‰ï¼Œæµè§ˆå™¨ä¼šåœ¨æ­£å¼è¯·æ±‚ä¹‹å‰å‘é€ä¸€ä¸ª OPTIONS è¯·æ±‚ï¼ˆé¢„æ£€è¯·æ±‚ï¼‰ä»¥ç¡®å®šæœåŠ¡å™¨æ˜¯å¦å…è®¸è¯¥è¯·æ±‚ã€‚æœåŠ¡å™¨åœ¨é¢„æ£€è¯·æ±‚ä¸­è®¾ç½®ç›¸åº”çš„ CORS å¤´ï¼Œä»¥å‘ŠçŸ¥æµè§ˆå™¨è¯·æ±‚æ˜¯å¦è¢«å…è®¸ã€‚</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import org.springframework.web.bind.annotation.CrossOrigin;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.springframework.web.bind.annotation.RequestMapping;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.springframework.web.bind.annotation.RequestMethod;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.springframework.web.bind.annotation.RestController;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@RestController</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class MyController {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @CrossOrigin(origins = &quot;http://example.com&quot;, methods = {RequestMethod.GET, RequestMethod.POST})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @RequestMapping(&quot;/my-endpoint&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public String myEndpoint() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return &quot;Hello, CORS!&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="è§£å†³è·¨åŸŸ">è§£å†³è·¨åŸŸ<a href="#è§£å†³è·¨åŸŸ" class="hash-link" aria-label="è§£å†³è·¨åŸŸçš„ç›´æ¥é“¾æ¥" title="è§£å†³è·¨åŸŸçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="corsè·¨åŸŸæ¨è">CORSè·¨åŸŸï¼ˆæ¨èï¼‰<a href="#corsè·¨åŸŸæ¨è" class="hash-link" aria-label="CORSè·¨åŸŸï¼ˆæ¨èï¼‰çš„ç›´æ¥é“¾æ¥" title="CORSè·¨åŸŸï¼ˆæ¨èï¼‰çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<p>æ–¹å¼ä¸€ï¼š</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import org.springframework.context.annotation.Bean;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.springframework.context.annotation.Configuration;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.springframework.web.servlet.config.annotation.CorsRegistry;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class WebConfig implements WebMvcConfigurer {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void addCorsMappings(CorsRegistry registry) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        registry.addMapping(&quot;/**&quot;) // å…è®¸è·¨åŸŸçš„è·¯å¾„</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                .allowedOrigins(&quot;http://example.com&quot;) // å…è®¸è·¨åŸŸçš„åŸŸå</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;) // å…è®¸è·¨åŸŸçš„æ–¹æ³•</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                .allowedHeaders(&quot;*&quot;) // å…è®¸æ‰€æœ‰è¯·æ±‚å¤´</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                .allowCredentials(true); // å…è®¸æºå¸¦å‡­è¯</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>æ–¹å¼äºŒï¼š</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import org.springframework.context.annotation.Bean;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.springframework.context.annotation.Configuration;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.springframework.web.cors.CorsConfiguration;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.springframework.web.cors.UrlBasedCorsConfigurationSource;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.springframework.web.filter.CorsFilter;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * å…¨å±€è·¨åŸŸé…ç½®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class GlobalCorsConfig {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * å…è®¸è·¨åŸŸè°ƒç”¨çš„è¿‡æ»¤å™¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Bean</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public CorsFilter corsFilter() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        CorsConfiguration config = new CorsConfiguration();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //å…è®¸æ‰€æœ‰åŸŸåè¿›è¡Œè·¨åŸŸè°ƒç”¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        config.addAllowedOrigin(&quot;*&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //å…è®¸è·¨è¶Šå‘é€cookie</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        config.setAllowCredentials(true);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //æ”¾è¡Œå…¨éƒ¨åŸå§‹å¤´ä¿¡æ¯</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        config.addAllowedHeader(&quot;*&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //å…è®¸æ‰€æœ‰è¯·æ±‚æ–¹æ³•è·¨åŸŸè°ƒç”¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        config.addAllowedMethod(&quot;*&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        source.registerCorsConfiguration(&quot;/**&quot;, config);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return new CorsFilter(source);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- è®¾ç½®SpringSecurityå…è®¸OPTIONSè¯·æ±‚è®¿é—®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- åœ¨SecurityConfigç±»çš„configure(HttpSecurity httpSecurity)æ–¹æ³•ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">antMatchers</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">HttpMethod</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">OPTIONS</span><span class="token punctuation" style="color:#393A34">)</span><span class="token comment" style="color:#999988;font-style:italic">//è·¨åŸŸè¯·æ±‚ä¼šå…ˆè¿›è¡Œä¸€æ¬¡optionsè¯·æ±‚</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">permitAll</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="gatewayè·¨åŸŸ">Gatewayè·¨åŸŸ<a href="#gatewayè·¨åŸŸ" class="hash-link" aria-label="Gatewayè·¨åŸŸçš„ç›´æ¥é“¾æ¥" title="Gatewayè·¨åŸŸçš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//è·¨åŸŸé—®é¢˜, æ ¸å¿ƒæ˜¯éœ€è¦åœ¨è¯·æ±‚å¤´å¸¦ä¸ŠAccess-control-Allow-Origin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">protected boolean preHandle(ServletRequest request, ServletResponse response){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    HttpServletRequest httpServletRequest = (HttpServletRequest) request;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    HttpServletResponse httpServletResponse = (HttpServletResponse) response;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if(allowOrigin){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        httpServletResponse.setHeader(&quot;Access-control-Allow-Origin&quot;, &quot;*&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        httpServletResponse.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;GET,POST,OPTIONS,PUT,DELETE&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        httpServletResponse.setHeader(&quot;Access-Control-Allow-Headers&quot;, httpServletRequest.getHeader(&quot;Access-Control-Request-Headers&quot;));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //update-begin-author:scott date:20200907 for:issues/I1TAAP å‰åç«¯åˆ†ç¦»ï¼Œshiroè¿‡æ»¤å™¨é…ç½®å¼•èµ·çš„è·¨åŸŸé—®é¢˜</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // æ˜¯å¦å…è®¸å‘é€Cookieï¼Œé»˜è®¤Cookieä¸åŒ…æ‹¬åœ¨CORSè¯·æ±‚ä¹‹ä¸­ã€‚è®¾ä¸ºtrueæ—¶ï¼Œè¡¨ç¤ºæœåŠ¡å™¨å…è®¸CookieåŒ…å«åœ¨è¯·æ±‚ä¸­ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        httpServletResponse.setHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //update-end-author:scott date:20200907 for:issues/I1TAAP å‰åç«¯åˆ†ç¦»ï¼Œshiroè¿‡æ»¤å™¨é…ç½®å¼•èµ·çš„è·¨åŸŸé—®é¢˜</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // è·¨åŸŸæ—¶ä¼šé¦–å…ˆå‘é€ä¸€ä¸ªoptionè¯·æ±‚ï¼Œè¿™é‡Œæˆ‘ä»¬ç»™optionè¯·æ±‚ç›´æ¥è¿”å›æ­£å¸¸çŠ¶æ€</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (httpServletRequest.getMethod().equals(RequestMethod.OPTIONS.name())) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        httpServletResponse.setStatus(HttpStatus.OK.value());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //update-begin-author:taoyan date:20200708 for:å¤šç§Ÿæˆ·ç”¨åˆ°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    String tenant_id = httpServletRequest.getHeader(CommonConstant.TENANT_ID);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    TenantContext.setTenant(tenant_id);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //update-end-author:taoyan date:20200708 for:å¤šç§Ÿæˆ·ç”¨åˆ°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return super.preHandle(request, response);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="åŒæºä»£ç†è·¨åŸŸ">åŒæºä»£ç†è·¨åŸŸ<a href="#åŒæºä»£ç†è·¨åŸŸ" class="hash-link" aria-label="åŒæºä»£ç†è·¨åŸŸçš„ç›´æ¥é“¾æ¥" title="åŒæºä»£ç†è·¨åŸŸçš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<p>é€šè¿‡åœ¨åŒæºæœåŠ¡å™¨ä¸Šè®¾ç½®ä»£ç†ï¼Œå°†è·¨åŸŸè¯·æ±‚è½¬å‘ç»™ç›®æ ‡æœåŠ¡å™¨ï¼Œä»è€Œç»•è¿‡æµè§ˆå™¨çš„åŒæºç­–ç•¥ã€‚</p>
<p>åœ¨ Spring Boot ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ <code>WebClient</code> æˆ– <code>RestTemplate</code> ä½œä¸ºä»£ç†å®¢æˆ·ç«¯ã€‚</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@RestController</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@RequestMapping(&quot;/api&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class ProxyController {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @GetMapping(&quot;/data&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public ResponseEntity&lt;String&gt; getData() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        RestTemplate restTemplate = new RestTemplate();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String result = restTemplate.getForObject(&quot;http://example.com/api/data&quot;, String.class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return ResponseEntity.ok(result);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="dubbozookeeper">Dubbo+zookeeper<a href="#dubbozookeeper" class="hash-link" aria-label="Dubbo+zookeeperçš„ç›´æ¥é“¾æ¥" title="Dubbo+zookeeperçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="gaeaå®ç°è¯»å†™åˆ†ç¦»">Gaeaå®ç°è¯»å†™åˆ†ç¦»<a href="#gaeaå®ç°è¯»å†™åˆ†ç¦»" class="hash-link" aria-label="Gaeaå®ç°è¯»å†™åˆ†ç¦»çš„ç›´æ¥é“¾æ¥" title="Gaeaå®ç°è¯»å†™åˆ†ç¦»çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="charlesæŠ“åŒ…å·¥å…·">Charlesï¼ˆæŠ“åŒ…å·¥å…·ï¼‰<a href="#charlesæŠ“åŒ…å·¥å…·" class="hash-link" aria-label="Charlesï¼ˆæŠ“åŒ…å·¥å…·ï¼‰çš„ç›´æ¥é“¾æ¥" title="Charlesï¼ˆæŠ“åŒ…å·¥å…·ï¼‰çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- ç½‘ç»œæŠ“åŒ…</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- åœ°å€</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">www</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">charlesproxy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">com</span><span class="token operator" style="color:#393A34">/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- æ³¨å†Œç </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https:</span><span class="token comment" style="color:#999988;font-style:italic">//www.zzzmode.com/mytools/charles/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä»»åŠ¡è°ƒåº¦">ä»»åŠ¡è°ƒåº¦<a href="#ä»»åŠ¡è°ƒåº¦" class="hash-link" aria-label="ä»»åŠ¡è°ƒåº¦çš„ç›´æ¥é“¾æ¥" title="ä»»åŠ¡è°ƒåº¦çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="quartz">Quartz<a href="#quartz" class="hash-link" aria-label="Quartzçš„ç›´æ¥é“¾æ¥" title="Quartzçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>Quartzæ˜¯ä¸€æ¬¾åŠŸèƒ½å¼ºå¤§çš„å¼€æºä»»åŠ¡è°ƒåº¦æ¡†æ¶ï¼Œå‡ ä¹å¯ä»¥é›†æˆåˆ°ä»»ä½•Javaåº”ç”¨ç¨‹åºä¸­ï¼ˆå°åˆ°å•æœºåº”ç”¨ï¼Œå¤§åˆ°åˆ†å¸ƒå¼åº”ç”¨ï¼‰ã€‚</p>
<p>Quartzå¯ç”¨äºåˆ›å»ºç®€å•æˆ–å¤æ‚çš„ä»»åŠ¡è°ƒåº¦ï¼Œç”¨ä»¥æ‰§è¡Œæ•°ä»¥ä¸‡è®¡çš„ä»»åŠ¡ã€‚ä»»åŠ¡è¢«å®šä¹‰ä¸ºæ ‡å‡†åŒ–çš„Javaç»„ä»¶ï¼ŒJavaç¼–å†™çš„ä»»åŠ¡éƒ½å¯ä»¥è¢«æ‰§è¡Œã€‚</p>
<p>ç»„ä»¶è§’è‰²</p>
<ul>
<li>Schedulerï¼ˆè°ƒåº¦å™¨ï¼‰
Quartzä¸­çš„ä»»åŠ¡è°ƒåº¦å™¨ï¼Œé€šè¿‡Triggerå’ŒJobDetailå¯ä»¥ç”¨æ¥è°ƒåº¦ã€æš‚åœå’Œåˆ é™¤ä»»åŠ¡</li>
<li>Triggerï¼ˆè§¦å‘å™¨ï¼‰
Quartzä¸­çš„è§¦å‘å™¨ï¼Œå¯ ä»¥é€šè¿‡CRONè¡¨è¾¾å¼æ¥æŒ‡å®šä»»åŠ¡æ‰§è¡Œçš„æ—¶é—´ï¼Œæ—¶é—´åˆ°äº†ä¼šè‡ªåŠ¨è§¦å‘ä»»åŠ¡æ‰§è¡Œ</li>
<li>JobDetailï¼ˆä»»åŠ¡è¯¦æƒ…ï¼‰
Quartzä¸­éœ€è¦æ‰§è¡Œçš„ä»»åŠ¡è¯¦æƒ…ï¼ŒåŒ…æ‹¬äº†ä»»åŠ¡çš„å”¯ä¸€æ ‡è¯†å’Œå…·ä½“è¦æ‰§è¡Œçš„ä»»åŠ¡ï¼Œå¯ä»¥é€šè¿‡JobDataMapå¾€ä»»åŠ¡ä¸­ä¼ é€’æ•°æ®</li>
<li>Jobï¼ˆä»»åŠ¡ï¼‰
Quartzä¸­å…·ä½“çš„ä»»åŠ¡ï¼ŒåŒ…å«äº†æ‰§è¡Œä»»åŠ¡çš„å…·ä½“æ–¹æ³•</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="http">HTTP<a href="#http" class="hash-link" aria-label="HTTPçš„ç›´æ¥é“¾æ¥" title="HTTPçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="èº«ä»½è®¤è¯">èº«ä»½è®¤è¯<a href="#èº«ä»½è®¤è¯" class="hash-link" aria-label="èº«ä»½è®¤è¯çš„ç›´æ¥é“¾æ¥" title="èº«ä»½è®¤è¯çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>HTTPèº«ä»½è®¤è¯çš„æ–¹å¼æœ‰å¾ˆå¤šï¼šBasicã€Bearerã€Digestã€HOBAã€Mutualã€Negotiate / NTLMã€VAPIDã€SCRAMã€AWS4-HMAC-SHA256ã€OAuthã€‚</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="åŸºæœ¬basicè®¤è¯">åŸºæœ¬(Basic)è®¤è¯<a href="#åŸºæœ¬basicè®¤è¯" class="hash-link" aria-label="åŸºæœ¬(Basic)è®¤è¯çš„ç›´æ¥é“¾æ¥" title="åŸºæœ¬(Basic)è®¤è¯çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<ol>
<li>å½“è¯·æ±‚çš„èµ„æºéœ€è¦ BASIC è®¤è¯æ—¶ï¼ŒæœåŠ¡å™¨ä¼šéšçŠ¶æ€ç  401 Authorization Requiredï¼Œè¿”å›å¸¦WWW-Authenticateé¦–éƒ¨å­—æ®µçš„å“åº”ã€‚è¯¥å­—æ®µå†…åŒ…å«è®¤è¯çš„æ–¹å¼ï¼ˆBASICï¼‰åŠRequest-URIå®‰å…¨åŸŸå­—ç¬¦ä¸²ï¼ˆrealmï¼‰ã€‚</li>
<li>æ¥æ”¶åˆ°çŠ¶æ€ç 401çš„å®¢æˆ·ç«¯ä¸ºäº†é€šè¿‡BASIC è®¤è¯ï¼Œéœ€è¦å°†ç”¨æˆ·IDåŠå¯†ç å‘é€ç»™æœåŠ¡å™¨ã€‚å‘é€çš„å­—ç¬¦ä¸²å†…å®¹æ˜¯ç”±ç”¨æˆ·IDå’Œå¯†ç æ„æˆï¼Œä¸¤è€…ä¸­é—´ä»¥å†’å·ï¼ˆ:ï¼‰è¿æ¥åï¼Œå†ç»è¿‡ Base64 ç¼–ç å¤„ç†ï¼ˆå¦‚guest<!-- -->:guest<!-- -->ï¼‰ã€‚</li>
<li>æ¥æ”¶åˆ°åŒ…å«é¦–éƒ¨å­—æ®µ Authorization è¯·æ±‚çš„æœåŠ¡å™¨ï¼Œä¼šå¯¹è®¤è¯ä¿¡æ¯çš„æ­£ç¡®æ€§è¿›è¡ŒéªŒè¯ã€‚å¦‚éªŒè¯é€šè¿‡ï¼Œåˆ™è¿”å›ä¸€æ¡åŒ…å« Request-URIèµ„æºçš„å“åº”ã€‚</li>
</ol>
<p>ç¼ºé™·ï¼šBASIC è®¤è¯è™½ç„¶é‡‡ç”¨ Base64 ç¼–ç æ–¹å¼ï¼Œä½†è¿™ä¸æ˜¯åŠ å¯†å¤„ç†ï¼Œç”±äºæ˜æ–‡è§£ç åå°±æ˜¯ç”¨æˆ· ID å’Œå¯†ç ï¼Œåœ¨ HTTP ç­‰éåŠ å¯†é€šä¿¡çš„çº¿è·¯ä¸Š  è¿›è¡Œ BASIC è®¤è¯çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœè¢«äººçªƒå¬ï¼Œè¢«ç›—çš„å¯èƒ½æ€§æé«˜ã€‚å¦å¤–ï¼Œé™¤æ­¤ä¹‹å¤–æƒ³å†è¿›è¡Œä¸€æ¬¡ BASIC è®¤è¯æ—¶ï¼Œä¸€èˆ¬çš„æµè§ˆå™¨å´æ— æ³•å®ç°è®¤è¯æ³¨é”€æ“ä½œï¼Œè¿™ä¹Ÿæ˜¯é—®é¢˜ä¹‹ä¸€ã€‚</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="æ‘˜è¦digestè®¤è¯">æ‘˜è¦(Digest)è®¤è¯<a href="#æ‘˜è¦digestè®¤è¯" class="hash-link" aria-label="æ‘˜è¦(Digest)è®¤è¯çš„ç›´æ¥é“¾æ¥" title="æ‘˜è¦(Digest)è®¤è¯çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<p>ä¸ºå¼¥è¡¥ BASIC è®¤è¯å­˜åœ¨çš„å¼±ç‚¹ï¼Œä» HTTP/1.1 èµ·å°±æœ‰äº† DIGEST è®¤è¯ã€‚ DIGEST è®¤è¯åŒæ ·ä½¿ç”¨è´¨è¯¢ / å“åº”çš„æ–¹å¼ï¼ˆchallenge/responseï¼‰ï¼Œä½†ä¸ä¼šåƒ BASIC è®¤è¯é‚£æ ·ç›´æ¥å‘é€æ˜æ–‡å¯†ç ã€‚æ‰€è°“è´¨è¯¢å“åº”æ–¹å¼æ˜¯æŒ‡ï¼Œä¸€å¼€å§‹ä¸€æ–¹ä¼šå…ˆå‘é€è®¤è¯è¦æ±‚ç»™å¦ä¸€æ–¹ï¼Œæ¥ç€ä½¿ç”¨ä»å¦ä¸€æ–¹é‚£æ¥æ”¶åˆ°çš„è´¨è¯¢ç è®¡ç®—ç”Ÿæˆå“åº”ç ã€‚æœ€åå°†å“åº”ç è¿”å›ç»™å¯¹æ–¹è¿›è¡Œè®¤è¯çš„æ–¹å¼ã€‚</p>
<ol>
<li>è¯·æ±‚éœ€è®¤è¯çš„èµ„æºæ—¶ï¼ŒæœåŠ¡å™¨ä¼šéšç€çŠ¶æ€ç  401 Authorization Requiredï¼Œè¿”å›å¸¦ WWW-Authenticate é¦–éƒ¨å­—æ®µçš„å“åº”ã€‚è¯¥å­—æ®µå†…åŒ…å«è´¨é—®å“åº”æ–¹å¼è®¤è¯æ‰€éœ€çš„ä¸´æ—¶è´¨è¯¢ç ï¼ˆéšæœºæ•°ï¼Œnonceï¼‰ã€‚é¦–éƒ¨å­—æ®µ WWW-Authenticate å†…å¿…é¡»åŒ…å« realm å’Œ nonce è¿™ä¸¤ä¸ªå­—æ®µçš„ä¿¡æ¯ã€‚å®¢æˆ·ç«¯å°±æ˜¯ä¾é å‘æœåŠ¡å™¨å›é€è¿™ä¸¤ä¸ªå€¼è¿›è¡Œè®¤è¯çš„ã€‚nonce æ˜¯ä¸€ç§æ¯æ¬¡éšè¿”å›çš„ 401 å“åº”ç”Ÿæˆçš„ä»»æ„éšæœºå­—ç¬¦ä¸²ã€‚è¯¥å­—ç¬¦ä¸²é€šå¸¸æ¨èç”± Base64 ç¼–ç çš„åå…­è¿›åˆ¶æ•°çš„ç»„æˆå½¢å¼ï¼Œä½†å®é™…å†…å®¹ä¾èµ–æœåŠ¡å™¨çš„å…·ä½“å®ç°ã€‚</li>
<li>æ¥æ”¶åˆ° 401 çŠ¶æ€ç çš„å®¢æˆ·ç«¯ï¼Œè¿”å›çš„å“åº”ä¸­åŒ…å« DIGEST è®¤è¯å¿…é¡»çš„é¦–éƒ¨å­—æ®µ Authorization ä¿¡æ¯ã€‚é¦–éƒ¨å­—æ®µ Authorization å†…å¿…é¡»åŒ…å« usernameã€realmã€nonceã€uri å’Œ response çš„å­—æ®µä¿¡æ¯ã€‚å…¶ä¸­ï¼Œrealm å’Œ nonce å°±æ˜¯ä¹‹å‰ä»æœåŠ¡å™¨æ¥æ”¶åˆ°çš„å“åº”ä¸­çš„å­—æ®µã€‚usernameæ˜¯realmé™å®šèŒƒå›´å†…å¯è¿›è¡Œè®¤è¯çš„ç”¨æˆ·åã€‚uriï¼ˆdigest-uriï¼‰å³ Request-URI çš„å€¼ï¼Œä½†è€ƒè™‘åˆ°ç»ä»£ç†è½¬å‘å Request-URI çš„å€¼å¯èƒ½è¢«ä¿®æ”¹ï¼Œå› æ­¤äº‹å…ˆä¼šå¤åˆ¶ä¸€ä»½å‰¯æœ¬ä¿å­˜åœ¨ uri å†…ã€‚response ä¹Ÿå¯å«åš Request-Digestï¼Œå­˜æ”¾ç»è¿‡ MD5 è¿ç®—åçš„å¯†ç å­—ç¬¦ä¸²ï¼Œå½¢æˆå“åº”ç ã€‚</li>
<li>æ¥æ”¶åˆ°åŒ…å«é¦–éƒ¨å­—æ®µ Authorization è¯·æ±‚çš„æœåŠ¡å™¨ï¼Œä¼šç¡®è®¤è®¤è¯ä¿¡æ¯çš„æ­£ç¡®æ€§ã€‚è®¤è¯é€šè¿‡ååˆ™è¿”å›åŒ…å« Request-URI èµ„æºçš„å“åº”ã€‚å¹¶ä¸”è¿™æ—¶ä¼šåœ¨é¦–éƒ¨å­—æ®µ Authentication-Info å†™å…¥ä¸€äº›è®¤è¯æˆåŠŸçš„ç›¸å…³ä¿¡æ¯ã€‚</li>
</ol>
<p>ç¼ºé™·ï¼šDIGEST è®¤è¯æä¾›äº†é«˜äº BASIC è®¤è¯çš„å®‰å…¨ç­‰çº§ï¼Œä½†æ˜¯å’Œ HTTPS çš„å®¢æˆ·ç«¯è®¤è¯ç›¸æ¯”ä»æ—§å¾ˆå¼±ã€‚DIGEST è®¤è¯æä¾›é˜²æ­¢å¯†ç è¢«çªƒå¬çš„ä¿æŠ¤æœºåˆ¶ï¼Œä½†å¹¶ä¸å­˜åœ¨é˜²æ­¢ç”¨æˆ·ä¼ªè£…çš„ä¿æŠ¤æœºåˆ¶ã€‚DIGEST è®¤è¯å’Œ BASIC è®¤è¯ä¸€æ ·ï¼Œä½¿ç”¨ä¸Šä¸é‚£ä¹ˆä¾¿æ·çµæ´»ï¼Œä¸”ä»è¾¾ä¸åˆ°å¤šæ•° Web ç½‘ç«™å¯¹é«˜åº¦å®‰å…¨ç­‰çº§çš„è¿½æ±‚æ ‡å‡†ã€‚å› æ­¤å®ƒçš„é€‚ç”¨èŒƒå›´ä¹Ÿæœ‰æ‰€å—é™ã€‚</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="åŸºäºè¡¨å•form-basedçš„sslå®¢æˆ·ç«¯è®¤è¯">åŸºäºè¡¨å•(Form-Based)çš„SSLå®¢æˆ·ç«¯è®¤è¯<a href="#åŸºäºè¡¨å•form-basedçš„sslå®¢æˆ·ç«¯è®¤è¯" class="hash-link" aria-label="åŸºäºè¡¨å•(Form-Based)çš„SSLå®¢æˆ·ç«¯è®¤è¯çš„ç›´æ¥é“¾æ¥" title="åŸºäºè¡¨å•(Form-Based)çš„SSLå®¢æˆ·ç«¯è®¤è¯çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<p>ä»ä½¿ç”¨ç”¨æˆ· ID å’Œå¯†ç çš„è®¤è¯æ–¹å¼æ–¹é¢æ¥è®²ï¼Œåªè¦äºŒè€…çš„å†…å®¹æ­£ç¡®ï¼Œå³å¯è®¤è¯æ˜¯æœ¬äººçš„è¡Œä¸ºã€‚ä½†å¦‚æœç”¨æˆ· ID å’Œå¯†ç è¢«ç›—ï¼Œå°±å¾ˆæœ‰å¯èƒ½è¢«ç¬¬ä¸‰è€…å†’å……ã€‚åˆ©ç”¨ SSL å®¢æˆ·ç«¯è®¤è¯åˆ™å¯ä»¥é¿å…è¯¥æƒ…å†µçš„å‘ç”Ÿã€‚SSL å®¢æˆ·ç«¯è®¤è¯æ˜¯å€Ÿç”± HTTPS çš„å®¢æˆ·ç«¯è¯ä¹¦å®Œæˆè®¤è¯çš„æ–¹å¼ã€‚å‡­å€Ÿ SSL å®¢æˆ·ç«¯è¯ä¹¦è®¤è¯ï¼ŒæœåŠ¡å™¨å¯ç¡®è®¤è®¿é—®æ˜¯å¦æ¥è‡ªå·²ç™»å½•çš„å®¢æˆ·ç«¯ã€‚</p>
<p>ä¸ºè¾¾åˆ° SSL å®¢æˆ·ç«¯è®¤è¯çš„ç›®çš„ï¼Œéœ€è¦äº‹å…ˆå°†å®¢æˆ·ç«¯è¯ä¹¦åˆ†å‘ç»™å®¢æˆ·ç«¯ï¼Œä¸”å®¢æˆ·ç«¯å¿…é¡»å®‰è£…æ­¤è¯ä¹¦ã€‚</p>
<ol>
<li>æ¥æ”¶åˆ°éœ€è¦è®¤è¯èµ„æºçš„è¯·æ±‚ï¼ŒæœåŠ¡å™¨ä¼šå‘é€ Certificate Request æŠ¥æ–‡ï¼Œè¦æ±‚å®¢æˆ·ç«¯æä¾›å®¢æˆ·ç«¯è¯ä¹¦ã€‚</li>
<li>ç”¨æˆ·é€‰æ‹©å°†å‘é€çš„å®¢æˆ·ç«¯è¯ä¹¦åï¼Œå®¢æˆ·ç«¯ä¼šæŠŠå®¢æˆ·ç«¯è¯ä¹¦ä¿¡æ¯ä»¥ Client Certificate æŠ¥æ–‡æ–¹å¼å‘é€ç»™æœåŠ¡å™¨ã€‚</li>
<li>æœåŠ¡  å™¨éªŒè¯å®¢æˆ·ç«¯è¯ä¹¦éªŒè¯é€šè¿‡åæ–¹å¯é¢†å–è¯ä¹¦å†…å®¢æˆ·ç«¯çš„165å…¬å¼€å¯†é’¥ï¼Œç„¶åå¼€å§‹ HTTPS åŠ å¯†é€šä¿¡
åœ¨å¤šæ•°æƒ…å†µä¸‹ï¼ŒSSL å®¢æˆ·ç«¯è®¤è¯ä¸ä¼šä»…ä¾é è¯ä¹¦å®Œæˆè®¤è¯ï¼Œä¸€èˆ¬ä¼šå’ŒåŸºäºè¡¨å•è®¤è¯ç»„åˆå½¢æˆä¸€ç§åŒå› ç´ è®¤è¯ï¼ˆTwo-factor authenticationï¼‰æ¥ä½¿ç”¨ã€‚æ‰€è°“åŒå› ç´ è®¤è¯å°±æ˜¯æŒ‡ï¼Œè®¤è¯è¿‡ç¨‹ä¸­ä¸ä»…éœ€è¦å¯†ç è¿™ä¸€ä¸ªå› ç´ ï¼Œè¿˜éœ€è¦ç”³è¯·è®¤è¯è€…æä¾›å…¶ä»–æŒæœ‰ä¿¡æ¯ï¼Œä»è€Œä½œä¸ºå¦ä¸€ä¸ªå› ç´ ï¼Œä¸å…¶ç»„åˆä½¿ç”¨çš„è®¤è¯æ–¹å¼ã€‚æ¢è¨€ä¹‹ï¼Œç¬¬ä¸€ä¸ªè®¤è¯å› ç´ çš„ SSL å®¢æˆ·ç«¯è¯ä¹¦ç”¨æ¥è®¤è¯å®¢æˆ·ç«¯è®¡ç®—æœºï¼Œå¦ä¸€ä¸ªè®¤è¯å› ç´ çš„å¯†ç åˆ™ç”¨æ¥ç¡®å®šè¿™æ˜¯ç”¨æˆ·æœ¬äººçš„è¡Œä¸ºã€‚é€šè¿‡åŒå› ç´ è®¤è¯åï¼Œå°±å¯ä»¥ç¡®è®¤æ˜¯ç”¨æˆ·æœ¬äººæ­£åœ¨ä½¿ç”¨åŒ¹é…æ­£ç¡®çš„è®¡ç®—æœºè®¿é—®æœåŠ¡å™¨ã€‚</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="httpè¯·æ±‚">HTTPè¯·æ±‚<a href="#httpè¯·æ±‚" class="hash-link" aria-label="HTTPè¯·æ±‚çš„ç›´æ¥é“¾æ¥" title="HTTPè¯·æ±‚çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- httpé»˜è®¤è¶…æ—¶æ—¶é—´ä¸º20s --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">org.apache.httpcomponents</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">httpclient</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">4.5.5</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="å¸¸ç”¨httpè¯·æ±‚">å¸¸ç”¨HTTPè¯·æ±‚<a href="#å¸¸ç”¨httpè¯·æ±‚" class="hash-link" aria-label="å¸¸ç”¨HTTPè¯·æ±‚çš„ç›´æ¥é“¾æ¥" title="å¸¸ç”¨HTTPè¯·æ±‚çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<ol>
<li>
<p>åˆ›å»ºHttpClientå®ä¾‹</p>
<p><code>HttpClient client = HttpClientBuilder.create().build();</code></p>
</li>
<li>
<p>åˆ›å»ºè¯·æ±‚æ–¹æ³•çš„å®ä¾‹</p>
<ul>
<li>
<p>POSTè¯·æ±‚</p>
<p><code>HttpPost post = new HttpPost(url);</code></p>
</li>
<li>
<p>GETè¯·æ±‚ï¼ŒURLä¸­å¸¦è¯·æ±‚å‚æ•°</p>
<p><code>HttpGet get = new HttpGet(url);</code></p>
</li>
</ul>
</li>
<li>
<p>æ·»åŠ è¯·æ±‚å‚æ•°</p>
<ul>
<li>æ™®é€šå½¢å¼</li>
</ul>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">List&lt;NameValuePair&gt; list = new ArrayList&lt;&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">list.add(new BasicNameValuePair(&quot;username&quot;, &quot;admin&quot;));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">list.add(new BasicNameValuePair(&quot;password&quot;, &quot;123456&quot;));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// GETè¯·æ±‚æ–¹å¼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// ç”±äºGETè¯·  æ±‚çš„å‚æ•°æ˜¯æ‹¼è£…åœ¨URLåæ–¹ï¼Œæ‰€ä»¥éœ€è¦æ„å»ºä¸€ä¸ªå®Œæ•´çš„URLï¼Œå†åˆ›å»ºHttpGetå®ä¾‹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">URIBuilder uriBuilder = new URIBuilder(&quot;http://www.baidu.com&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">uriBuilder.setParameters(list);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HttpGet get = new HttpGet(uriBuilder.build());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// POSTè¯·æ±‚æ–¹å¼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">post.setEntity(new UrlEncodedFormEntity(list, Charsets.UTF_8));</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>JSONå½¢å¼</li>
</ul>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Map&lt;String,String&gt; map = new HashMap&lt;&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">map.put(&quot;username&quot;, &quot;admin&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">map.put(&quot;password&quot;, &quot;123456&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Gson gson = new Gson();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">String json = gson.toJson(map, new TypeToken&lt;Map&lt;String, String&gt;&gt;() {}.getType());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">post.setEntity(new StringEntity(json, Charsets.UTF_8));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">post.addHeader(&quot;Content-Type&quot;, &quot;application/json;charset=UTF-8&quot;);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>å‘é€è¯·æ±‚
<code>HttpResponse response = client.execute(post);</code></p>
</li>
<li>
<p>è·å–ç»“æœ
<code>String result = EntityUtils.toString(response.getEntity());</code></p>
</li>
<li>
<p>é‡Šæ”¾è¿æ¥
<code>post.releaseConnection();</code></p>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="å¸¦è¯ä¹¦httpè¯·æ±‚">å¸¦è¯ä¹¦HTTPè¯·æ±‚<a href="#å¸¦è¯ä¹¦httpè¯·æ±‚" class="hash-link" aria-label="å¸¦è¯ä¹¦HTTPè¯·æ±‚çš„ç›´æ¥é“¾æ¥" title="å¸¦è¯ä¹¦HTTPè¯·æ±‚çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public static String sendRedEnvelope(String url, String param) throws Exception {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //PKCS12çš„å¯†ç </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    String PKCS12 = &quot;1340026302&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //è¯ä¹¦åœ°å€</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    String fileRoute = &quot;E:\\javacore1\\WXYE\\src\\apiclient_cert.p12&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //æŒ‡å®šè¯»å–è¯ä¹¦æ ¼å¼ä¸ºPKCS12</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //è¯»å–æœ¬æœºå­˜æ”¾çš„PKCS12è¯ä¹¦æ–‡ä»¶</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    FileInputStream instream = new FileInputStream(new File(fileRoute));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //æŒ‡å®šPKCS12çš„å¯†ç </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        keyStore.load(instream, PKCS12.toCharArray());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    } finally {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        instream.close();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //æŒ‡å®šTLSç‰ˆæœ¬</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SSLContext sslcontext = SSLContexts.custom()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .loadKeyMaterial(keyStore, PKCS12.toCharArray())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .build();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //è®¾ç½®httpclientçš„SSLSocketFactory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SSLConnectionSocketFactory sslsf = new SSLConnectionSocketFactory(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sslcontext,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //è¿™é‡Œæ— éœ€æ”¹åŠ¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        new String[]{&quot;TLSv1&quot;},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        null,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        SSLConnectionSocketFactory.BROWSER_COMPATIBLE_HOSTNAME_VERIFIER);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    CloseableHttpClient httpclient = HttpClients.custom()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .setSSLSocketFactory(sslsf)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .build();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    StringBuffer stringBuffer = new StringBuffer();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        HttpPost httpPost = new HttpPost(url);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        InputStream is = new ByteArrayInputStream(param.getBytes(&quot;UTF-8&quot;));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //InputStreamEntityä¸¥æ ¼æ˜¯å¯¹å†…å®¹å’Œé•¿åº¦ç›¸åŒ¹é…çš„ã€‚ç”¨æ³•å’ŒBasicHttpEntityç±»ä¼¼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        InputStreamEntity inputStreamEntity = new InputStreamEntity(is, is.available());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        httpPost.setEntity(inputStreamEntity);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        CloseableHttpResponse response = httpclient.execute(httpPost);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            HttpEntity entity = response.getEntity();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            BufferedReader reader = new BufferedReader(new InputStreamReader(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                entity.getContent(), &quot;UTF-8&quot;));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            String inputLine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            while ((inputLine = reader.readLine()) != null) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                stringBuffer.append(inputLine);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                System.out.println(stringBuffer);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        } finally {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            response.close();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    } finally {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        httpclient.close();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return stringBuffer.toString();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="mapstruct">MapStruct<a href="#mapstruct" class="hash-link" aria-label="MapStructçš„ç›´æ¥é“¾æ¥" title="MapStructçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>MapStructæ˜¯ä¸€æ¬¾åŸºäºJavaæ³¨è§£çš„å¯¹è±¡å±æ€§æ˜ å°„å·¥å…·</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="æ’ä»¶">æ’ä»¶<a href="#æ’ä»¶" class="hash-link" aria-label="æ’ä»¶çš„ç›´æ¥é“¾æ¥" title="æ’ä»¶çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>MapStruct Support</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ä¾èµ–">ä¾èµ–<a href="#ä¾èµ–" class="hash-link" aria-label="ä¾èµ–çš„ç›´æ¥é“¾æ¥" title="ä¾èµ–çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!--MapStructç›¸å…³ä¾èµ–--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">org.mapstruct</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">mapstruct</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">${mapstruct.version}</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">&lt;!--æ’æŸ¥ç¼–è¯‘çš„ Lombokã€Mapstruct --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">plugin</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">org.apache.maven.plugins</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">maven-compiler-plugin</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">3.8.1</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">source</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">1.8</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">source</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">target</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">1.8</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">target</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">annotationProcessorPaths</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">path</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">org.mapstruct</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">mapstruct-processor</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">${org.mapstruct.version}</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">path</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">path</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">org.projectlombok</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">lombok</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">${lombok.version}</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">path</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- This is needed when using Lombok 1.18.16 and above --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">path</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">org.projectlombok</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">lombok-mapstruct-binding</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">0.2.0</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">path</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">annotationProcessorPaths</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">plugin</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ä½¿ç”¨">ä½¿ç”¨<a href="#ä½¿ç”¨" class="hash-link" aria-label="ä½¿ç”¨çš„ç›´æ¥é“¾æ¥" title="ä½¿ç”¨çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="åŸºæœ¬æ˜ å°„">åŸºæœ¬æ˜ å°„<a href="#åŸºæœ¬æ˜ å°„" class="hash-link" aria-label="åŸºæœ¬æ˜ å°„çš„ç›´æ¥é“¾æ¥" title="åŸºæœ¬æ˜ å°„çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@Mapper</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public interface MemberMapper {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MemberMapper INSTANCE = Mappers.getMapper(MemberMapper.class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Mapping(source = &quot;phone&quot;,target = &quot;phoneNumber&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Mapping(source = &quot;birthday&quot;,target = &quot;birthday&quot;,dateFormat = &quot;yyyy-MM-dd&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MemberDto toDto(Member member);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="é›†åˆæ˜ å°„">é›†åˆæ˜ å°„<a href="#é›†åˆæ˜ å°„" class="hash-link" aria-label="é›†åˆæ˜ å°„çš„ç›´æ¥é“¾æ¥" title="é›†åˆæ˜ å°„çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@Mapper</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public interface MemberMapper {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MemberMapper INSTANCE = Mappers.getMapper(MemberMapper.class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Mapping(source = &quot;phone&quot;,target = &quot;phoneNumber&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Mapping(source = &quot;birthday&quot;,target = &quot;birthday&quot;,dateFormat = &quot;yyyy-MM-dd&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    List&lt;MemberDto&gt; toDtoList(List&lt;Member&gt; list);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="å­å¯¹è±¡æ˜ å°„">å­å¯¹è±¡æ˜ å°„<a href="#å­å¯¹è±¡æ˜ å°„" class="hash-link" aria-label="å­å¯¹è±¡æ˜ å°„çš„ç›´æ¥é“¾æ¥" title="å­å¯¹è±¡æ˜ å°„çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@Mapper(uses = {MemberMapper.class,ProductMapper.class})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public interface OrderMapper {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    OrderMapper INSTANCE = Mappers.getMapper(OrderMapper.class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Mapping(source = &quot;member&quot;,target = &quot;memberDto&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Mapping(source = &quot;productList&quot;,target = &quot;productDtoList&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    OrderDto toDto(Order order);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="åˆå¹¶æ˜ å°„">åˆå¹¶æ˜ å°„<a href="#åˆå¹¶æ˜ å°„" class="hash-link" aria-label="åˆå¹¶æ˜ å°„çš„ç›´æ¥é“¾æ¥" title="åˆå¹¶æ˜ å°„çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//æŠŠå¤šä¸ªå¯¹è±¡å±æ€§æ˜ å°„åˆ°ä¸€ä¸ªå¯¹è±¡ä¸­</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Mapper</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public interface MemberMapper {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MemberMapper INSTANCE = Mappers.getMapper(MemberMapper.class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Mapping(source = &quot;member.phone&quot;,target = &quot;phoneNumber&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Mapping(source = &quot;member.birthday&quot;,target = &quot;birthday&quot;,dateFormat = &quot;yyyy-MM-dd&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Mapping(source = &quot;member.id&quot;,target = &quot;id&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Mapping(source = &quot;order.orderSn&quot;, target = &quot;orderSn&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Mapping(source = &quot;order.receiverAddress&quot;, target = &quot;receiverAddress&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MemberOrderDto toMemberOrderDto(Member member, Order order);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ä½¿ç”¨ä¾èµ–æ³¨å…¥">ä½¿ç”¨ä¾èµ–æ³¨å…¥<a href="#ä½¿ç”¨ä¾èµ–æ³¨å…¥" class="hash-link" aria-label="ä½¿ç”¨ä¾èµ–æ³¨å…¥çš„ç›´æ¥é“¾æ¥" title="ä½¿ç”¨ä¾èµ–æ³¨å…¥çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//æƒ³è¦ä½¿ç”¨ä¾èµ–æ³¨å…¥ï¼Œæˆ‘ä»¬åªè¦å°†@Mapperæ³¨è§£çš„componentModelå‚æ•°è®¾ç½®ä¸ºspringå³å¯ï¼Œè¿™æ ·åœ¨ç”Ÿæˆæ¥å£å®ç°ç±»æ—¶ï¼ŒMapperStructä¼šä¸ºå…¶æ·»åŠ @Componentæ³¨è§£</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Mapper(componentModel = &quot;spring&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public interface MemberSpringMapper {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Mapping(source = &quot;phone&quot;,target = &quot;phoneNumber&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Mapping(source = &quot;birthday&quot;,target = &quot;birthday&quot;,dateFormat = &quot;yyyy-MM-dd&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MemberDto toDto(Member member);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ä½¿ç”¨å¸¸é‡é»˜è®¤å€¼å’Œè¡¨è¾¾å¼">ä½¿ç”¨å¸¸é‡ã€é»˜è®¤å€¼å’Œè¡¨è¾¾å¼<a href="#ä½¿ç”¨å¸¸é‡é»˜è®¤å€¼å’Œè¡¨è¾¾å¼" class="hash-link" aria-label="ä½¿ç”¨å¸¸é‡ã€é»˜è®¤å€¼å’Œè¡¨è¾¾å¼çš„ç›´æ¥é“¾æ¥" title="ä½¿ç”¨å¸¸é‡ã€é»˜è®¤å€¼å’Œè¡¨è¾¾å¼çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@Mapper(imports = {UUID.class})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public interface ProductMapper {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ProductMapper INSTANCE = Mappers.getMapper(ProductMapper.class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Mapping(target = &quot;id&quot;,constant = &quot;-1L&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Mapping(source = &quot;count&quot;,target = &quot;count&quot;,defaultValue = &quot;1&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Mapping(target = &quot;productSn&quot;,expression = &quot;java(UUID.randomUUID().toString())&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ProductDto toDto(Product product);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="åœ¨æ˜ å°„å‰åè¿›è¡Œè‡ªå®šä¹‰å¤„ç†">åœ¨æ˜ å°„å‰åè¿›è¡Œè‡ªå®šä¹‰å¤„ç†<a href="#åœ¨æ˜ å°„å‰åè¿›è¡Œè‡ªå®šä¹‰å¤„ç†" class="hash-link" aria-label="åœ¨æ˜ å°„å‰åè¿›è¡Œè‡ªå®šä¹‰å¤„ç†çš„ç›´æ¥é“¾æ¥" title="åœ¨æ˜ å°„å‰åè¿›è¡Œè‡ªå®šä¹‰å¤„ç†çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//æ­¤æ—¶æˆ‘ä»¬éœ€è¦åˆ›å»ºè‡ªå®šä¹‰å¤„ç†æ–¹æ³•ï¼Œåˆ›å»ºä¸€ä¸ªæŠ½è±¡ç±»ProductRoundMapperï¼Œé€šè¿‡@BeforeMappingæ³¨è§£è‡ªå®šä¹‰æ˜ å°„å‰æ“ä½œï¼Œé€šè¿‡@AfterMappingæ³¨è§£è‡ªå®šä¹‰æ˜ å°„åæ“ä½œï¼›</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Mapper(imports = {UUID.class},componentModel = &quot;spring&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public abstract class ProductRoundMapper {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * å¯¹è±¡æ˜ å°„</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @param product productå¯¹è±¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @return æ˜ å°„åçš„å¯¹è±¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Mapping(target = &quot;id&quot;,constant = &quot;-1L&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Mapping(source = &quot;count&quot;,target = &quot;count&quot;,defaultValue = &quot;1&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Mapping(target = &quot;productSn&quot;,expression = &quot;java(UUID.randomUUID().toString())&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public abstract ProductDto toDto(Product product);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * å‰ç½®æ“ä½œ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @param product æ˜ å°„å‰çš„å¯¹è±¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @BeforeMapping</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void beforeMapping(Product product){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //æ˜ å°„å‰å½“price&lt;0æ—¶è®¾ç½®ä¸º0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(product.getPrice().compareTo(BigDecimal.ZERO)&lt;0){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            product.setPrice(BigDecimal.ZERO);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * åç½®æ“ä½œ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @param productDto æ˜ å°„åçš„å¯¹è±¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @AfterMapping</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void afterMapping(@MappingTarget ProductDto productDto){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //æ˜ å°„åè®¾ç½®å½“å‰æ—¶é—´ä¸ºcreateTime</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        productDto.setCreateTime(new Date());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="å¤„ç†æ˜ å°„å¼‚å¸¸">å¤„ç†æ˜ å°„å¼‚å¸¸<a href="#å¤„ç†æ˜ å°„å¼‚å¸¸" class="hash-link" aria-label="å¤„ç†æ˜ å°„å¼‚å¸¸çš„ç›´æ¥é“¾æ¥" title="å¤„ç†æ˜ å°„å¼‚å¸¸çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//è‡ªå®šä¹‰å¼‚å¸¸ç±»</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class ProductValidatorException extends Exception{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public ProductValidatorException(String message) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        super(message);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//è‡ªå®šä¹‰æ ¡éªŒç±»</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class ProductValidator {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public BigDecimal validatePrice(BigDecimal price) throws ProductValidatorException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(price.compareTo(BigDecimal.ZERO)&lt;0){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throw new ProductValidatorException(&quot;ä»·æ ¼ä¸èƒ½å°  äº0ï¼&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return price;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Mapper(uses = {ProductValidator.class},imports = {UUID.class},componentModel = &quot;spring&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public interface ProductExceptionMapper {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Mapping(target = &quot;id&quot;,constant = &quot;-1L&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Mapping(source = &quot;count&quot;,target = &quot;count&quot;,defaultValue = &quot;1&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Mapping(target = &quot;productSn&quot;,expression = &quot;java(UUID.randomUUID().toString())&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ProductDto toDto(Product product) throws ProductValidatorException;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>[!Warning]</p>
<p>Mapper-structå­˜åœ¨é—®é¢˜ï¼Œè·Ÿlombokåœ¨é…åˆçš„æ—¶å€™ä¼šå‡ºç°é—®é¢˜ï¼Œå¦‚æœmapperStructçš„ä¾èµ–æ”¾åœ¨lombokçš„ä¾èµ–ä¸Šé¢å°±ä¼šå‡ºç°åœ¨å¯¹è±¡å¤åˆ¶çš„æ—¶å€™ï¼Œä¼šå°†åŸæœ‰æ•°æ®å…¨å˜ä¸ºnullçš„æƒ…å†µï¼Œæ‰€ä»¥ä¸€å®šè¦å°†lombokçš„ä¾èµ–æ”¾åœ¨mapperStructä¸Šé¢ï¼Ÿ</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="æœ¬åœ°ç¼“å­˜">æœ¬åœ°ç¼“å­˜<a href="#æœ¬åœ°ç¼“å­˜" class="hash-link" aria-label="æœ¬åœ°ç¼“å­˜çš„ç›´æ¥é“¾æ¥" title="æœ¬åœ°ç¼“å­˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="guava-cache">Guava Cache<a href="#guava-cache" class="hash-link" aria-label="Guava Cacheçš„ç›´æ¥é“¾æ¥" title="Guava Cacheçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">com.google.guava</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">guava</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">28.1-jre</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>LoadingCache build(CacheLoader loader)ï¼šç¼“å­˜åŠ è½½å™¨ã€‚</li>
<li>CacheBuilder.maximumSize(long size)ï¼šé…ç½®ç¼“å­˜æ•°é‡ä¸Šé™ã€‚</li>
<li>expireAfterAccess(long duration, TimeUnit unit)ï¼šç¼“å­˜é¡¹åœ¨ç»™å®šæ—¶é—´å†…æ²¡æœ‰è¢«è¯»/å†™è®¿é—®åˆ™å›æ”¶ã€‚</li>
<li>expireAfterWrite(long duration, TimeUnit unit)ï¼šç¼“å­˜é¡¹åœ¨ç»™å®šæ—¶é—´å†…æ²¡æœ‰è¢«å†™è®¿é—®(åˆ›å»ºæˆ–è¦†ç›–)åˆ™å›æ”¶ã€‚</li>
<li>refreshAfterWrite(long duration, TimeUnit unit)ï¼šå®šæ—¶åˆ·æ–°ã€‚</li>
<li>removalListener(RemovalListener  listener)ï¼šç§»é™¤ç›‘å¬å™¨ï¼Œç¼“å­˜é¡¹è¢«ç§»é™¤æ—¶ä¼šè§¦å‘ã€‚</li>
</ul>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">removalListener(new RemovalListener &lt;Long, String&gt;() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	//ç§»é™¤ç›‘å¬å™¨,ç¼“å­˜é¡¹è¢«ç§»é™¤æ—¶ä¼šè§¦å‘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void onRemoval(RemovalNotification&lt;Long, String&gt; rn) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    	//æ‰§è¡Œé€»è¾‘æ“ä½œ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">})</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>recordStats()ï¼šå¼€å¯Guava Cacheçš„ç»Ÿè®¡åŠŸèƒ½ã€‚</li>
</ul>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">LoadingCache&lt;String, RateLimiter&gt; ipRequestCaches = CacheBuilder.newBuilder()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .maximumSize(1000)// è®¾ç½®ç¼“å­˜ä¸ªæ•°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .expireAfterWrite(1, TimeUnit.MINUTES)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .build(new CacheLoader&lt;String, Object&gt;() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        public Object load(String s) throws Exception {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return RateLimiter.create(5);// æ–°çš„IPåˆå§‹åŒ– (é™æµæ¯ç§’5ä¸ªä»¤ç‰Œå“åº”,)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public Object getIPLimiter(String ipAddr) throws ExecutionException {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return ipRequestCaches.get(ipAddr);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>get(String str)ï¼šè·å–ç¼“å­˜å€¼ã€‚</li>
<li>put(Long key, String value)ï¼šè®¾ç½®ç¼“å­˜å€¼ã€‚</li>
<li>remove(Long key)ï¼šç§»é™¤ç¼“å­˜å€¼ã€‚</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="javaå†…å­˜æ¨¡å‹">Javaå†…å­˜æ¨¡å‹<a href="#javaå†…å­˜æ¨¡å‹" class="hash-link" aria-label="Javaå†…å­˜æ¨¡å‹çš„ç›´æ¥é“¾æ¥" title="Javaå†…å­˜æ¨¡å‹çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>å†…å­˜æ¨¡å‹é™åˆ¶çš„æ˜¯å…±äº«å˜é‡ï¼Œä¹Ÿå°±æ˜¯å­˜å‚¨åœ¨å †å†…å­˜ä¸­çš„å˜é‡ï¼Œåœ¨ Java è¯­è¨€ä¸­ï¼Œæ‰€æœ‰çš„å®ä¾‹å˜é‡ã€é™æ€å˜é‡å’Œæ•°ç»„å…ƒç´ éƒ½å­˜å‚¨åœ¨å †å†…å­˜ä¹‹ä¸­ã€‚æ–¹æ³•å‚æ•°ã€å¼‚å¸¸å¤„ç†å‚æ•°è¿™äº›å±€éƒ¨å˜é‡å­˜å‚¨åœ¨æ–¹æ³•æ ˆå¸§ä¹‹ä¸­ï¼Œå› æ­¤ä¸ä¼šåœ¨çº¿ç¨‹ä¹‹é—´å…±äº«ï¼Œä¸ä¼šå—åˆ°å†…å­˜æ¨¡å‹å½±å“ï¼Œä¹Ÿä¸å­˜åœ¨å†…å­˜å¯è§æ€§é—®é¢˜ã€‚</p>
<!-- -->
<img src="/mhuahe.com/assets/images/JAVA-å†…å­˜æ¨¡å‹-db6ba10e80e41e27da7e785f6740b226.png" alt="JAVA-å†…å­˜æ¨¡å‹" width="50%">
<p>çº¿ç¨‹ A æŠŠåœ¨æœ¬åœ°å†…å­˜æ›´æ–°åçš„  å…±äº«å˜é‡å‰¯æœ¬çš„å€¼ï¼Œåˆ·æ–°åˆ°ä¸»å†…å­˜ä¸­ã€‚çº¿ç¨‹ B åœ¨ä½¿ç”¨åˆ°è¯¥å…±äº«å˜é‡æ—¶ï¼Œåˆ°ä¸»å†…å­˜ä¸­å»è¯»å–çº¿ç¨‹ A æ›´æ–°åçš„å…±äº«å˜é‡çš„å€¼ï¼Œå¹¶æ›´æ–°çº¿ç¨‹ B æœ¬åœ°å†…å­˜çš„å€¼ã€‚</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="webclient">WebClient<a href="#webclient" class="hash-link" aria-label="WebClientçš„ç›´æ¥é“¾æ¥" title="WebClientçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="webclientå’Œresttemplate">WebClientå’ŒRestTemplate<a href="#webclientå’Œresttemplate" class="hash-link" aria-label="WebClientå’ŒRestTemplateçš„ç›´æ¥é“¾æ¥" title="WebClientå’ŒRestTemplateçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>åŒºåˆ«</p>
<ol>
<li>RestTemplateé˜»å¡å®¢æˆ·ç«¯ï¼ŒWebClientéé˜»å¡å®¢æˆ·ç«¯</li>
<li>RestTemplateä¸ºæ¯ä¸ªäº‹ä»¶ï¼ˆHTTP è°ƒç”¨ï¼‰ä½¿ç”¨è°ƒç”¨è€…çº¿ç¨‹ã€‚WebClientå°†ä¸ºæ¯ä¸ªäº‹ä»¶åˆ›å»ºç±»ä¼¼â€œä»»åŠ¡â€çš„ä¸œè¥¿ã€‚åœ¨å¹•åï¼ŒReactive æ¡†æ¶å°†å¯¹è¿™äº›â€œä»»åŠ¡â€è¿›è¡Œæ’é˜Ÿï¼Œå¹¶ä»…åœ¨é€‚å½“çš„å“åº”å¯ç”¨æ—¶æ‰æ‰§è¡Œå®ƒä»¬ã€‚</li>
</ol>
<p>ä½¿ç”¨</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public Flux&lt;Tweet&gt; getTweetsNonBlocking() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    log.info(&quot;Starting NON-BLOCKING Controller!&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Flux&lt;Tweet&gt; tweetFlux = WebClient.create()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      .get()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      .uri(getSlowServiceUri())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      .retrieve()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      .bodyToFlux(Tweet.class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    tweetFlux.subscribe(tweet -&gt; log.info(tweet.toString()));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    log.info(&quot;Exiting NON-BLOCKING Controller!&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return tweetFlux;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="jmeter">jmeter<a href="#jmeter" class="hash-link" aria-label="jmeterçš„ç›´æ¥é“¾æ¥" title="jmeterçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<ol>
<li>æ·»åŠ çº¿ç¨‹ç»„</li>
<li>æ·»åŠ HTTPè¯·æ±‚</li>
<li>æ·»åŠ å¯Ÿçœ‹ç»“æœæ ‘</li>
<li>HTTPä¿¡æ¯å¤´ç®¡ç†å™¨ -- è®¾ç½®å‘é€application/jsonè¯·æ±‚</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="k8skubernetes">k8s(kubernetes)<a href="#k8skubernetes" class="hash-link" aria-label="k8s(kubernetes)çš„ç›´æ¥é“¾æ¥" title="k8s(kubernetes)çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="å¤šçº¿ç¨‹">å¤šçº¿ç¨‹<a href="#å¤šçº¿ç¨‹" class="hash-link" aria-label="å¤šçº¿ç¨‹çš„ç›´æ¥é“¾æ¥" title="å¤šçº¿ç¨‹çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="æ‰‹åŠ¨åˆ›å»ºçº¿ç¨‹æ± ">æ‰‹åŠ¨åˆ›å»ºçº¿ç¨‹æ± <a href="#æ‰‹åŠ¨åˆ›å»ºçº¿ç¨‹æ± " class="hash-link" aria-label="æ‰‹åŠ¨åˆ›å»ºçº¿ç¨‹æ± çš„ç›´æ¥é“¾æ¥" title="æ‰‹åŠ¨åˆ›å»ºçº¿ç¨‹æ± çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import com.google.common.util.concurrent.ThreadFactoryBuilder;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.util.concurrent.LinkedBlockingQueue;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.util.concurrent.ThreadPoolExecutor;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.util.concurrent.ExecutorService;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.util.concurrent.ThreadFactory;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.util.concurrent.TimeUnit;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//å¼•å…¥ä¾èµ–åŒ…ï¼Œåˆ›å»ºçº¿ç¨‹æ± </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private ThreadFactory namedThreadFactory = new ThreadFactoryBuilder().setNameFormat(&quot;thread-call-runner-%d&quot;).build();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private ExecutorService taskExe = new ThreadPoolExecutor(10,20,200L,TimeUnit.MILLISECONDS,new LinkedBlockingQueue&lt;Runnable&gt;(),namedThreadFactory);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//ä½¿ç”¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">taskExe.execute(new Runnable() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void run() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //ä¸šåŠ¡å¤„ç†</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ç­‰å¾…çº¿ç¨‹æ‰§è¡Œå®Œæˆ">ç­‰å¾…çº¿ç¨‹æ‰§è¡Œå®Œæˆ<a href="#ç­‰å¾…çº¿ç¨‹æ‰§è¡Œå®Œæˆ" class="hash-link" aria-label="ç­‰å¾…çº¿ç¨‹æ‰§è¡Œå®Œæˆçš„ç›´æ¥é“¾æ¥" title="ç­‰å¾…çº¿ç¨‹æ‰§è¡Œå®Œæˆçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//è°ƒç”¨await()æ–¹æ³•çš„çº¿ç¨‹ä¼šè¢«æŒ‚èµ·ï¼Œå®ƒä¼šç­‰å¾…ç›´åˆ°countå€¼ä¸º0æ‰ç»§ç»­æ‰§è¡Œ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public void await() throws InterruptedException { };   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//å’Œawait()ç±»ä¼¼ï¼Œåªä¸è¿‡ç­‰å¾…ä¸€å®šçš„æ—¶é—´åcountå€¼è¿˜æ²¡å˜ä¸º0çš„è¯å°±ä¼šç»§ç»­æ‰§è¡Œ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public boolean await(long timeout, TimeUnit unit) throws InterruptedException { };  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//å°†countå€¼å‡1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public void countDown() { }; </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import java.util.concurrent.CountDownLatch;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.util.concurrent.ExecutorService;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.util.concurrent.Executors;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class CountDownLatchTest {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	public static void main(String[] args) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        final CountDownLatch latch = new CountDownLatch(2);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;ä¸»çº¿ç¨‹å¼€å§‹æ‰§è¡Œâ€¦â€¦ â€¦â€¦&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //ç¬¬ä¸€ä¸ªå­çº¿ç¨‹æ‰§è¡Œ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //ExecutorServiceJavaæä¾›çš„çº¿ç¨‹æ± æ–¹æ³•</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ExecutorService es1 = Executors.newSingleThreadExecutor();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        es1.execute(new Runnable() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            public void run() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    Thread.sleep(3000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    System.out.println(&quot;å­çº¿ç¨‹ï¼š&quot;+Thread.currentThread().getName()+&quot;æ‰§è¡Œ&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                } catch (InterruptedException e) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    e.printStackTrace();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                latch.countDown();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        es1.shutdown();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //ç¬¬äºŒä¸ªå­çº¿ç¨‹æ‰§è¡Œ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ExecutorService es2 = Executors.newSingleThreadExecutor();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        es2.execute(new Runnable() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            public void run() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    Thread.sleep(3000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                } catch (InterruptedException e) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    e.printStackTrace();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                System.out.println(&quot;å­çº¿ç¨‹ï¼š&quot;+Thread.currentThread().getName()+&quot;æ‰§è¡Œ&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                latch.countDown();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        es2.shutdown();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;ç­‰å¾…ä¸¤ä¸ªçº¿ç¨‹æ‰§è¡Œå®Œæ¯•â€¦â€¦ â€¦â€¦&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            latch.await();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        } catch (InterruptedException e) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            e.printStackTrace();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;ä¸¤ä¸ªå­çº¿ç¨‹éƒ½æ‰§è¡Œå®Œæ¯•ï¼Œç»§ç»­æ‰§è¡Œä¸»çº¿ç¨‹&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="bpmn">BPMN<a href="#bpmn" class="hash-link" aria-label="BPMNçš„ç›´æ¥é“¾æ¥" title="BPMNçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="äº‹ä»¶events">äº‹ä»¶ï¼ˆEventsï¼‰<a href="#äº‹ä»¶events" class="hash-link" aria-label="äº‹ä»¶ï¼ˆEventsï¼‰çš„ç›´æ¥é“¾æ¥" title="äº‹ä»¶ï¼ˆEventsï¼‰çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>æŒ‡çš„æ˜¯åœ¨ä¸šåŠ¡æµç¨‹çš„è¿è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿçš„äº‹æƒ…</p>
<ul>
<li>å¼€å§‹ï¼šè¡¨ç¤ºä¸€ä¸ªæµç¨‹çš„å¼€å§‹</li>
<li>ä¸­é—´ï¼šå‘ç”Ÿçš„å¼€å§‹å’Œç»“æŸäº‹ä»¶ä¹‹é—´ï¼Œå½±å“å¤„ç†çš„æµç¨‹</li>
<li>ç»“æŸï¼šè¡¨ç¤ºè¯¥è¿‡ç¨‹ç»“æŸ</li>
</ul>
<!-- -->
<img src="/mhuahe.com/assets/images/JAVA-BPMN-äº‹ä»¶-2f7d0281b573bc95f2873d1f206cefc0.png" alt="JAVA-BPMN-äº‹ä»¶" width="50%">
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="æ´»åŠ¨activities">æ´»åŠ¨ï¼ˆActivitiesï¼‰<a href="#æ´»åŠ¨activities" class="hash-link" aria-label="æ´»åŠ¨ï¼ˆActivitiesï¼‰çš„ç›´æ¥é“¾æ¥" title="æ´»åŠ¨ï¼ˆActivitiesï¼‰çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>åŒ…æ‹¬ä»»åŠ¡å’Œå­æµç¨‹ä¸¤ç±»ã€‚å­æµç¨‹åœ¨å›¾å½¢çš„ä¸‹æ–¹ä¸­é—´å¤–åŠ ä¸€ä¸ªå°åŠ å·ï¼ˆ+ï¼‰æ¥åŒºåˆ†ã€‚</p>
<!-- -->
<img src="/mhuahe.com/assets/images/JAVA-BPMN-æ´»åŠ¨-564f5721f6a26415c9523bf25b03b340.png" alt="JAVA-BPMN-æ´»åŠ¨" width="50%">
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ç½‘å…³gateways">ç½‘å…³ï¼ˆGatewaysï¼‰<a href="#ç½‘å…³gateways" class="hash-link" aria-label="ç½‘å…³ï¼ˆGatewaysï¼‰çš„ç›´æ¥é“¾æ¥" title="ç½‘å…³ï¼ˆGatewaysï¼‰çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>ç”¨äºè¡¨ç¤ºæµç¨‹çš„åˆ†æ”¯ä¸åˆå¹¶ã€‚</p>
<ul>
<li>
<p>æ’ä»–ç½‘å…³ï¼šåªæœ‰ä¸€æ¡è·¯å¾„ä¼šè¢«é€‰æ‹©</p>
</li>
<li>
<p>å¹¶è¡Œç½‘å…³ï¼šæ‰€ æœ‰è·¯å¾„ä¼šè¢«åŒæ—¶é€‰æ‹©ã€‚ä¸€èˆ¬é¦–å°¾å„è®¾ç½®ä¸€ä¸ªã€‚</p>
</li>
<li>
<p>åŒ…å®¹ç½‘å…³ï¼šå¯ä»¥åŒæ—¶æ‰§è¡Œå¤šæ¡çº¿è·¯ï¼Œä¹Ÿå¯ä»¥åœ¨ç½‘å…³ä¸Šè®¾ç½®æ¡ä»¶</p>
</li>
<li>
<p>äº‹ä»¶ç½‘å…³ï¼šä¸“é—¨ä¸ºä¸­é—´æ•è·äº‹ä»¶è®¾ç½®çš„ï¼Œå…è®¸è®¾ç½®å¤šä¸ªè¾“å‡ºæµæŒ‡å‘å¤šä¸ªä¸åŒçš„ä¸­é—´æ•è·äº‹ä»¶ã€‚</p>
<p>å½“æµç¨‹æ‰§è¡Œåˆ°äº‹ä»¶ç½‘å…³åï¼Œæµç¨‹å¤„äºç­‰å¾…çŠ¶æ€ï¼Œéœ€è¦ç­‰å¾…æŠ›å‡ºäº‹ä»¶æ‰èƒ½å°†ç­‰å¾…çŠ¶æ€è½¬æ¢ä¸ºæ´»åŠ¨çŠ¶æ€ã€‚</p>
</li>
</ul>
<!-- -->
<img src="/mhuahe.com/assets/images/JAVA-BPMN-ç½‘å…³-7bfcc7e7ca57857878cec40331d66dca.png" alt="JAVA-BPMN-ç½‘å…³" width="50%"></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.dev/mhuahe/mhuahe.com/blob/master-ts/docs/java/JAVA.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>ç¼–è¾‘æ­¤é¡µ</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">æœ€å<!-- -->ç”± <b>mhuahe</b> <!-- -->äº <b><time datetime="2024-10-25T14:44:59.000Z" itemprop="dateModified">2024å¹´10æœˆ25æ—¥</time></b> <!-- -->æ›´æ–°</span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="æ–‡ä»¶é€‰é¡¹å¡"><a class="pagination-nav__link pagination-nav__link--next" href="/mhuahe.com/docs/java/JAVA-Algorithm"><div class="pagination-nav__sublabel">ä¸‹ä¸€é¡µ</div><div class="pagination-nav__label">JAVA-ç®—æ³•</div></a></nav><div id="disqus_thread"></div></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#æ–°é—»" class="table-of-contents__link toc-highlight">æ–°é—»</a><ul><li><a href="#ç§»é™¤netflix" class="table-of-contents__link toc-highlight">ç§»é™¤Netflix</a></li><li><a href="#ç§»é™¤oauth2" class="table-of-contents__link toc-highlight">ç§»é™¤oauth2</a></li><li><a href="#servlet" class="table-of-contents__link toc-highlight">servlet</a></li><li><a href="#glib" class="table-of-contents__link toc-highlight">GLIB</a></li></ul></li><li><a href="#åŸºç¡€çŸ¥è¯†ç‚¹" class="table-of-contents__link toc-highlight">åŸºç¡€çŸ¥è¯†ç‚¹</a><ul><li><a href="#å¤šæ€" class="table-of-contents__link toc-highlight">å¤šæ€</a></li><li><a href="#æ—¶é—´" class="table-of-contents__link toc-highlight">æ—¶é—´</a></li><li><a href="#é›†åˆ" class="table-of-contents__link toc-highlight">é›†åˆ</a><ul><li><a href="#list" class="table-of-contents__link toc-highlight">List</a></li><li><a href="#set" class="table-of-contents__link toc-highlight">Set</a></li><li><a href="#map" class="table-of-contents__link toc-highlight">Map</a></li><li><a href="#é›†åˆapi" class="table-of-contents__link toc-highlight">é›†åˆAPI</a></li></ul></li><li><a href="#bigdecimal" class="table-of-contents__link toc-highlight">BigDecimal</a></li><li><a href="#å‡½æ•°å¼æ¥å£" class="table-of-contents__link toc-highlight">å‡½æ•°å¼æ¥å£</a></li><li><a href="#lambda" class="table-of-contents__link toc-highlight">lambda</a></li><li><a href="#ä»£ç è§„èŒƒ" class="table-of-contents__link toc-highlight">ä»£ç è§„èŒƒ</a></li><li><a href="#activeé…ç½®" class="table-of-contents__link toc-highlight">activeé…ç½®</a></li><li><a href="#å…¨å±€å¤„ç†æ—¥æœŸ" class="table-of-contents__link toc-highlight">å…¨å±€å¤„ç†æ—¥æœŸ</a></li></ul></li><li><a href="#jsqlparser" class="table-of-contents__link toc-highlight">JSqlParser</a></li><li><a href="#io" class="table-of-contents__link toc-highlight">IO</a><ul><li><a href="#file" class="table-of-contents__link toc-highlight">File</a></li><li><a href="#inputstream" class="table-of-contents__link toc-highlight">InputStream</a></li><li><a href="#outputstream" class="table-of-contents__link toc-highlight">OutputStream</a></li><li><a href="#filteræ¨¡å¼" class="table-of-contents__link toc-highlight">Filteræ¨¡å¼</a></li><li><a href="#zip" class="table-of-contents__link toc-highlight">Zip</a></li><li><a href="#è¯»å–classpath" class="table-of-contents__link toc-highlight">è¯»å–classpath</a></li><li><a href="#åºåˆ—åŒ–" class="table-of-contents__link toc-highlight">åºåˆ—åŒ–</a></li><li><a href="#reader" class="table-of-contents__link toc-highlight">Reader</a></li><li><a href="#writer" class="table-of-contents__link toc-highlight">Writer</a></li><li><a href="#printstreamå’Œprintwriter" class="table-of-contents__link toc-highlight">PrintStreamå’ŒPrintWriter</a></li><li><a href="#files" class="table-of-contents__link toc-highlight">Files</a></li></ul></li><li><a href="#stream" class="table-of-contents__link toc-highlight">stream</a><ul><li><a href="#streamå¯¹è±¡çš„åˆ›å»º" class="table-of-contents__link toc-highlight">Streamå¯¹è±¡çš„åˆ›å»º</a></li><li><a href="#filter" class="table-of-contents__link toc-highlight">filter</a></li><li><a href="#map-1" class="table-of-contents__link toc-highlight">map</a></li><li><a href="#flatmap" class="table-of-contents__link toc-highlight">flatMap</a></li><li><a href="#limit" class="table-of-contents__link toc-highlight">limit</a></li><li><a href="#count" class="table-of-contents__link toc-highlight">count</a></li><li><a href="#sorted" class="table-of-contents__link toc-highlight">sorted</a></li><li><a href="#skip" class="table-of-contents__link toc-highlight">skip</a></li><li><a href="#listè½¬æˆmap" class="table-of-contents__link toc-highlight">Listè½¬æˆmap</a></li><li><a href="#parallelstream" class="table-of-contents__link toc-highlight">parallelStream</a></li></ul></li><li><a href="#æ³›å‹" class="table-of-contents__link toc-highlight">æ³›å‹</a><ul><li><a href="#æ“¦æ‹­æ³•" class="table-of-contents__link toc-highlight">æ“¦æ‹­æ³•</a></li><li><a href="#ä¸Šç•Œé€šé…ç¬¦-extends-t" class="table-of-contents__link toc-highlight">ä¸Šç•Œé€šé…ç¬¦ï¼ˆ? extends Tï¼‰</a><ul><li><a href="#ä¸‹ç•Œé€šé…ç¬¦-super-t" class="table-of-contents__link toc-highlight">ä¸‹ç•Œé€šé…ç¬¦ï¼ˆ? super Tï¼‰</a></li></ul></li><li><a href="#æ— é™å®šé€šé…ç¬¦" class="table-of-contents__link toc-highlight">æ— é™å®šé€šé…ç¬¦</a></li><li><a href="#ç¤ºä¾‹" class="table-of-contents__link toc-highlight">ç¤ºä¾‹</a></li><li><a href="#æ³›å‹å’Œåå°„" class="table-of-contents__link toc-highlight">æ³›å‹å’Œåå°„</a></li></ul></li><li><a href="#æ³¨è§£" class="table-of-contents__link toc-highlight">æ³¨è§£</a><ul><li><a href="#inherited" class="table-of-contents__link toc-highlight">@Inherited</a></li><li><a href="#intercepts-signature" class="table-of-contents__link toc-highlight">@Intercepts @Signature</a></li><li><a href="#conditional" class="table-of-contents__link toc-highlight">@Conditional</a></li><li><a href="#requestmapping" class="table-of-contents__link toc-highlight">@RequestMapping</a></li><li><a href="#dependson" class="table-of-contents__link toc-highlight">@DependsOn</a></li><li><a href="#postconstruct" class="table-of-contents__link toc-highlight">@PostConstruct</a></li><li><a href="#async" class="table-of-contents__link toc-highlight">@Async</a></li><li><a href="#value" class="table-of-contents__link toc-highlight">@Value</a></li><li><a href="#preauthorize" class="table-of-contents__link toc-highlight">@PreAuthorize</a></li><li><a href="#builder" class="table-of-contents__link toc-highlight">@Builder</a></li><li><a href="#within-target" class="table-of-contents__link toc-highlight">@within @target</a></li><li><a href="#validated-valid" class="table-of-contents__link toc-highlight">@Validated @Valid</a><ul><li><a href="#åˆ†ç»„æ ¡éªŒ" class="table-of-contents__link toc-highlight">åˆ†ç»„æ ¡éªŒ</a></li><li><a href="#åµŒå¥—æ ¡éªŒ" class="table-of-contents__link toc-highlight">åµŒå¥—æ ¡éªŒ</a></li><li><a href="#é›†åˆæ ¡éªŒ" class="table-of-contents__link toc-highlight">é›†åˆæ ¡éªŒ</a></li><li><a href="#è‡ªå®šä¹‰æ ¡éªŒ" class="table-of-contents__link toc-highlight">è‡ªå®šä¹‰æ ¡éªŒ</a></li><li><a href="#ç¼–ç¨‹å¼æ ¡éªŒ" class="table-of-contents__link toc-highlight">ç¼–ç¨‹å¼æ ¡éªŒ</a></li><li><a href="#å¿«é€Ÿå¤±è´¥" class="table-of-contents__link toc-highlight">å¿«é€Ÿå¤±è´¥</a></li></ul></li></ul></li><li><a href="#æ•æ„Ÿè¯è„±æ•" class="table-of-contents__link toc-highlight">æ•æ„Ÿè¯è„±æ•</a></li><li><a href="#jenkinsè‡ªåŠ¨åŒ–éƒ¨ç½²" class="table-of-contents__link toc-highlight">Jenkinsè‡ªåŠ¨åŒ–éƒ¨ç½²</a></li><li><a href="#spiæœºåˆ¶" class="table-of-contents__link toc-highlight">SPIæœºåˆ¶</a></li><li><a href="#jna-jni" class="table-of-contents__link toc-highlight">JNA JNI</a></li><li><a href="#aop" class="table-of-contents__link toc-highlight">AOP</a><ul><li><a href="#ç›¸å…³æœ¯è¯­" class="table-of-contents__link toc-highlight">ç›¸å…³æœ¯è¯­</a><ul><li><a href="#é€šçŸ¥advice" class="table-of-contents__link toc-highlight">é€šçŸ¥ï¼ˆAdviceï¼‰</a></li><li><a href="#è¿æ¥ç‚¹joinpoint" class="table-of-contents__link toc-highlight">è¿æ¥ç‚¹ï¼ˆJoinPointï¼‰</a></li><li><a href="#åˆ‡ç‚¹pointcut" class="table-of-contents__link toc-highlight">åˆ‡ç‚¹ï¼ˆPointcutï¼‰</a></li><li><a href="#åˆ‡é¢aspect" class="table-of-contents__link toc-highlight">åˆ‡é¢ï¼ˆAspectï¼‰</a></li><li><a href="#å¼•å…¥introduction" class="table-of-contents__link toc-highlight">å¼•å…¥ï¼ˆIntroductionï¼‰</a></li><li><a href="#ç»‡å…¥weaving" class="table-of-contents__link toc-highlight">ç»‡å…¥ï¼ˆWeavingï¼‰</a></li></ul></li><li><a href="#ç›¸å…³æ³¨è§£" class="table-of-contents__link toc-highlight">ç›¸å…³æ³¨è§£</a></li><li><a href="#åˆ‡ç‚¹è¡¨è¾¾å¼" class="table-of-contents__link toc-highlight">åˆ‡ç‚¹è¡¨è¾¾å¼</a></li></ul></li><li><a href="#æ¥å£æ–‡æ¡£" class="table-of-contents__link toc-highlight">æ¥å£æ–‡æ¡£</a><ul><li><a href="#springfox" class="table-of-contents__link toc-highlight">springfox</a></li><li><a href="#swagger" class="table-of-contents__link toc-highlight">swagger</a></li><li><a href="#knife4j" class="table-of-contents__link toc-highlight">knife4j</a></li><li><a href="#swaggeræ–°ç‰ˆæœ¬" class="table-of-contents__link toc-highlight">swaggeræ–°ç‰ˆæœ¬</a></li></ul></li><li><a href="#ååº”å¼ ç¼–ç¨‹" class="table-of-contents__link toc-highlight">ååº”å¼ç¼–ç¨‹</a><ul><li><a href="#reactoræ¡†æ¶" class="table-of-contents__link toc-highlight">Reactoræ¡†æ¶</a><ul><li><a href="#fluxå’Œmono" class="table-of-contents__link toc-highlight">Fluxå’ŒMono</a></li><li><a href="#flux" class="table-of-contents__link toc-highlight">Flux</a></li></ul></li></ul></li><li><a href="#äº‹åŠ¡" class="table-of-contents__link toc-highlight">äº‹åŠ¡</a><ul><li><a href="#äº‹åŠ¡ä¼ æ’­" class="table-of-contents__link toc-highlight">äº‹åŠ¡ä¼ æ’­</a></li><li><a href="#åˆ†å¸ƒå¼äº‹åŠ¡" class="table-of-contents__link toc-highlight">åˆ†å¸ƒå¼äº‹åŠ¡</a></li><li><a href="#æ‰‹åŠ¨æäº¤äº‹åŠ¡" class="table-of-contents__link toc-highlight">æ‰‹åŠ¨æäº¤äº‹åŠ¡</a></li><li><a href="#jdbcäº‹åŠ¡" class="table-of-contents__link toc-highlight">JDBCäº‹åŠ¡</a></li></ul></li><li><a href="#minio" class="table-of-contents__link toc-highlight">MinIO</a></li><li><a href="#pagehelper" class="table-of-contents__link toc-highlight">PageHelper</a></li><li><a href="#è·¨åŸŸ" class="table-of-contents__link toc-highlight">è·¨åŸŸ</a><ul><li><a href="#corså·¥ä½œåŸç†" class="table-of-contents__link toc-highlight">CORSå·¥ä½œåŸç†</a></li><li><a href="#é¢„æ£€è¯·æ±‚" class="table-of-contents__link toc-highlight">é¢„æ£€è¯·æ±‚</a></li><li><a href="#è§£å†³è·¨åŸŸ" class="table-of-contents__link toc-highlight">è§£å†³è·¨åŸŸ</a><ul><li><a href="#corsè·¨åŸŸæ¨è" class="table-of-contents__link toc-highlight">CORSè·¨åŸŸï¼ˆæ¨èï¼‰</a></li><li><a href="#gatewayè·¨åŸŸ" class="table-of-contents__link toc-highlight">Gatewayè·¨åŸŸ</a></li><li><a href="#åŒæºä»£ç†è·¨åŸŸ" class="table-of-contents__link toc-highlight">åŒæºä»£ç†è·¨åŸŸ</a></li></ul></li></ul></li><li><a href="#dubbozookeeper" class="table-of-contents__link toc-highlight">Dubbo+zookeeper</a></li><li><a href="#gaeaå®ç°è¯»å†™åˆ†ç¦»" class="table-of-contents__link toc-highlight">Gaeaå®ç°è¯»å†™åˆ†ç¦»</a></li><li><a href="#charlesæŠ“åŒ…å·¥å…·" class="table-of-contents__link toc-highlight">Charlesï¼ˆæŠ“åŒ…å·¥å…·ï¼‰</a></li><li><a href="#ä»»åŠ¡è°ƒåº¦" class="table-of-contents__link toc-highlight">ä»»åŠ¡è°ƒåº¦</a><ul><li><a href="#quartz" class="table-of-contents__link toc-highlight">Quartz</a></li></ul></li><li><a href="#http" class="table-of-contents__link toc-highlight">HTTP</a><ul><li><a href="#èº«ä»½è®¤è¯" class="table-of-contents__link toc-highlight">èº«ä»½è®¤è¯</a><ul><li><a href="#åŸºæœ¬basicè®¤è¯" class="table-of-contents__link toc-highlight">åŸºæœ¬(Basic)è®¤è¯</a></li><li><a href="#æ‘˜è¦digestè®¤è¯" class="table-of-contents__link toc-highlight">æ‘˜è¦(Digest)è®¤è¯</a></li><li><a href="#åŸºäºè¡¨å•form-basedçš„sslå®¢æˆ·ç«¯è®¤è¯" class="table-of-contents__link toc-highlight">åŸºäºè¡¨å•(Form-Based)çš„SSLå®¢æˆ·ç«¯è®¤è¯</a></li></ul></li><li><a href="#httpè¯·æ±‚" class="table-of-contents__link toc-highlight">HTTPè¯·æ±‚</a><ul><li><a href="#å¸¸ç”¨httpè¯·æ±‚" class="table-of-contents__link toc-highlight">å¸¸ç”¨HTTPè¯·æ±‚</a></li><li><a href="#å¸¦è¯ä¹¦httpè¯·æ±‚" class="table-of-contents__link toc-highlight">å¸¦è¯ä¹¦HTTPè¯·æ±‚</a></li></ul></li></ul></li><li><a href="#mapstruct" class="table-of-contents__link toc-highlight">MapStruct</a><ul><li><a href="#æ’ä»¶" class="table-of-contents__link toc-highlight">æ’ä»¶</a></li><li><a href="#ä¾èµ–" class="table-of-contents__link toc-highlight">ä¾èµ–</a></li><li><a href="#ä½¿ç”¨" class="table-of-contents__link toc-highlight">ä½¿ç”¨</a><ul><li><a href="#åŸºæœ¬æ˜ å°„" class="table-of-contents__link toc-highlight">åŸºæœ¬æ˜ å°„</a></li><li><a href="#é›†åˆæ˜ å°„" class="table-of-contents__link toc-highlight">é›†åˆæ˜ å°„</a></li></ul></li><li><a href="#å­å¯¹è±¡æ˜ å°„" class="table-of-contents__link toc-highlight">å­å¯¹è±¡æ˜ å°„</a></li><li><a href="#åˆå¹¶æ˜ å°„" class="table-of-contents__link toc-highlight">åˆå¹¶æ˜ å°„</a></li><li><a href="#ä½¿ç”¨ä¾èµ–æ³¨å…¥" class="table-of-contents__link toc-highlight">ä½¿ç”¨ä¾èµ–æ³¨å…¥</a></li><li><a href="#ä½¿ç”¨å¸¸é‡é»˜è®¤å€¼å’Œè¡¨è¾¾å¼" class="table-of-contents__link toc-highlight">ä½¿ç”¨å¸¸é‡ã€é»˜è®¤å€¼å’Œè¡¨è¾¾å¼</a></li><li><a href="#åœ¨æ˜ å°„å‰åè¿›è¡Œè‡ªå®šä¹‰å¤„ç†" class="table-of-contents__link toc-highlight">åœ¨æ˜ å°„å‰åè¿›è¡Œè‡ªå®šä¹‰å¤„ç†</a></li><li><a href="#å¤„ç†æ˜ å°„å¼‚å¸¸" class="table-of-contents__link toc-highlight">å¤„ç†æ˜ å°„å¼‚å¸¸</a></li></ul></li><li><a href="#æœ¬åœ°ç¼“å­˜" class="table-of-contents__link toc-highlight">æœ¬åœ°ç¼“å­˜</a><ul><li><a href="#guava-cache" class="table-of-contents__link toc-highlight">Guava Cache</a></li></ul></li><li><a href="#javaå†…å­˜æ¨¡å‹" class="table-of-contents__link toc-highlight">Javaå†…å­˜æ¨¡å‹</a></li><li><a href="#webclient" class="table-of-contents__link toc-highlight">WebClient</a><ul><li><a href="#webclientå’Œresttemplate" class="table-of-contents__link toc-highlight">WebClientå’ŒRestTemplate</a></li></ul></li><li><a href="#jmeter" class="table-of-contents__link toc-highlight">jmeter</a></li><li><a href="#k8skubernetes" class="table-of-contents__link toc-highlight">k8s(kubernetes)</a></li><li><a href="#å¤šçº¿ç¨‹" class="table-of-contents__link toc-highlight">å¤šçº¿ç¨‹</a><ul><li><a href="#æ‰‹åŠ¨åˆ›å»ºçº¿ç¨‹æ± " class="table-of-contents__link toc-highlight">æ‰‹åŠ¨åˆ›å»ºçº¿ç¨‹æ± </a></li><li><a href="#ç­‰å¾…çº¿ç¨‹æ‰§è¡Œå®Œæˆ" class="table-of-contents__link toc-highlight">ç­‰å¾…çº¿ç¨‹æ‰§è¡Œå®Œæˆ</a></li></ul></li><li><a href="#bpmn" class="table-of-contents__link toc-highlight">BPMN</a><ul><li><a href="#äº‹ä»¶events" class="table-of-contents__link toc-highlight">äº‹ä»¶ï¼ˆEventsï¼‰</a></li><li><a href="#æ´»åŠ¨activities" class="table-of-contents__link toc-highlight">æ´»åŠ¨ï¼ˆActivitiesï¼‰</a></li><li><a href="#ç½‘å…³gateways" class="table-of-contents__link toc-highlight">ç½‘å…³ï¼ˆGatewaysï¼‰</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Â© 2024 mhuahe. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>
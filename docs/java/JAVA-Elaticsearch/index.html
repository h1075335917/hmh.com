<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-java/JAVA-Elaticsearch" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">JAVA-ES | è´ºæ•åçš„å®˜æ–¹ç½‘ç«™</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://mhuahe.github.io/mhuahe.com/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://mhuahe.github.io/mhuahe.com/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://mhuahe.github.io/mhuahe.com/docs/java/JAVA-Elaticsearch"><meta data-rh="true" property="og:locale" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="JAVA-ES | è´ºæ•åçš„å®˜æ–¹ç½‘ç«™"><meta data-rh="true" name="description" content="éƒ¨ç½²"><meta data-rh="true" property="og:description" content="éƒ¨ç½²"><link data-rh="true" rel="icon" href="/mhuahe.com/img/mhuahe.ico"><link data-rh="true" rel="canonical" href="https://mhuahe.github.io/mhuahe.com/docs/java/JAVA-Elaticsearch"><link data-rh="true" rel="alternate" href="https://mhuahe.github.io/mhuahe.com/docs/java/JAVA-Elaticsearch" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://mhuahe.github.io/mhuahe.com/docs/java/JAVA-Elaticsearch" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/mhuahe.com/blog/rss.xml" title="è´ºæ•åçš„å®˜æ–¹ç½‘ç«™ RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/mhuahe.com/blog/atom.xml" title="è´ºæ•åçš„å®˜æ–¹ç½‘ç«™ Atom Feed"><link rel="stylesheet" href="/mhuahe.com/assets/css/styles.3e404acd.css">
<script src="/mhuahe.com/assets/js/runtime~main.64538b62.js" defer="defer"></script>
<script src="/mhuahe.com/assets/js/main.5d40a585.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="è·³åˆ°ä¸»è¦å†…å®¹"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">è·³åˆ°ä¸»è¦å†…å®¹</a></div><div class="announcementBar_mb4j" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">ğŸ‰ï¸<b>æœ¬ç½‘ç«™æ­£åœ¨å»ºè®¾ä¸­ï¼Œæ¬¢è¿æå‡ºå®è´µæ„è§ï¼<a target="_blank" href="https://github.com/mhuahe/mhuahe.com">æºç åœ°å€</a></b> ğŸ¥³ï¸</div><button type="button" aria-label="å…³é—­" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="ä¸»å¯¼èˆª" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="åˆ‡æ¢å¯¼èˆªæ " aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/mhuahe.com/"><b class="navbar__title text--truncate">è´ºæ•åçš„å®˜æ–¹ç½‘ç«™</b></a><a class="navbar__item navbar__link" href="/mhuahe.com/docs/example/EXAMPLE-Video">ç¤ºä¾‹</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/mhuahe.com/docs/java/">Java</a><a class="navbar__item navbar__link" href="/mhuahe.com/docs/web/">å‰ç«¯</a><a class="navbar__item navbar__link" href="/mhuahe.com/docs/c/">Cè¯­è¨€</a><a class="navbar__item navbar__link" href="/mhuahe.com/docs/linux/">Linux</a><a class="navbar__item navbar__link" href="/mhuahe.com/docs/mysql/">MySQL</a><a class="navbar__item navbar__link" href="/mhuahe.com/docs/python/">Python</a><a class="navbar__item navbar__link" href="/mhuahe.com/docs/tool/">å·¥å…·</a><a class="navbar__item navbar__link" href="/mhuahe.com/docs/project/">é¡¹ç›®</a><a class="navbar__item navbar__link" href="/mhuahe.com/docs/other/OTHER-Examination">å…¶ä»–</a><a class="navbar__item navbar__link" href="/mhuahe.com/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/mhuahe/mhuahe.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="åˆ‡æ¢æµ…è‰²/æš—é»‘æ¨¡å¼ï¼ˆå½“å‰ä¸ºæµ…è‰²æ¨¡å¼ï¼‰" aria-label="åˆ‡æ¢æµ…è‰²/æš—é»‘æ¨¡å¼ï¼ˆå½“å‰ä¸ºæµ…è‰²æ¨¡å¼ï¼‰" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="æœç´¢" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="å›åˆ°é¡¶éƒ¨" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="æ–‡æ¡£ä¾§è¾¹æ " class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mhuahe.com/docs/java/">JAVA</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mhuahe.com/docs/java/JAVA-Algorithm">JAVA-ç®—æ³•</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mhuahe.com/docs/java/JAVA-Code-Generation">JAVA-ä»£ç ç”Ÿæˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mhuahe.com/docs/java/JAVA-Data-Structure">JAVA-æ•°æ®ç»“æ„</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mhuahe.com/docs/java/JAVA-Design-Pattern">JAVA-è®¾è®¡æ¨¡å¼</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/mhuahe.com/docs/java/JAVA-Elaticsearch">JAVA-ES</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mhuahe.com/docs/java/JAVA-Encryption">JAVA-åŠ å¯†æ–¹å¼</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mhuahe.com/docs/java/JAVA-Error-Record">JAVA-é”™è¯¯è®°å½•</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mhuahe.com/docs/java/JAVA-Hutool">JAVA-HuToolå·¥å…·</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mhuahe.com/docs/java/JAVA-JDK-Version">JAVA-JDKç‰ˆæœ¬</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mhuahe.com/docs/java/JAVA-JVM">JAVA-JVM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mhuahe.com/docs/java/JAVA-Knowledge-Question">JAVA-çŸ¥è¯†é¢˜</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mhuahe.com/docs/java/JAVA-MQ">JAVA-æ¶ˆæ¯é˜Ÿåˆ—</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mhuahe.com/docs/java/JAVA-Maven-Dependent">JAVA-Mavenä¾èµ–</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mhuahe.com/docs/java/JAVA-Maven">JAVA-Maven</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mhuahe.com/docs/java/JAVA-MongoDB">JAVA-MongoDB</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mhuahe.com/docs/java/JAVA-MybatisPlus">JAVA-MybatisPlus</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mhuahe.com/docs/java/JAVA-OAuth2-SourceCode">JAVA-oauth2æºç è§£è¯»</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mhuahe.com/docs/java/JAVA-SQL-Interceptor">JAVA-SQLæ‹¦æˆªå™¨</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mhuahe.com/docs/java/JAVA-Servlet">JAVA-Servlet</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mhuahe.com/docs/java/JAVA-SpringBoot-Stack">JAVA-SpringBootæŠ€æœ¯æ ˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mhuahe.com/docs/java/JAVA-SpringBoot-Version">JAVA-SpringBootç‰ˆæœ¬</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mhuahe.com/docs/java/JAVA-SpringCloud-Stack">JAVA-SpringCloudæŠ€æœ¯æ ˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mhuahe.com/docs/java/JAVA-Thread">JAVA-å¤šçº¿ç¨‹</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mhuahe.com/docs/java/JAVA-WebSocket">JAVA-WebSocket</a></li></ul></nav><button type="button" title="æ”¶èµ·ä¾§è¾¹æ " aria-label="æ”¶èµ·ä¾§è¾¹æ " class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_z5aJ"><div class="docItemContainer_c0TR"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="é¡µé¢è·¯å¾„"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="ä¸»é¡µé¢" class="breadcrumbs__link" href="/mhuahe.com/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">JAVA-ES</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">æœ¬é¡µæ€»è§ˆ</button></div><div class="theme-doc-markdown markdown"><header><h1>JAVA-ES</h1></header>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="éƒ¨ç½²">éƒ¨ç½²<a href="#éƒ¨ç½²" class="hash-link" aria-label="éƒ¨ç½²çš„ç›´æ¥é“¾æ¥" title="éƒ¨ç½²çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">https:</span><span class="token comment" style="color:#999988;font-style:italic">//www.elastic.co/cn/downloads/past-releases/elasticsearch-7-17-3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1</span><span class="token plain">ã€å¯åŠ¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">bin</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">elasticsearch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">bat</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2</span><span class="token plain">ã€è®¿é—®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	localhost:</span><span class="token number" style="color:#36acaa">9200</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">3</span><span class="token plain">ã€å®‰è£…æˆwindowsæœåŠ¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	elasticsearch</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">service</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">bat install</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">        install: å®‰è£…ElasticsearchæœåŠ¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">        remove: åˆ é™¤å·²å®‰è£…çš„ElasticsearchæœåŠ¡ï¼ˆå¦‚æœå¯åŠ¨åˆ™åœæ­¢æœåŠ¡ï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">        start: å¯åŠ¨ElasticsearchæœåŠ¡ï¼ˆå¦‚æœå·²å®‰è£…ï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">        stop: åœæ­¢æœåŠ¡ï¼ˆå¦‚æœå¯åŠ¨ï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">        manager:å¯åŠ¨GUIæ¥ç®¡ç†å·²å®‰è£…çš„æœåŠ¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">    */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">4</span><span class="token plain">ã€å…³é—­æœåŠ¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    netstat </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">ano </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> findstr </span><span class="token number" style="color:#36acaa">9200</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    taskkill </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">pid </span><span class="token number" style="color:#36acaa">25776</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">f</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">4</span><span class="token plain">ã€å®‰è£…Elasticsearch</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">head</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	å®‰è£…gruntç¯å¢ƒ npm install </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">g grunt</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">cli</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">5</span><span class="token plain">ã€å¯åŠ¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	npm install</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">6</span><span class="token plain">ã€å®‰è£…kibana</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">7</span><span class="token plain">ã€é‡ç½®å¯†ç </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">elasticsearch</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">reset</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">password </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">i </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">u elastic</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">8</span><span class="token plain">ã€</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ç´¢å¼•ï¼š</span><span class="token keyword" style="color:#00009f">index</span><span class="token plain">ï¼Œç›¸å½“äºæ•°æ®åº“ä¸­çš„</span><span class="token keyword" style="color:#00009f">database</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ç±»å‹ï¼š</span><span class="token keyword" style="color:#00009f">type</span><span class="token plain">ç›¸å½“äºæ•°æ®åº“ä¸­çš„</span><span class="token keyword" style="color:#00009f">table</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ä¸»é”®ï¼šidç›¸å½“äºæ•°æ®åº“ä¸­è®°å½•çš„ä¸»é”®ï¼Œæ˜¯å”¯ä¸€çš„</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">æ–‡æ¡£ï¼šdocument ç›¸å½“äºä¸€æ¡æ•°æ®</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">væ˜¯ç”¨æ¥è¦æ±‚åœ¨ç»“æœä¸­è¿”å›è¡¨å¤´</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- æŸ¥çœ‹é›†ç¾¤çš„å¥åº·çŠ¶å†µ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">http:</span><span class="token comment" style="color:#999988;font-style:italic">//localhost:9200/_cat</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- æŸ¥çœ‹ESé›†ç¾¤çš„masterä¸»èŠ‚ç‚¹çŠ¶æ€</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">http:</span><span class="token comment" style="color:#999988;font-style:italic">//10.0.8.47:9200/_cat/nodes?v</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- æŸ¥çœ‹Elasticsearchå¥åº·çŠ¶æ€</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">http:</span><span class="token comment" style="color:#999988;font-style:italic">//localhost:9200/_cat/health?v</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ç´¢å¼•æ“ä½œ">ç´¢å¼•æ“ä½œ<a href="#ç´¢å¼•æ“ä½œ" class="hash-link" aria-label="ç´¢å¼•æ“ä½œçš„ç›´æ¥é“¾æ¥" title="ç´¢å¼•æ“ä½œçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- æŸ¥çœ‹æ‰€æœ‰ç´¢å¼•</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GET </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">_cat</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">indices?v</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- åˆ›å»ºä¸€ä¸ªåä¸º customer çš„ç´¢å¼•ã€‚prettyè¦æ±‚è¿”å›ä¸€ä¸ªæ¼‚äº®çš„json ç»“æœ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PUT </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">customer?pretty</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- æŸ¥çœ‹ç´¢å¼•customer</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GET </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">customer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- åˆ é™¤ç´¢å¼•customer</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">DELETE</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">customer</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ç±»å‹æ“ä½œ">ç±»å‹æ“ä½œ<a href="#ç±»å‹æ“ä½œ" class="hash-link" aria-label="ç±»å‹æ“ä½œçš„ç›´æ¥é“¾æ¥" title="ç±»å‹æ“ä½œçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- æŸ¥çœ‹æ–‡æ¡£çš„ç±»å‹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GET </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">customer</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">_mapping</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="æ–‡æ¡£æ“ä½œ">æ–‡æ¡£æ“ä½œ<a href="#æ–‡æ¡£æ“ä½œ" class="hash-link" aria-label="æ–‡æ¡£æ“ä½œçš„ç›´æ¥é“¾æ¥" title="æ–‡æ¡£æ“ä½œçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- æ·»åŠ æ–‡æ¡£</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PUT </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">customer</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">_doc</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;name&quot;</span><span class="token plain">: </span><span class="token string" style="color:#e3116c">&quot;John Doe&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- æŸ¥çœ‹customerä¸»é”®ä¸º1çš„æ–‡æ¡£</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GET </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">customer</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">_doc</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- ä¿®æ”¹æ–‡æ¡£</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">POST </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">customer</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">_doc</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">1</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">_update</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;doc&quot;</span><span class="token plain">: { </span><span class="token string" style="color:#e3116c">&quot;name&quot;</span><span class="token plain">: </span><span class="token string" style="color:#e3116c">&quot;Jane Doe&quot;</span><span class="token plain"> }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- åˆ é™¤æ–‡æ¡£</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">DELETE</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">customer</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">_doc</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- æ–‡æ¡£åšæ‰¹é‡æ“ä½œ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">POST </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">customer</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">_doc</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">_bulk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><span class="token string" style="color:#e3116c">&quot;index&quot;</span><span class="token plain">:{</span><span class="token string" style="color:#e3116c">&quot;_id&quot;</span><span class="token plain">:</span><span class="token string" style="color:#e3116c">&quot;1&quot;</span><span class="token plain">}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><span class="token string" style="color:#e3116c">&quot;name&quot;</span><span class="token plain">: </span><span class="token string" style="color:#e3116c">&quot;John Doe&quot;</span><span class="token plain"> }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><span class="token string" style="color:#e3116c">&quot;index&quot;</span><span class="token plain">:{</span><span class="token string" style="color:#e3116c">&quot;_id&quot;</span><span class="token plain">:</span><span class="token string" style="color:#e3116c">&quot;2&quot;</span><span class="token plain">}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><span class="token string" style="color:#e3116c">&quot;name&quot;</span><span class="token plain">: </span><span class="token string" style="color:#e3116c">&quot;Jane Doe&quot;</span><span class="token plain"> }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="æ•°æ®æœç´¢">æ•°æ®æœç´¢<a href="#æ•°æ®æœç´¢" class="hash-link" aria-label="æ•°æ®æœç´¢çš„ç›´æ¥é“¾æ¥" title="æ•°æ®æœç´¢çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- æµ‹è¯•æ•°æ®åœ°å€:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https:</span><span class="token comment" style="color:#999988;font-style:italic">//github.com/macrozheng/mall-learning/blob/master/document/json/accounts.json</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ç®€å•æœç´¢">ç®€å•æœç´¢<a href="#ç®€å•æœç´¢" class="hash-link" aria-label="ç®€å•æœç´¢çš„ç›´æ¥é“¾æ¥" title="ç®€å•æœç´¢çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- æœç´¢å…¨éƒ¨(é»˜è®¤åˆ†é¡µ10)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GET </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">bank</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">_search</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;query&quot;</span><span class="token plain">: { </span><span class="token string" style="color:#e3116c">&quot;match_all&quot;</span><span class="token plain">: {} }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- åˆ†é¡µæœç´¢ï¼šfromè¡¨ç¤ºåç§»é‡ï¼Œä»0å¼€å§‹ï¼Œsizeè¡¨ ç¤ºæ¯é¡µæ˜¾ç¤ºçš„æ•°é‡</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GET </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">customer</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">_search</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;query&quot;</span><span class="token plain">: { </span><span class="token string" style="color:#e3116c">&quot;match_all&quot;</span><span class="token plain">: {} }</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;from&quot;</span><span class="token plain">: </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;size&quot;</span><span class="token plain">: </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- æœç´¢æ’åºï¼šä½¿ç”¨sortè¡¨ç¤ºï¼Œä¾‹å¦‚æŒ‰balanceå­—æ®µé™åºæ’åˆ—</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GET </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">customer</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">_search</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;query&quot;</span><span class="token plain">: { </span><span class="token string" style="color:#e3116c">&quot;match_all&quot;</span><span class="token plain">: {} }</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;sort&quot;</span><span class="token plain">: { </span><span class="token string" style="color:#e3116c">&quot;balance&quot;</span><span class="token plain">: { </span><span class="token string" style="color:#e3116c">&quot;order&quot;</span><span class="token plain">: </span><span class="token string" style="color:#e3116c">&quot;desc&quot;</span><span class="token plain"> } }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- æœç´¢å¹¶è¿”å›æŒ‡å®šå­—æ®µå†…å®¹ï¼Œä½¿ç”¨_sourceè¡¨ç¤ºï¼Œä¾‹å¦‚åªè¿”å›account_numberå’Œbalanceä¸¤ä¸ªå­—æ®µå†…å®¹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GET </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">customer</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">_search</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;query&quot;</span><span class="token plain">: { </span><span class="token string" style="color:#e3116c">&quot;match_all&quot;</span><span class="token plain">: {} }</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;_source&quot;</span><span class="token plain">: </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;account_number&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;balance&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="æ¡ä»¶æœç´¢">æ¡ä»¶æœç´¢<a href="#æ¡ä»¶æœç´¢" class="hash-link" aria-label="æ¡ä»¶æœç´¢çš„ç›´æ¥é“¾æ¥" title="æ¡ä»¶æœç´¢çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- æ¡ä»¶æœç´¢ï¼šä½¿ç”¨matchè¡¨ç¤ºåŒ¹é…æ¡ä»¶ï¼Œä¾‹å¦‚æœç´¢å‡ºaccount_numberä¸º20çš„æ–‡æ¡£</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GET </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">customer</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">_search</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;query&quot;</span><span class="token plain">: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;match&quot;</span><span class="token plain">: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;account_number&quot;</span><span class="token plain">: </span><span class="token number" style="color:#36acaa">20</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- æ–‡æœ¬ç±»å‹å­—æ®µçš„æ¡ä»¶æœç´¢ï¼Œä¾‹å¦‚æœç´¢addresså­—æ®µä¸­åŒ…å«millçš„æ–‡æ¡£ï¼Œå¯¹äºæ•°å€¼ç±»å‹matchæ“ä½œä½¿ç”¨çš„æ˜¯ç²¾ç¡®åŒ¹é…ï¼Œå¯¹äºæ–‡æœ¬ç±»å‹ä½¿ç”¨çš„æ˜¯æ¨¡ç³ŠåŒ¹é…</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GET </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">customer</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">_search</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;query&quot;</span><span class="token plain">: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;match&quot;</span><span class="token plain">: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;address&quot;</span><span class="token plain">: </span><span class="token string" style="color:#e3116c">&quot;mill&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;_source&quot;</span><span class="token plain">: </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;address&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;account_number&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- çŸ­è¯­åŒ¹é…æœç´¢ï¼Œä½¿ç”¨match_phraseè¡¨ç¤ºï¼Œä¾‹å¦‚æœç´¢addresså­—æ®µä¸­åŒæ—¶åŒ…å«millå’Œlaneçš„æ–‡æ¡£</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GET </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">customer</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">_search</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;query&quot;</span><span class="token plain">: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;match_phrase&quot;</span><span class="token plain">: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;address&quot;</span><span class="token plain">: </span><span class="token string" style="color:#e3116c">&quot;mill lane&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ç»„åˆæœç´¢">ç»„åˆæœç´¢<a href="#ç»„åˆæœç´¢" class="hash-link" aria-label="ç»„åˆæœç´¢çš„ç›´æ¥é“¾æ¥" title="ç»„åˆæœç´¢çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- ç»„åˆæœç´¢ï¼Œä½¿ç”¨boolæ¥è¿›è¡Œç»„åˆï¼Œmustè¡¨ç¤ºåŒæ—¶æ»¡è¶³ï¼Œä¾‹å¦‚æœç´¢addresså­—æ®µä¸­åŒæ—¶åŒ…å«millå’Œlaneçš„æ–‡æ¡£</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GET </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">customer</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">_search</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;query&quot;</span><span class="token plain">: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;bool&quot;</span><span class="token plain">: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;must&quot;</span><span class="token plain">: </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        { </span><span class="token string" style="color:#e3116c">&quot;match&quot;</span><span class="token plain">: { </span><span class="token string" style="color:#e3116c">&quot;address&quot;</span><span class="token plain">: </span><span class="token string" style="color:#e3116c">&quot;mill&quot;</span><span class="token plain"> } }</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        { </span><span class="token string" style="color:#e3116c">&quot;match&quot;</span><span class="token plain">: { </span><span class="token string" style="color:#e3116c">&quot;address&quot;</span><span class="token plain">: </span><span class="token string" style="color:#e3116c">&quot;lane&quot;</span><span class="token plain"> } }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- ç»„åˆæœç´¢ï¼Œshouldè¡¨ç¤ºæ»¡è¶³å…¶ä¸­ä»»æ„ä¸€ä¸ªï¼Œæœç´¢addresså­—æ®µä¸­åŒ…å«millæˆ–è€…laneçš„æ–‡æ¡£</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GET </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">customer</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">_search</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;query&quot;</span><span class="token plain">: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;bool&quot;</span><span class="token plain">: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;should&quot;</span><span class="token plain">: </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        { </span><span class="token string" style="color:#e3116c">&quot;match&quot;</span><span class="token plain">: { </span><span class="token string" style="color:#e3116c">&quot;address&quot;</span><span class="token plain">: </span><span class="token string" style="color:#e3116c">&quot;mill&quot;</span><span class="token plain"> } }</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        { </span><span class="token string" style="color:#e3116c">&quot;match&quot;</span><span class="token plain">: { </span><span class="token string" style="color:#e3116c">&quot;address&quot;</span><span class="token plain">: </span><span class="token string" style="color:#e3116c">&quot;lane&quot;</span><span class="token plain"> } }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- ç»„åˆæœç´¢ï¼Œmust_notè¡¨ç¤ºåŒæ—¶ä¸æ»¡è¶³ï¼Œä¾‹å¦‚æœç´¢addresså­—æ®µä¸­ä¸åŒ…å«millä¸”ä¸åŒ…å«laneçš„æ–‡æ¡£</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GET </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">customer</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">_search</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;query&quot;</span><span class="token plain">: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;bool&quot;</span><span class="token plain">: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;must_not&quot;</span><span class="token plain">: </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        { </span><span class="token string" style="color:#e3116c">&quot;match&quot;</span><span class="token plain">: { </span><span class="token string" style="color:#e3116c">&quot;address&quot;</span><span class="token plain">: </span><span class="token string" style="color:#e3116c">&quot;mill&quot;</span><span class="token plain"> } }</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        { </span><span class="token string" style="color:#e3116c">&quot;match&quot;</span><span class="token plain">: { </span><span class="token string" style="color:#e3116c">&quot;address&quot;</span><span class="token plain">: </span><span class="token string" style="color:#e3116c">&quot;lane&quot;</span><span class="token plain"> } }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- ç»„åˆæœç´¢ï¼Œç»„åˆmustå’Œmust_notï¼Œä¾‹å¦‚æœç´¢ageå­—æ®µç­‰äº40ä¸”stateå­—æ®µä¸åŒ…å«IDçš„æ–‡æ¡£</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GET </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">customer</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">_search</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;query&quot;</span><span class="token plain">: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;bool&quot;</span><span class="token plain">: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;must&quot;</span><span class="token plain">: </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        { </span><span class="token string" style="color:#e3116c">&quot;match&quot;</span><span class="token plain">: { </span><span class="token string" style="color:#e3116c">&quot;age&quot;</span><span class="token plain">: </span><span class="token string" style="color:#e3116c">&quot;40&quot;</span><span class="token plain"> } }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;must_not&quot;</span><span class="token plain">: </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        { </span><span class="token string" style="color:#e3116c">&quot;match&quot;</span><span class="token plain">: { </span><span class="token string" style="color:#e3116c">&quot;state&quot;</span><span class="token plain">: </span><span class="token string" style="color:#e3116c">&quot;ID&quot;</span><span class="token plain"> } }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="è¿‡æ»¤æœç´¢">è¿‡æ»¤æœç´¢<a href="#è¿‡æ»¤æœç´¢" class="hash-link" aria-label="è¿‡æ»¤æœç´¢çš„ç›´æ¥é“¾æ¥" title="è¿‡æ»¤æœç´¢çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- æœç´¢è¿‡æ»¤ï¼Œä½¿ç”¨filteræ¥è¡¨ç¤ºï¼Œä¾‹å¦‚è¿‡æ»¤å‡ºbalanceå­—æ®µåœ¨20000~30000çš„æ–‡æ¡£</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GET </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">customer</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">_search</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;query&quot;</span><span class="token plain">: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;bool&quot;</span><span class="token plain">: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;must&quot;</span><span class="token plain">: { </span><span class="token string" style="color:#e3116c">&quot;match_all&quot;</span><span class="token plain">: {} }</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;filter&quot;</span><span class="token plain">: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;range&quot;</span><span class="token plain">: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token string" style="color:#e3116c">&quot;balance&quot;</span><span class="token plain">: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;gte&quot;</span><span class="token plain">: </span><span class="token number" style="color:#36acaa">20000</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;lte&quot;</span><span class="token plain">: </span><span class="token number" style="color:#36acaa">30000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="æœç´¢èšåˆ">æœç´¢èšåˆ<a href="#æœç´¢èšåˆ" class="hash-link" aria-label="æœç´¢èšåˆçš„ç›´æ¥é“¾æ¥" title="æœç´¢èšåˆçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- å¯¹æœç´¢ç»“æœè¿›è¡Œèšåˆï¼Œä½¿ç”¨aggsæ¥è¡¨ç¤ºï¼Œç±»ä¼¼äºMySqlä¸­çš„group byï¼Œä¾‹å¦‚å¯¹stateå­—æ®µè¿›è¡Œèšåˆï¼Œç»Ÿè®¡å‡ºç›¸åŒstateçš„æ–‡æ¡£æ•°é‡</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GET </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">customer</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">_search</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;size&quot;</span><span class="token plain">: </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;aggs&quot;</span><span class="token plain">: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;group_by_state&quot;</span><span class="token plain">: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;terms&quot;</span><span class="token plain">: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;field&quot;</span><span class="token plain">: </span><span class="token string" style="color:#e3116c">&quot;state.keyword&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- åµŒå¥—èšåˆï¼Œä¾‹å¦‚å¯¹stateå­—æ®µè¿›è¡Œèšåˆï¼Œç»Ÿè®¡å‡ºç›¸åŒstateçš„æ–‡æ¡£æ•°é‡ï¼Œå†ç»Ÿè®¡å‡ºbalanceçš„å¹³å‡å€¼</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GET </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">customer</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">_search</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;size&quot;</span><span class="token plain">: </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;aggs&quot;</span><span class="token plain">: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;group_by_state&quot;</span><span class="token plain">: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;terms&quot;</span><span class="token plain">: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;field&quot;</span><span class="token plain">: </span><span class="token string" style="color:#e3116c">&quot;state.keyword&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;aggs&quot;</span><span class="token plain">: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;average_balance&quot;</span><span class="token plain">: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token string" style="color:#e3116c">&quot;avg&quot;</span><span class="token plain">: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;field&quot;</span><span class="token plain">: </span><span class="token string" style="color:#e3116c">&quot;balance&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- å¯¹èšåˆæœç´¢çš„ç»“æœè¿›è¡Œæ’åºï¼Œä¾‹å¦‚æŒ‰balanceçš„å¹³å‡å€¼é™åºæ’åˆ—</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GET </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">customer</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">_search</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;size&quot;</span><span class="token plain">: </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;aggs&quot;</span><span class="token plain">: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;group_by_state&quot;</span><span class="token plain">: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;terms&quot;</span><span class="token plain">: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;field&quot;</span><span class="token plain">: </span><span class="token string" style="color:#e3116c">&quot;state.keyword&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;order&quot;</span><span class="token plain">: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token string" style="color:#e3116c">&quot;average_balance&quot;</span><span class="token plain">: </span><span class="token string" style="color:#e3116c">&quot;desc&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;aggs&quot;</span><span class="token plain">: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;average_balance&quot;</span><span class="token plain">: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token string" style="color:#e3116c">&quot;avg&quot;</span><span class="token plain">: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;field&quot;</span><span class="token plain">: </span><span class="token string" style="color:#e3116c">&quot;balance&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- æŒ‰å­—æ®µå€¼çš„èŒƒå›´è¿›è¡Œåˆ†æ®µèšåˆ ï¼Œä¾‹å¦‚åˆ†æ®µèŒƒå›´ä¸ºageå­—æ®µçš„[20,30] [30,40] [40,50]ï¼Œä¹‹åæŒ‰genderç»Ÿè®¡æ–‡æ¡£ä¸ªæ•°å’Œbalanceçš„å¹³å‡å€¼</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GET </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">customer</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">_search</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;size&quot;</span><span class="token plain">: </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;aggs&quot;</span><span class="token plain">: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;group_by_age&quot;</span><span class="token plain">: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;range&quot;</span><span class="token plain">: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;field&quot;</span><span class="token plain">: </span><span class="token string" style="color:#e3116c">&quot;age&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;ranges&quot;</span><span class="token plain">: </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;from&quot;</span><span class="token plain">: </span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;to&quot;</span><span class="token plain">: </span><span class="token number" style="color:#36acaa">30</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          }</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;from&quot;</span><span class="token plain">: </span><span class="token number" style="color:#36acaa">30</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;to&quot;</span><span class="token plain">: </span><span class="token number" style="color:#36acaa">40</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          }</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;from&quot;</span><span class="token plain">: </span><span class="token number" style="color:#36acaa">40</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;to&quot;</span><span class="token plain">: </span><span class="token number" style="color:#36acaa">50</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;aggs&quot;</span><span class="token plain">: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;group_by_gender&quot;</span><span class="token plain">: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token string" style="color:#e3116c">&quot;terms&quot;</span><span class="token plain">: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;field&quot;</span><span class="token plain">: </span><span class="token string" style="color:#e3116c">&quot;gender.keyword&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          }</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token string" style="color:#e3116c">&quot;aggs&quot;</span><span class="token plain">: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;average_balance&quot;</span><span class="token plain">: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token string" style="color:#e3116c">&quot;avg&quot;</span><span class="token plain">: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">&quot;field&quot;</span><span class="token plain">: </span><span class="token string" style="color:#e3116c">&quot;balance&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="springbooté›†æˆ">SpringBooté›†æˆ<a href="#springbooté›†æˆ" class="hash-link" aria-label="SpringBooté›†æˆçš„ç›´æ¥é“¾æ¥" title="SpringBooté›†æˆçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- å¸¸ç”¨æ³¨è§£</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- @Document</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">æ³¨è§£ä½œç”¨åœ¨ç±»ä¸Šï¼Œæ ‡è®°å®ä½“ç±»ä¸ºæ–‡æ¡£å¯¹è±¡ï¼ŒæŒ‡å®šå®ä½“ç±»ä¸ç´¢å¼•å¯¹åº”å…³ç³»ã€‚å¸¸ç”¨é…ç½®é¡¹æœ‰ï¼š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">indexNameï¼šç´¢å¼•åç§°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">type</span><span class="token plain">: ç´¢å¼•ç±»å‹ï¼Œé»˜è®¤ä¸ºç©º</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">shards: ä¸»åˆ†ç‰‡æ•°é‡ï¼Œé»˜è®¤</span><span class="token number" style="color:#36acaa">5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">replicasï¼šå¤åˆ¶åˆ†ç‰‡æ•°é‡ï¼Œé»˜è®¤</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">createIndexï¼šåˆ›å»ºç´¢å¼•ï¼Œé»˜è®¤ä¸º</span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- @Id</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">æŒ‡å®šæ–‡æ¡£IDï¼ŒåŠ ä¸Šè¿™ä¸ªæ³¨è§£ï¼Œæ–‡æ¡£çš„_idä¼šä¸æˆ‘ä»¬çš„æ•°æ®IDæ˜¯ä¸€è‡´çš„ï¼Œå¦åˆ™åœ¨ä¸ç»™å®šé»˜è®¤å€¼çš„æƒ…å†µä¸‹ï¼Œesä¼šè‡ªåŠ¨åˆ›å»º</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- @Field</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">æŒ‡å®šæ™®é€šå±æ€§ï¼Œæ ‡æ˜è¿™ä¸ªæ˜¯æ–‡æ¡£ä¸­çš„ä¸€ä¸ªå­—æ®µ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">å¸¸ç”¨çš„é…ç½®é¡¹æœ‰ï¼š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">type</span><span class="token plain">ï¼š å¯¹åº”Elasticsearchä¸­å±æ€§ç±»å‹ã€‚é»˜è®¤è‡ªåŠ¨æ£€æµ‹ã€‚ä½¿ç”¨FiledTypeæšä¸¾å¯ä»¥å¿«é€Ÿè·å–</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">index</span><span class="token plain">ï¼šæ˜¯å¦åˆ›å»ºå€’æ’ç´¢å¼•ï¼Œä¸€èˆ¬ä¸éœ€è¦åˆ†è¯çš„å±æ€§ä¸éœ€è¦åˆ›å»ºç´¢å¼•</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">analyzerï¼šæŒ‡å®šç´¢å¼•ç±»å‹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">storeï¼šæ˜¯å¦è¿›è¡Œå­˜å‚¨ï¼Œé»˜è®¤ä¸è¿›è¡Œå­˜å‚¨</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="ikåˆ†è¯å™¨">IKåˆ†è¯å™¨<a href="#ikåˆ†è¯å™¨" class="hash-link" aria-label="IKåˆ†è¯å™¨çš„ç›´æ¥é“¾æ¥" title="IKåˆ†è¯å™¨çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">https:</span><span class="token comment" style="color:#999988;font-style:italic">//github.com/medcl/elasticsearch-analysis-ik/release</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- ä¸‹è½½åè§£å‹åˆ°Elasticsearchçš„pluginsç›®å½•ä¸‹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">elasticsearch</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">plugin install https:</span><span class="token comment" style="color:#999988;font-style:italic">//github.com/medcl/elasticsearch-analysis-ik/releases/download/v6.2.2/elasticsearch-analysis-ik-6.2.2.zip</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="kibana">Kibana<a href="#kibana" class="hash-link" aria-label="Kibanaçš„ç›´æ¥é“¾æ¥" title="Kibanaçš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">https:</span><span class="token comment" style="color:#999988;font-style:italic">//www.elastic.co/cn/downloads/past-releases/kibana-7-17-3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">http:</span><span class="token comment" style="color:#999988;font-style:italic">//127.0.0.1:5601</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="filebeat">filebeat<a href="#filebeat" class="hash-link" aria-label="filebeatçš„ç›´æ¥é“¾æ¥" title="filebeatçš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">https</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">//www.elastic.co/cn/downloads/past</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">releases/filebeat</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">7</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">17</span><span class="token punctuation" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ä¿®æ”¹é…ç½®filebeat.yml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">filebeat.inputs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">enabled</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">paths</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> /home/elastic/test_logs/</span><span class="token important">*.log</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">#ä¸ä»¥[å¼€å¤´çš„è¡Œéƒ½åˆå¹¶åˆ°ä¸Šä¸€è¡Œçš„æœ«å°¾</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">multiline.pattern</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ^\</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">multiline.negate</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">multiline.match</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> after</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">output.logstash</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">hosts</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;localhost:5044&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># å¯åŠ¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./filebeat </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">e </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">c filebeat.yml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="logstash">Logstash<a href="#logstash" class="hash-link" aria-label="Logstashçš„ç›´æ¥é“¾æ¥" title="Logstashçš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- æ“ä½œæ–‡æ¡£</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https:</span><span class="token comment" style="color:#999988;font-style:italic">//www.macrozheng.com/mall/reference/mall_elk_advance.html</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- ä¸‹è½½åœ°å€</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https:</span><span class="token comment" style="color:#999988;font-style:italic">//www.elastic.co/cn/downloads/past-releases/logstash-7-17-3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">å°†Logstashçš„é…ç½®æ–‡ä»¶logstash</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">confæ‹·è´åˆ°å®‰è£…ç›®å½•çš„binç›®å½•ä¸‹ï¼Œé…ç½®æ–‡ä»¶åœ°å€ï¼šhttps:</span><span class="token comment" style="color:#999988;font-style:italic">//github.com/macrozheng/mall/blob/master/document/elk/logstash.conf</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Logstashéœ€è¦å®‰è£…json_linesæ’ä»¶</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">logstash</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">plugin install logstash</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">codec</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">json_lines</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">è¿è¡Œbinç›®å½•ä¸‹çš„logstash</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">batï¼Œå¯åŠ¨LogstashæœåŠ¡ï¼Œå¯åŠ¨å‘½ä»¤å¦‚ä¸‹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">logstash </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">f logstash</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kibanaä¸­æŸ¥çœ‹æ”¶é›†çš„æ—¥å¿—</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1</span><span class="token plain">ã€Management </span><span class="token comment" style="color:#999988;font-style:italic">--&gt; kibana - index Patterns</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2</span><span class="token plain">ã€è¾“å…¥mall</span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">--&gt; Next step</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">3</span><span class="token plain">ã€é€‰æ‹©</span><span class="token variable" style="color:#36acaa">@timestamp</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">--&gt; Create index pattern</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">4</span><span class="token plain">ã€åœ¨Discoverä¸­æŸ¥çœ‹</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- filterï¼šåœ¨Logbackä¸­æœ‰ä¸¤ç§ä¸åŒçš„è¿‡æ»¤å™¨ï¼Œç”¨æ¥è¿‡æ»¤æ—¥å¿—è¾“å‡º</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1</span><span class="token plain">ã€ThresholdFilterï¼šä¸´ç•Œå€¼è¿‡æ»¤å™¨ï¼Œè¿‡æ»¤æ‰ä½äºæŒ‡å®šä¸´ç•Œå€¼çš„æ—¥å¿—ï¼Œæ¯”å¦‚ä¸‹é¢çš„é…ç½®å°†è¿‡æ»¤æ‰æ‰€æœ‰ä½äºINFOçº§åˆ«çš„æ—¥å¿—ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">filter class</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">level</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">INFO</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token keyword" style="color:#00009f">level</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">filter</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2</span><span class="token plain">ã€LevelFilterï¼šçº§åˆ«è¿‡æ»¤å™¨ï¼Œæ ¹æ®æ—¥å¿—çº§åˆ«è¿›è¡Œè¿‡æ»¤ï¼Œæ¯”å¦‚ä¸‹é¢çš„é…ç½®å°†è¿‡æ»¤æ‰æ‰€æœ‰éERRORçº§åˆ«çš„æ—¥å¿—ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">filter class</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;ch.qos.logback.classic.filter.LevelFilter&quot;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">level</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">ERROR</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token keyword" style="color:#00009f">level</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">onMatch</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">ACCEPT</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">onMatch</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">onMismatch</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token keyword" style="color:#00009f">DENY</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">onMismatch</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">filter</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- appender: ç”¨æ¥æ§åˆ¶æ—¥å¿—çš„è¾“å‡ºå½¢å¼ï¼Œä¸»è¦æœ‰ä¸‰ç§</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1</span><span class="token plain">ã€ConsoleAppenderï¼šæ§åˆ¶æ—¥å¿—è¾“å‡ºåˆ°æ§åˆ¶å°çš„å½¢å¼ï¼Œæ¯”å¦‚åœ¨console</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">appender</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">xmlä¸­å®šä¹‰çš„é»˜è®¤æ§åˆ¶å°è¾“å‡ºã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">appender name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;CONSOLE&quot;</span><span class="token plain"> class</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;ch.qos.logback.core.ConsoleAppender&quot;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">encoder</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">pattern</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">${CONSOLE_LOG_PATTERN}</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">pattern</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">encoder</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">appender</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2</span><span class="token plain">ã€RollingFileAppenderï¼šæ§åˆ¶æ—¥å¿—è¾“å‡ºåˆ°æ–‡ä»¶çš„å½¢å¼ï¼Œå¯ä»¥æ§åˆ¶æ—¥å¿—æ–‡ä»¶ç”Ÿæˆç­–ç•¥ï¼Œæ¯”å¦‚æ–‡ä»¶åç§°æ ¼å¼ã€è¶…è¿‡å¤šå¤§é‡æ–°ç”Ÿæˆæ–‡ä»¶ä»¥åŠåˆ é™¤è¶…è¿‡å¤š  å°‘å¤©çš„æ–‡ä»¶ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">!</span><span class="token comment" style="color:#999988;font-style:italic">--ERRORæ—¥å¿—è¾“å‡ºåˆ°æ–‡ä»¶--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">appender name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;FILE_ERROR&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          class</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">rollingPolicy class</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">!</span><span class="token comment" style="color:#999988;font-style:italic">--è®¾ç½®æ–‡ä»¶å‘½åæ ¼å¼--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">fileNamePattern</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">${LOG_FILE_PATH}</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">error</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">${APP_NAME}</span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">%</span><span class="token plain">d{yyyy</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">MM</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">dd}</span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">%</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">log</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">fileNamePattern</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">!</span><span class="token comment" style="color:#999988;font-style:italic">--è®¾ç½®æ—¥å¿—æ–‡ä»¶å¤§å°ï¼Œè¶…è¿‡å°±é‡æ–°ç”Ÿæˆæ–‡ä»¶ï¼Œé»˜è®¤10M--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">maxFileSize</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">${LOG_FILE_MAX_SIZE:</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">10</span><span class="token plain">MB}</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">maxFileSize</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">!</span><span class="token comment" style="color:#999988;font-style:italic">--æ—¥å¿—æ–‡ä»¶ä¿ç•™å¤©æ•°ï¼Œé»˜è®¤30å¤©--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">maxHistory</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">${LOG_FILE_MAX_HISTORY:</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">30</span><span class="token plain">}</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">maxHistory</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">rollingPolicy</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">appender</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">3</span><span class="token plain">ã€LogstashTcpSocketAppenderï¼šæ§åˆ¶æ—¥å¿—è¾“å‡ºåˆ°Logstashçš„å½¢å¼ï¼Œå¯ä»¥ç”¨æ¥é…ç½®Logstashçš„åœ°å€ã€è®¿é—®ç­–ç•¥ä»¥åŠæ—¥å¿—çš„æ ¼å¼ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">!</span><span class="token comment" style="color:#999988;font-style:italic">--ERRORæ—¥å¿—è¾“å‡ºåˆ°LogStash--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">appender name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;LOG_STASH_ERROR&quot;</span><span class="token plain"> class</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;net.logstash.logback.appender.LogstashTcpSocketAppender&quot;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">destination</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">${LOG_STASH_HOST}:</span><span class="token number" style="color:#36acaa">4561</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">destination</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">encoder </span><span class="token keyword" style="color:#00009f">charset</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;UTF-8&quot;</span><span class="token plain"> class</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder&quot;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">providers</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">timestamp</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">timeZone</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">Asia</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">Shanghai</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">timeZone</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token keyword" style="color:#00009f">timestamp</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">!</span><span class="token comment" style="color:#999988;font-style:italic">--è‡ªå®šä¹‰æ—¥å¿—è¾“å‡ºæ ¼å¼--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">pattern</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">pattern</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token string" style="color:#e3116c">&quot;project&quot;</span><span class="token plain">: </span><span class="token string" style="color:#e3116c">&quot;mall-tiny&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token string" style="color:#e3116c">&quot;level&quot;</span><span class="token plain">: </span><span class="token string" style="color:#e3116c">&quot;%level&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token string" style="color:#e3116c">&quot;service&quot;</span><span class="token plain">: </span><span class="token string" style="color:#e3116c">&quot;${APP_NAME:-}&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token string" style="color:#e3116c">&quot;pid&quot;</span><span class="token plain">: </span><span class="token string" style="color:#e3116c">&quot;${PID:-}&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token string" style="color:#e3116c">&quot;thread&quot;</span><span class="token plain">: </span><span class="token string" style="color:#e3116c">&quot;%thread&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token string" style="color:#e3116c">&quot;class&quot;</span><span class="token plain">: </span><span class="token string" style="color:#e3116c">&quot;%logger&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token string" style="color:#e3116c">&quot;message&quot;</span><span class="token plain">: </span><span class="token string" style="color:#e3116c">&quot;%message&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token string" style="color:#e3116c">&quot;stack_trace&quot;</span><span class="token plain">: </span><span class="token string" style="color:#e3116c">&quot;%exception{20}&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">pattern</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">pattern</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">providers</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">encoder</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">!</span><span class="token comment" style="color:#999988;font-style:italic">--å½“æœ‰å¤šä¸ªLogStashæœåŠ¡æ—¶ï¼Œè®¾ç½®è®¿é—®ç­–ç•¥ä¸ºè½®è¯¢--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">connectionStrategy</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">roundRobin</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">connectionTTL</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token number" style="color:#36acaa">5</span><span class="token plain"> minutes</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">connectionTTL</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">roundRobin</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">connectionStrategy</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">appender</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- logger: åªæœ‰é…ç½®åˆ°loggerèŠ‚ç‚¹ä¸Šçš„appenderæ‰ä¼šè¢«ä½¿ç”¨ï¼Œloggerç”¨äºé…ç½®å“ªç§æ¡ä»¶ä¸‹çš„æ—¥å¿—è¢«æ‰“å°ï¼Œrootæ˜¯ä¸€ç§ç‰¹æ®Šçš„appenderï¼Œä¸‹é¢ä»‹ç»ä¸‹æ—¥å¿—åˆ’åˆ†çš„æ¡ä»¶ã€‚</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">è°ƒè¯•æ—¥å¿—ï¼šæ‰€æœ‰çš„DEBUGçº§ åˆ«ä»¥ä¸Šæ—¥å¿—ï¼›</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">é”™è¯¯æ—¥å¿—ï¼šæ‰€æœ‰çš„ERRORçº§åˆ«æ—¥å¿—ï¼›</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ä¸šåŠ¡æ—¥å¿—ï¼šcom</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">macro</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mallåŒ…ä¸‹çš„æ‰€æœ‰DEBUGçº§åˆ«ä»¥ä¸Šæ—¥å¿—ï¼›</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">è®°å½•æ—¥å¿—ï¼šcom</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">macro</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mall</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tiny</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">component</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">WebLogAspectç±»ä¸‹æ‰€æœ‰DEBUGçº§åˆ«ä»¥ä¸Šæ—¥å¿—ï¼Œè¯¥ç±»æ˜¯ç»Ÿè®¡æ¥å£è®¿é—®ä¿¡æ¯çš„AOPåˆ‡é¢ç±»ã€‚</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- æ§åˆ¶æ¡†æ¶è¾“å‡ºæ—¥å¿—: è¿˜æœ‰ä¸€äº›ä½¿ç”¨æ¡†æ¶å†…éƒ¨çš„æ—¥å¿—ï¼ŒDEBUGçº§åˆ«çš„æ—¥å¿—å¯¹æˆ‘ä»¬å¹¶æ²¡æœ‰å•¥ç”¨å¤„ï¼Œéƒ½å¯ä»¥è®¾ç½®ä¸ºäº†INFOä»¥ä¸Šçº§åˆ«ã€‚</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">!</span><span class="token comment" style="color:#999988;font-style:italic">--æ§åˆ¶æ¡†æ¶è¾“å‡ºæ—¥å¿—--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">logger name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;org.slf4j&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">level</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;INFO&quot;</span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">logger name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;springfox&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">level</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;INFO&quot;</span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">logger name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;io.swagger&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">level</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;INFO&quot;</span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">logger name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;org.springframework&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">level</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;INFO&quot;</span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">logger name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;org.hibernate.validator&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">level</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;INFO&quot;</span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># logstash.conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># inputï¼šä½¿ç”¨ä¸åŒç«¯å£æ”¶é›†ä¸åŒç±»å‹çš„æ—¥å¿—ï¼Œä»4560~4563å¼€å¯å››ä¸ªç«¯å£ï¼›</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># filterï¼šå¯¹äºè®°å½•ç±»å‹çš„æ—¥å¿—ï¼Œç›´æ¥å°†JSONæ ¼å¼çš„messageè½¬åŒ–åˆ°sourceä¸­å»ï¼Œä¾¿äºæœç´¢æŸ¥çœ‹ï¼›</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># outputï¼šæŒ‰ç±»å‹ã€æ—¶é—´è‡ªå®šä¹‰ç´¢å¼•æ ¼å¼ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">input {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  tcp {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mode =&gt; &quot;server&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    host =&gt; &quot;0.0.0.0&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    port =&gt; 4560</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    codec =&gt; json_lines</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    type =&gt; &quot;debug&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  tcp {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mode =&gt; &quot;server&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    host =&gt; &quot;0.0.0.0&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    port =&gt; 4561</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    codec =&gt; json_lines</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    type =&gt; &quot;error&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  tcp {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mode =&gt; &quot;server&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    host =&gt; &quot;0.0.0.0&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    port =&gt; 4562</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    codec =&gt; json_lines</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    type =&gt; &quot;business&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  tcp {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mode =&gt; &quot;server&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    host =&gt; &quot;0.0.0.0&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    port =&gt; 4563</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    codec =&gt; json_lines</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    type =&gt; &quot;record&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">filter{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  if [type] == &quot;record&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mutate {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      remove_field =&gt; &quot;port&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      remove_field =&gt; &quot;host&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      remove_field =&gt; &quot;@version&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    json {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      source =&gt; &quot;message&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      remove_field =&gt; [&quot;message&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">output {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  elasticsearch {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    hosts =&gt; &quot;localhost:9200&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    index =&gt; &quot;mall-%{type}-%{+YYYY.MM.dd}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="canalæ•°æ®åŒæ­¥">canalæ•°æ®åŒæ­¥<a href="#canalæ•°æ®åŒæ­¥" class="hash-link" aria-label="canalæ•°æ®åŒæ­¥çš„ç›´æ¥é“¾æ¥" title="canalæ•°æ®åŒæ­¥çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- canalä¸»è¦ç”¨é€”æ˜¯å¯¹MySQLæ•°æ®åº“å¢é‡æ—¥å¿—è¿›è¡Œè§£æï¼Œæä¾›å¢é‡æ•°æ®çš„è®¢é˜…å’Œæ¶ˆè´¹ï¼Œç®€å•è¯´å°±æ˜¯å¯ä»¥å¯¹MySQLçš„å¢é‡æ•°æ®è¿›è¡Œå®æ—¶åŒæ­¥ï¼Œæ”¯æŒåŒæ­¥åˆ°MySQLã€Elasticsearchã€HBaseç­‰æ•°æ®å­˜å‚¨ä¸­å»ã€‚</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- canalä¼šæ¨¡æ‹ŸMySQLä¸»åº“å’Œä»åº“çš„äº¤äº’åè®®ï¼Œä»è€Œä¼ªè£…æˆMySQLçš„ä»åº“ï¼Œç„¶åå‘MySQLä¸»åº“å‘é€dumpåè®®ï¼ŒMySQLä¸»åº“æ”¶åˆ°dumpè¯·æ±‚ä¼šå‘canalæ¨é€binlogï¼Œcanalé€šè¿‡è§£æbinlogå°†æ•°æ®åŒæ­¥åˆ°å…¶ä»–å­˜å‚¨ä¸­å»ã€‚</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">https:</span><span class="token comment" style="color:#999988;font-style:italic">//github.com/alibaba/canal/releases</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- ä¸‰ä¸ªç»„ä»¶</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">canal</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">serverï¼ˆcanal</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">deployï¼‰ï¼šå¯ä»¥ç›´æ¥ç›‘å¬MySQLçš„binlogï¼ŒæŠŠè‡ªå·±ä¼ªè£…æˆMySQLçš„ä»åº“ï¼Œåªè´Ÿè´£æ¥æ”¶æ•°æ®ï¼Œå¹¶ä¸åšå¤„ç†ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">canal</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">adapterï¼šç›¸å½“äºcanalçš„å®¢æˆ·ç«¯ï¼Œä¼šä»canal</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">serverä¸­è·å–æ•°æ®ï¼Œç„¶åå¯¹æ•°æ®è¿›è¡ŒåŒæ­¥ï¼Œå¯ä»¥åŒæ­¥åˆ°MySQLã€Elasticsearchå’ŒHBaseç­‰å­˜å‚¨ä¸­å»ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">canal</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">adminï¼šä¸ºcanalæä¾›æ•´ä½“é…ç½®ç®¡ç†ã€èŠ‚ç‚¹è¿ç»´ç­‰é¢å‘è¿ç»´çš„åŠŸèƒ½ï¼Œæä¾›ç›¸å¯¹å‹å¥½çš„WebUIæ“ä½œç•Œé¢ï¼Œæ–¹ä¾¿æ›´å¤šç”¨æˆ·å¿«é€Ÿå’Œå®‰å…¨çš„æ“ä½œã€‚</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="é…ç½®mysql">é…ç½®mysql<a href="#é…ç½®mysql" class="hash-link" aria-label="é…ç½®mysqlçš„ç›´æ¥é“¾æ¥" title="é…ç½®mysqlçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- ç”±äºcanalæ˜¯é€šè¿‡è®¢é˜…MySQLçš„binlogæ¥å®ç°æ•°æ®åŒæ­¥çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å¼€å¯MySQLçš„binlogå†™å…¥åŠŸèƒ½ï¼Œå¹¶è®¾ç½®binlog-formatä¸ºROWæ¨¡å¼ï¼Œé…ç½®æ–‡ä»¶ä¸º/mydata/mysql/conf/my.cnf</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="lucene">Lucene<a href="#lucene" class="hash-link" aria-label="Luceneçš„ç›´æ¥é“¾æ¥" title="Luceneçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- Luceneæ˜¯ä¸€å¥—ç”¨äºå…¨æ–‡æ£€ç´¢å’Œæœç´¢çš„å¼€æ”¾åŸå§‹ç ç¨‹åºåº“ï¼Œç”±Apacheè½¯ä»¶åŸºé‡‘ä¼šæ”¯æŒå’Œæä¾›ã€‚Luceneæä¾›äº†ä¸€ä¸ªç®€å•å´å¼ºå¤§çš„åº”ç”¨ç¨‹åºæ¥å£ï¼Œèƒ½å¤Ÿåšå…¨æ–‡ç´¢å¼•å’Œæœç´¢ã€‚Luceneè¢«å¹¿æ³›åº”ç”¨ä½œæœç´¢åº”ç”¨çš„æ ‡å‡†åŸºç¡€åº“</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="å¸¸ç”¨æ³¨è§£">å¸¸ç”¨æ³¨è§£<a href="#å¸¸ç”¨æ³¨è§£" class="hash-link" aria-label="å¸¸ç”¨æ³¨è§£çš„ç›´æ¥é“¾æ¥" title="å¸¸ç”¨æ³¨è§£çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//æ ‡ç¤ºæ˜ å°„åˆ°Elasticsearchæ–‡æ¡£ä¸Šçš„é¢†åŸŸå¯¹è±¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public @interface Document {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //ç´¢å¼•åº“åæ¬¡ï¼Œmysqlä¸­æ•°æ®åº“çš„æ¦‚å¿µ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	String indexName();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //æ–‡æ¡£ç±»å‹ï¼Œmysqlä¸­è¡¨çš„æ¦‚å¿µ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	String type() default &quot;&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //é»˜è®¤åˆ†ç‰‡æ•°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	short shards() default 5;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //é»˜è®¤å‰¯æœ¬æ•°é‡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	short replicas() default 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//è¡¨ç¤ºæ˜¯æ–‡æ¡£çš„idï¼Œæ–‡æ¡£å¯ä»¥è®¤ä¸ºæ˜¯mysqlä¸­è¡¨è¡Œçš„æ¦‚å¿µ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public @interface Id {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public @interface Field {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //æ–‡æ¡£ä¸­å­—æ®µçš„ç±»å‹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	FieldType type() default FieldType.Auto;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //æ˜¯å¦å»ºç«‹å€’æ’ç´¢å¼•</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	boolean index() default true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //æ˜¯å¦è¿›è¡Œå­˜å‚¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	boolean store() default false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //åˆ†è¯å™¨åæ¬¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	String analyzer() default &quot;&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//ä¸ºæ–‡æ¡£è‡ªåŠ¨æŒ‡å®šå…ƒæ•°æ®ç±»å‹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public enum FieldType {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	Text,//ä¼šè¿›è¡Œåˆ†è¯å¹¶å»ºäº†ç´¢å¼•çš„å­—ç¬¦ç±»å‹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	Integer,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	Long,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	Date,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	Float,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	Double,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	Boolean,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	Object,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	Auto,//è‡ªåŠ¨åˆ¤æ–­å­—æ®µç±»å‹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	Nested,//åµŒå¥—å¯¹è±¡ç±»å‹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	Ip,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	Attachment,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	Keyword//ä¸ä¼šè¿›è¡Œåˆ†è¯å»ºç«‹ç´¢å¼•çš„ç±»å‹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- ç»§æ‰¿ElasticsearchRepositoryæ¥å£å¯ä»¥è·å¾—å¸¸ç”¨çš„æ•°æ®æ“ä½œæ–¹æ³•</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- è¡ç”ŸæŸ¥è¯¢</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">åœ¨æ¥å£ä¸­ç›´æ¥æŒ‡å®šæŸ¥è¯¢æ–¹æ³•åç§°ä¾¿å¯æŸ¥è¯¢ï¼Œæ— éœ€è¿›è¡Œå®ç°ï¼Œå¦‚å•†å“è¡¨ä¸­æœ‰å•†å“åç§°ã€æ ‡é¢˜å’Œå…³é”®å­—ï¼Œç›´æ¥å®šä¹‰ä»¥ä¸‹æŸ¥è¯¢ï¼Œå°±å¯ä»¥å¯¹è¿™ä¸‰ä¸ªå­—æ®µè¿›è¡Œå…¨æ–‡æœç´¢ã€‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Page</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">EsProduct</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> findByNameOrSubTitleOrKeywords</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">String name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> String subTitle</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> String keywords</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Pageable page</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- ä½¿ç”¨@Queryæ³¨è§£å¯ä»¥ç”¨Elasticsearchçš„DSLè¯­å¥è¿›è¡ŒæŸ¥è¯¢</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token variable" style="color:#36acaa">@Query</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;{&quot;</span><span class="token keyword" style="color:#00009f">bool</span><span class="token string" style="color:#e3116c">&quot; : {&quot;</span><span class="token plain">must</span><span class="token string" style="color:#e3116c">&quot; : {&quot;</span><span class="token plain">field</span><span class="token string" style="color:#e3116c">&quot; : {&quot;</span><span class="token plain">name</span><span class="token string" style="color:#e3116c">&quot; : &quot;</span><span class="token plain">?</span><span class="token number" style="color:#36acaa">0</span><span class="token string" style="color:#e3116c">&quot;}}}}&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Page</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">EsProduct</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> findByName</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">String name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">Pageable pageable</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- @Field</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ä¸éœ€è¦ä¸­æ–‡åˆ†è¯çš„å­—æ®µè®¾ç½®æˆ</span><span class="token variable" style="color:#36acaa">@Field</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> FieldType</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Keyword</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">ç±»å‹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">éœ€è¦ä¸­æ–‡åˆ†è¯çš„è®¾ç½®æˆ</span><span class="token variable" style="color:#36acaa">@Field</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">analyzer </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;ik_max_word&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> FieldType</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">Text</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">ç±»å‹ã€‚</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ç‰ˆæœ¬å…¼å®¹">ç‰ˆæœ¬å…¼å®¹<a href="#ç‰ˆæœ¬å…¼å®¹" class="hash-link" aria-label="ç‰ˆæœ¬å…¼å®¹çš„ç›´æ¥é“¾æ¥" title="ç‰ˆæœ¬å…¼å®¹çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p><a href="https://www.elastic.co/cn/support/matrix?spm=a2c4g.11186623.0.0.312237875y8kxE#matrix_compatibility" target="_blank" rel="noopener noreferrer">https://www.elastic.co/cn/support/matrix?spm=a2c4g.11186623.0.0.312237875y8kxE#matrix_compatibility</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.dev/mhuahe/mhuahe.com/blob/master-ts/docs/java/JAVA-Elaticsearch.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>ç¼–è¾‘æ­¤é¡µ</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">æœ€å<!-- -->ç”± <b>heminhua</b> <!-- -->äº <b><time datetime="2024-09-03T17:00:06.000Z" itemprop="dateModified">2024å¹´9æœˆ3æ—¥</time></b> <!-- -->æ›´æ–°</span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="æ–‡ä»¶é€‰é¡¹å¡"><a class="pagination-nav__link pagination-nav__link--prev" href="/mhuahe.com/docs/java/JAVA-Design-Pattern"><div class="pagination-nav__sublabel">ä¸Šä¸€é¡µ</div><div class="pagination-nav__label">JAVA-è®¾è®¡æ¨¡å¼</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/mhuahe.com/docs/java/JAVA-Encryption"><div class="pagination-nav__sublabel">ä¸‹ä¸€é¡µ</div><div class="pagination-nav__label">JAVA-åŠ å¯†æ–¹å¼</div></a></nav><div id="disqus_thread"></div></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#éƒ¨ç½²" class="table-of-contents__link toc-highlight">éƒ¨ç½²</a></li><li><a href="#ç´¢å¼•  æ“ä½œ" class="table-of-contents__link toc-highlight">ç´¢å¼•æ“ä½œ</a></li><li><a href="#ç±»å‹æ“ä½œ" class="table-of-contents__link toc-highlight">ç±»å‹æ“ä½œ</a></li><li><a href="#æ–‡æ¡£æ“ä½œ" class="table-of-contents__link toc-highlight">æ–‡æ¡£æ“ä½œ</a></li><li><a href="#æ•°æ®æœç´¢" class="table-of-contents__link toc-highlight">æ•°æ®æœç´¢</a></li><li><a href="#ç®€å•æœç´¢" class="table-of-contents__link toc-highlight">ç®€å•æœç´¢</a></li><li><a href="#æ¡ä»¶æœç´¢" class="table-of-contents__link toc-highlight">æ¡ä»¶æœç´¢</a></li><li><a href="#ç»„åˆæœç´¢" class="table-of-contents__link toc-highlight">ç»„åˆæœç´¢</a></li><li><a href="#è¿‡æ»¤æœç´¢" class="table-of-contents__link toc-highlight">è¿‡æ»¤æœç´¢</a></li><li><a href="#æœç´¢èšåˆ" class="table-of-contents__link toc-highlight">æœç´¢èšåˆ</a></li><li><a href="#springbooté›†æˆ" class="table-of-contents__link toc-highlight">SpringBooté›†æˆ</a><ul><li><a href="#ikåˆ†è¯å™¨" class="table-of-contents__link toc-highlight">IKåˆ†è¯å™¨</a></li><li><a href="#kibana" class="table-of-contents__link toc-highlight">Kibana</a></li><li><a href="#filebeat" class="table-of-contents__link toc-highlight">filebeat</a></li><li><a href="#logstash" class="table-of-contents__link toc-highlight">Logstash</a></li><li><a href="#canalæ•°æ®åŒæ­¥" class="table-of-contents__link toc-highlight">canalæ•°æ®åŒæ­¥</a></li></ul></li><li><a href="#é…ç½®mysql" class="table-of-contents__link toc-highlight">é…ç½®mysql</a></li><li><a href="#lucene" class="table-of-contents__link toc-highlight">Lucene</a></li><li><a href="#å¸¸ç”¨æ³¨è§£" class="table-of-contents__link toc-highlight">å¸¸ç”¨æ³¨è§£</a></li><li><a href="#ç‰ˆæœ¬å…¼å®¹" class="table-of-contents__link toc-highlight">ç‰ˆæœ¬å…¼å®¹</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">æ–‡æ¡£</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://docusaurus.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">å¼€å‘æ–‡æ¡£</a></li></ul></div><div class="col footer__col"><div class="footer__title">ç¤¾åŒº</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.cnblogs.com/minhua" target="_blank" rel="noopener noreferrer" class="footer__link-item">åšå®¢å›­<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://juejin.cn/user/2331397363880808" target="_blank" rel="noopener noreferrer" class="footer__link-item">æ˜é‡‘<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://x.com/mihuahe" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://mhuahe.github.io/mhuahe.com/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li><li class="footer__item"><a href="https://github.com/mhuahe" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://opensource.fb.com" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/mhuahe.com/img/meta_opensource_logo_negative.svg" alt="Meta Open Source Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE"><img src="/mhuahe.com/img/meta_opensource_logo_negative.svg" alt="Meta Open Source Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU"></a></div><div class="footer__copyright">Â© 2024 mhuahe. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>
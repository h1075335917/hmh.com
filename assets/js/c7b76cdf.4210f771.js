"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[1019],{8547:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>t,metadata:()=>s,toc:()=>d});let s=JSON.parse('{"id":"java/JAVA-MQ","title":"JAVA-\u6D88\u606F\u961F\u5217","description":"RocketMQ","source":"@site/docs/java/JAVA-MQ.md","sourceDirName":"java","slug":"/java/JAVA-MQ","permalink":"/mhuahe.com/docs/java/JAVA-MQ","draft":false,"unlisted":false,"editUrl":"https://github.dev/mhuahe/mhuahe.com/blob/master-ts/docs/java/JAVA-MQ.md","tags":[],"version":"current","lastUpdatedBy":"heminhua","lastUpdatedAt":1729094642000,"frontMatter":{},"sidebar":"java","previous":{"title":"JAVA-\u77E5\u8BC6\u9898","permalink":"/mhuahe.com/docs/java/JAVA-Knowledge-Question"},"next":{"title":"JAVA-Maven\u4F9D\u8D56","permalink":"/mhuahe.com/docs/java/JAVA-Maven-Dependent"}}');var a=n(4848),i=n(8453);let l=n.p+"assets/images/MQ-\u5DE5\u4F5C\u6D41\u7A0B-93ee506d9affce13edaa80f941cbad3f.png",t={},o="JAVA-\u6D88\u606F\u961F\u5217",c={},d=[{value:"RocketMQ",id:"rocketmq",level:4},{value:"RocketMQ\u6838\u5FC3\u6982\u5FF5",id:"rocketmq\u6838\u5FC3\u6982\u5FF5",level:5},{value:"\u5DE5\u4F5C\u6D41\u7A0B",id:"\u5DE5\u4F5C\u6D41\u7A0B",level:5},{value:"RocketMQ\u542F\u52A8",id:"rocketmq\u542F\u52A8",level:5},{value:"Linux\u73AF\u5883\u642D\u5EFA",id:"linux\u73AF\u5883\u642D\u5EFA",level:6},{value:"Window\u73AF\u5883\u642D\u5EFA",id:"window\u73AF\u5883\u642D\u5EFA",level:6},{value:"Springboot\u96C6\u6210",id:"springboot\u96C6\u6210",level:5},{value:"\u4E09\u79CD\u53D1\u9001\u6D88\u606F\u65B9\u5F0F",id:"\u4E09\u79CD\u53D1\u9001\u6D88\u606F\u65B9\u5F0F",level:5},{value:"\u540C\u6B65\u53D1\u9001",id:"\u540C\u6B65\u53D1\u9001",level:6},{value:"\u5F02\u6B65\u53D1\u9001",id:"\u5F02\u6B65\u53D1\u9001",level:6},{value:"\u5355\u5411\u53D1\u9001",id:"\u5355\u5411\u53D1\u9001",level:6},{value:"RabbitMQ",id:"rabbitmq",level:4},{value:"RabbitMQ\u542F\u52A8",id:"rabbitmq\u542F\u52A8",level:5},{value:"Windows\u73AF\u5883\u642D\u5EFA",id:"windows\u73AF\u5883\u642D\u5EFA",level:6},{value:"Linux\u73AF\u5883\u642D\u5EFA",id:"linux\u73AF\u5883\u642D\u5EFA-1",level:6},{value:"Springboot\u96C6\u6210",id:"springboot\u96C6\u6210-1",level:5},{value:"7\u79CD\u6D88\u606F\u6A21\u5F0F",id:"7\u79CD\u6D88\u606F\u6A21\u5F0F",level:5},{value:"\u7B80\u5355\u6A21\u5F0F",id:"\u7B80\u5355\u6A21\u5F0F",level:6},{value:"\u5DE5\u4F5C\u6A21\u5F0F(Work Queues)",id:"\u5DE5\u4F5C\u6A21\u5F0Fwork-queues",level:6},{value:"\u53D1\u5E03/\u8BA2\u9605\u6A21\u5F0F(Publish/Subscribe)",id:"\u53D1\u5E03\u8BA2\u9605\u6A21\u5F0Fpublishsubscribe",level:6},{value:"\u8DEF\u7531\u6A21\u5F0F(Routing)",id:"\u8DEF\u7531\u6A21\u5F0Frouting",level:6},{value:"\u901A\u914D\u7B26\u6A21\u5F0F(Topics)",id:"\u901A\u914D\u7B26\u6A21\u5F0Ftopics",level:6},{value:"RPC",id:"rpc",level:6},{value:"Publisher Confirms",id:"publisher-confirms",level:6},{value:"MQTT",id:"mqtt",level:4}];function h(e){let r={code:"code",h1:"h1",h4:"h4",h5:"h5",h6:"h6",header:"header",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.header,{children:(0,a.jsx)(r.h1,{id:"java-\u6D88\u606F\u961F\u5217",children:"JAVA-\u6D88\u606F\u961F\u5217"})}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:"//\u6D88\u606F\u961F\u5217\u4F7F\u7528\u5148\u8FDB\u5148\u51FA\u7684\u6570\u636E\u683C\u5F0F , \u4E0D\u4F7F\u7528\u961F\u5217\u7684\u60C5\u51B5\u4E0B,\u751F\u4EA7\u8005\u4E0E\u6D88\u8D39\u8005\u4E4B\u95F4\u662F\u901A\u8FC7RPC\u4EA4\u4E92\u7684\r\n//=================1.\u89E3\u8026\r\n\u4F7F\u7528\u6D88\u606F\u961F\u5217\u89E3\u8026\uFF0C\u7CFB\u7EDF\u7684\u8026\u5408\u6027\u5C31\u4F1A\u4E0B\u964D\u4E86\uFF0C\u6BD4\u5982\u7269\u6D41\u7CFB\u7EDF\u53D1\u751F\u6545\u969C\uFF0C\u9700\u8981\u51E0\u5206\u949F\u624D\u80FD\u4FEE\u590D\uFF0C\u5728\u8FD9\u6BB5\u65F6\u95F4\u5185\uFF0C\u7269\u6D41\u7CFB\u7EDF\u8981\u5904\u7406\u7684\u6570\u636E\u88AB\u7F13\u5B58\u5230\u6D88\u606F\u961F\u5217\u4E2D\uFF0C\u7528\u6237\u7684\u4E0B\u5355\u64CD\u4F5C\u6B63\u5E38\u5B8C\u6210\u3002\u5F53\u7269\u6D41\u7CFB\u7EDF\u6062\u590D\u540E\uFF0C\u8865\u5145\u5904\u7406\u5B58\u5728\u6D88\u606F\u961F\u5217\u4E2D\u7684\u8BA2\u5355\u6D88\u606F\u5373\u53EF\uFF0C\u7EC8\u7AEF\u7CFB\u7EDF\u611F\u77E5\u4E0D\u5230\u7269\u6D41\u7CFB\u7EDF\u53D1\u751F\u8FC7\u51E0\u5206\u949F\u6545\u969C\r\n//=================2.\u524A\u5CF0\u542B\u4E49\r\n\u4E00\u822C\u60C5\u51B5\uFF0C\u4E3A\u4E86\u4FDD\u8BC1\u7CFB\u7EDF\u7684\u7A33\u5B9A\u6027\uFF0C\u5982\u679C\u7CFB\u7EDF\u8D1F\u8F7D\u8D85\u8FC7\u9608\u503C\uFF0C\u5C31\u4F1A\u963B\u6B62\u7528\u6237\u8BF7\u6C42\uFF0C\u800C\u5982\u679C\u4F7F\u7528\u6D88\u606F\u961F\u5217\u5C06\u8BF7\u6C42\u7F13\u5B58\u8D77\u6765\uFF0C\u7B49\u5F85\u7CFB\u7EDF\u5904\u7406\u5B8C\u6BD5\u540E\u901A\u77E5\u7528\u6237\u4E0B\u5355\u5B8C\u6BD5\uFF0C\u8FD9\u65B9\u6CD5\u867D\u7136\u4F1A\u8017\u65F6\uFF0C\u4F46\u9632\u6B62\u4E86\u7CFB\u7EDF\u4E0D\u80FD\u4E0B\u5355\u7684\u60C5\u51B5\r\n//=================3.\u6570\u636E\u5206\u53D1\r\n\u901A\u8FC7\u6D88\u606F\u961F\u5217\u53EF\u4EE5\u8BA9\u6570\u636E\u5728\u591A\u4E2A\u7CFB\u7EDF\u4E4B\u95F4\u66F4\u52A0\u65B9\u4FBF\u6D41\u901A\u3002\u53EA\u9700\u8981\u5C06\u6570\u636E\u53D1\u9001\u5230\u6D88\u606F\u961F\u5217\uFF0C\u6570\u636E\u4F7F\u7528\u65B9\u76F4\u63A5\u5728\u6D88\u606F\u961F\u5217\u4E2D\u83B7\u53D6\u6570\u636E\u5373\u53EF\r\n\u4F8B\u5982:A\u7CFB\u7EDF\u4EA7\u751F\u6570\u636E\uFF0C\u53D1\u9001\u5230MQ, BCD\u54EA\u4E2A\u7CFB\u7EDF\u9700\u8981\uFF0C\u81EA\u5DF1\u53BBMQ\u6D88\u8D39\u5373\u53EF\u5982\u679C\u67D0\u4E2A\u7CFB\u7EDF\u4E0D\u9700\u8981\u6570\u636E\uFF0C\u53D6\u6D88\u5BF9MQ\u6D88\u606F\u7684\u6D88\u8D39\u5373\u53EF\u65B0\u7CFB\u7EDF\u8981\u6570\u636E\uFF0C\u76F4\u63A5\u4ECEMQ\u6D88\u8D39\u5373\u53EF\r\n//=================4.\u5F02\u6B65\u5904\u7406\r\n\u7528\u6237\u6CE8\u518C\u540E\uFF0C\u9700\u8981\u53D1\u6CE8\u518C\u90AE\u4EF6\u548C\u6CE8\u518C\u77ED\u4FE1\u3002\u4F20\u7EDF\u7684\u505A\u6CD5\u6709\u4E24\u79CD:\u4E32\u884C\u65B9\u5F0F\u548C\u5E76\u884C\u65B9\u5F0Fjava\r\n\u4E32\u884C\u65B9\u5F0F\uFF1A\u5C06\u6CE8\u518C\u4FE1\u606F\u5199\u5165\u6570\u636E\u5E93\u6210\u529F\u540E\uFF0C\u53D1\u9001\u6CE8\u518C\u90AE\u4EF6\uFF0C\u518D\u53D1\u9001\u6CE8\u518C\u77ED\u4FE1\uFF0C\u4EE5\u4E0A\u4E09\u4E2A\u4EFB\u52A1\r\n\u5B8C\u6210\u540E\uFF0C\u8FD4\u56DE\u7ED9\u5BA2\u6237\u7AEF\r\n\u5E76\u884C\u65B9\u5F0F\uFF1A\u5C06\u6CE8\u518C\u4FE1\u606F\u5199\u5165\u6570\u636E\u5E93\u6210\u529F\u540E\uFF0C\u53D1\u9001\u6CE8\u518C\u90AE\u4EF6\u7684\u540C\u65F6\uFF0C\u53D1\u9001\u6CE8\u518C\u77ED\u4FE1\u3002\u4EE5\u4E0A\u4E09\u4E2A\r\n\u4EFB\u52A1\u5B8C\u6210\u540E\uFF0C\u8FD4\u56DE\u7ED9\u5BA2\u6237\u7AEF\u3002\u4E0E\u4E32\u884C\u7684\u5DEE\u522B\u662F\uFF0C\u5E76\u884C\u7684\u65B9\u5F0F\u53EF\u4EE5\u63D0\u9AD8\u5904\u7406\u7684\u65F6\u95F4\r\n\u4F8B\u5982:\u5047\u8BBE\u4E09\u4E2A\u4E1A\u52A1\u8282\u70B9\u6BCF\u4E2A\u4F7F\u752850\u6BEB\u79D2\uFF0C\u4E0D\u8003\u8651\u7F51\u7EDC\u7B49\u5176\u4ED6\u5F00\u9500\uFF0C\u5219\u4E32\u884C\u65B9\u5F0F\u7684\u65F6\u95F4\u662F150\u6BEB\u79D2\uFF0C\u5E76\u884C\u7684\u65F6\u95F4\u53EF\u80FD\u662F100\u6BEB\u79D2,\u56E0\u4E3Acpu\u5728\u5355\u4F4D\u65F6\u95F4\u5185\u5904\u7406\u7684\u8BF7\u6C42\u6570\u662F\u4E00\u5B9A\u7684\uFF0C\u5047\u8BBEcpu1\u79D2\u541E\u5410\u91CF\u662F100\u6B21\uFF0C\u5219\u4E32\u884C\u65B9\u5F0F1\u79D2\u5185cpu\u53EF\u5904\u7406\u7684\u8BF7\u6C42\u91CF\u662F7\u6B21(1000/150)\uFF0C\u5E76\u884C\u65B9\u5F0F\u5904\u7406\u7684\u8BF7\u6C42\u91CF\u662F10\u6B21(1000/100)\u3002\r\n\u5C0F\u7ED3:\u6839\u636E\u5982\u4E0A\u6848\u4F8B\uFF0C\u4F20\u7EDF\u7684\u65B9\u5F0F\u7CFB\u7EDF\u7684\u6027\u80FD\uFF0C\u5982\u5E76\u53D1\u91CF\u3001\u541E\u5410\u91CF\u3001\u54CD\u5E94\u91CF\u7B49\u4F1A\u6709\u74F6\u9888\r\n\u89E3\u51B3:\u4F7F\u7528\u6D88\u606F\u961F\u5217\r\n\u6309\u7167\u4EE5\u4E0A\u7EA6\u5B9A\uFF0C\u7528\u6237\u7684\u54CD\u5E94\u65F6\u95F4\u76F8\u5F53\u4E8E\u662F\u6CE8\u518C\u6D88\u606F\u5199\u5165\u6570\u636E\u5E93\u65F6\u95F4\uFF0C\u4E5F\u5C31\u662F50\u6BEB\u79D2\u3002\u6CE8\u518C\u90AE\u4EF6\uFF0C\u53D1\u9001\u77ED\u4FE1\u5199\u5165\u6D88\u606F\u961F\u5217\u540E\uFF0C\u76F4\u63A5\u8FD4\u56DE\uFF0C\u56E0\u4E3A\u5199\u5165\u6D88\u606F\u961F\u5217\u7684\u901F\u5EA6\u5F88\u5FEB\u57FA\u672C\u53EF\u4EE5\u5FFD\u7565\uFF0C\u56E0\u6B64\u7528\u6237\u54CD\u5E94\u65F6\u95F4\u53EF\u80FD\u662F50\u6BEB\u79D2\u3002\u56E0\u6B64\u67B6\u6784\u6539\u53D8\u540E\uFF0C\u7CFB\u7EDF\u7684\u541E\u5410\u91CF\u63D0\u9AD8\u5230\u6BCF\u79D220 QPS\uFF0C\u6BD4\u4E32\u884C\u63D0\u9AD8\u4E863\u500D\uFF0C\u6BD4\u5E76\u884C\u63D0\u9AD8\u4E862\u500D\r\n//=================5.\u65E5\u5FD7\u5904\u7406\r\n\u65E5\u5FD7\u5904\u7406\u662F\u6307\u5C06\u6D88\u606F\u961F\u5217\u7528\u5728\u65E5\u5FD7\u5904\u7406\u4E2D\uFF0C\u6BD4\u5982kafka\u7684\u5E94\u7528,\u89E3\u51B3\u5927\u91CF\u65E5\u5FD7\u4F20\u8F93\u7684\u95EE\u9898\uFF0C\u67B6\u6784\u7B80\u5316\u5982\u4E0B,\u65E5\u5FD7\u91C7\u96C6\u5BA2\u6237\u7AEF\uFF0C\u8D1F\u8D23\u65E5\u5FD7\u6570\u636E\u91C7\u96C6\uFF0C\u5B9A\u65F6\u5199\u5165kafka\u961F\u5217kafka\u6D88\u606F\u961F\u5217\uFF0C\u8D1F\u8D23\u65E5\u5FD7\u6570\u636E\u7684\u63A5\u6536\uFF0C\u5B58\u50A8\u548C\u8F6C\u53D1\u65E5\u5FD7\u5904\u7406\uFF0C\u8BA2\u9605\u5E76\u6D88\u8D39kafka\u961F\u5217\u4E2D\u7684\u65E5\u5FD7\u6570\u636E\n"})}),"\n",(0,a.jsx)(r.h4,{id:"rocketmq",children:"RocketMQ"}),"\n",(0,a.jsx)(r.h5,{id:"rocketmq\u6838\u5FC3\u6982\u5FF5",children:"RocketMQ\u6838\u5FC3\u6982\u5FF5"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-sql",children:"\u25A0 Producer\uFF1A\u5C31\u662F\u6D88\u606F\u751F\u4EA7\u8005\uFF0C\u53EF\u4EE5\u96C6\u7FA4\u90E8\u7F72\u3002\u5B83\u4F1A\u5148\u548CNameServer\u96C6\u7FA4\u4E2D\u7684\u968F\u673A\u4E00\u53F0\u5EFA\u7ACB\u957F\u8FDE\u63A5\uFF0C\u5F97\u77E5\u5F53\u524D\u8981\u53D1\u9001\u7684Topic\u5B58\u5728\u54EA\u53F0Broker Master\u4E0A\uFF0C\u7136\u540E\u518D\u4E0E\u5176\u5EFA\u7ACB\u957F\u8FDE\u63A5\uFF0C\u652F\u6301\u591A\u79CD\u8D1F\u8F7D\u5E73\u8861\u6A21\u5F0F\u53D1\u9001\u6D88\u606F\u3002\r\n\u25A0 Consumer\uFF1A\u6D88\u606F\u6D88\u8D39\u8005\uFF0C\u4E5F\u53EF\u4EE5\u96C6\u7FA4\u90E8\u7F72\u3002\u5B83\u4E5F\u4F1A\u5148\u548CNameServer\u96C6\u7FA4\u4E2D\u7684\u968F\u673A\u4E00\u53F0\u5EFA\u7ACB\u957F\u8FDE\u63A5\uFF0C\u5F97\u77E5\u5F53\u524D\u8981\u6D88\u606F\u7684Topic\u5B58\u5728\u54EA\u53F0Broker Master\u3001Slave\u4E0A\uFF0C\u7136\u540E\u5B83\u4EEC\u5EFA\u7ACB\u957F\u8FDE\u63A5\uFF0C\u652F\u6301\u96C6\u7FA4\u6D88\u8D39\u548C\u5E7F\u64AD\u6D88\u8D39\u6D88\u606F\u3002\r\n\u25A0 Broker\uFF1A\u4E3B\u8981\u8D1F\u8D23\u6D88\u606F\u7684\u5B58\u50A8\u3001\u67E5\u8BE2\u6D88\u8D39\uFF0C\u652F\u6301\u4E3B\u4ECE\u90E8\u7F72\u3002\u5B58\u50A8topic\u7684\u4FE1\u606F\uFF0C\u63A5\u53D7\u751F\u4EA7\u8005\u4EA7\u751F\u7684\u6D88\u606F\uFF0C\u6301\u4E45\u5316\u6D88\u606F\u3002\u4E00\u4E2A Master\u53EF\u4EE5\u5BF9\u5E94\u591A\u4E2ASlave\uFF0CMaster\u652F\u6301\u8BFB\u5199\uFF0CSlave\u53EA\u652F\u6301\u8BFB\u3002Broker\u4F1A\u5411\u96C6\u7FA4\u4E2D\u7684\u6BCF\u4E00\u53F0NameServer\u6CE8\u518C\u81EA\u5DF1\u7684\u8DEF\u7531\u4FE1\u606F\u3002\r\n\u25A0 NameServer\uFF1A\u662F\u4E00\u4E2A\u5F88\u7B80\u5355\u7684Topic\u8DEF\u7531\u6CE8\u518C\u4E2D\u5FC3\uFF0C\u652F\u6301Broker\u7684\u52A8\u6001\u6CE8\u518C\u548C\u53D1\u73B0\uFF0C\u4FDD\u5B58Topic\u548CBorker\u4E4B\u95F4\u7684\u5173\u7CFB\u3002\u901A\u5E38\u4E5F\u662F\u96C6\u7FA4\u90E8\u7F72\uFF0C\u4F46\u662F\u5404NameServer\u4E4B\u95F4\u4E0D\u4F1A\u4E92\u76F8\u901A\u4FE1\uFF0C\u5404NameServer\u90FD\u6709\u5B8C\u6574\u7684\u8DEF\u7531\u4FE1\u606F\uFF0C\u5373\u65E0\u72B6\u6001\u3002\r\n\u25A0 topic\uFF08\u4E3B\u9898\uFF09\uFF1A\u53EF\u4EE5\u7406\u89E3\u4E3A\u4E00\u4E2A\u6D88\u606F\u7684\u96C6\u5408\u7684\u540D\u5B57\uFF0C\u751F\u4EA7\u8005\u5728\u53D1\u9001\u6D88\u606F\u7684\u65F6\u5019\u9700\u8981\u6307\u5B9A\u53D1\u5230\u54EA\u4E2Atopic\u4E0B\uFF0C\u6D88\u8D39\u8005\u6D88\u8D39\u6D88\u606F\u7684\u65F6\u5019\u4E5F\u9700\u8981\u77E5\u9053\u81EA\u5DF1\u6D88\u8D39\u7684\u662F\u54EA\u4E9Btopic\u5E95\u4E0B\u7684\u6D88\u606F\u3002\r\n\u25A0 Tag\uFF08\u5B50\u4E3B\u9898\uFF09\uFF1A\u6BD4topic\u4F4E\u4E00\u7EA7\uFF0C\u53EF\u4EE5\u7528\u6765\u533A\u5206\u540C\u4E00topic\u4E0B\u7684\u4E0D\u540C\u4E1A\u52A1\u7C7B\u578B\u7684\u6D88\u606F\uFF0C\u53D1\u9001\u6D88\u606F\u7684\u65F6\u5019\u4E5F\u9700\u8981\u6307\u5B9A\u3002\n"})}),"\n",(0,a.jsx)(r.h5,{id:"\u5DE5\u4F5C\u6D41\u7A0B",children:"\u5DE5\u4F5C\u6D41\u7A0B"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-sql",children:"1. Broker\u542F\u52A8\u7684\u65F6\u5019\uFF0C\u4F1A\u5F80\u6BCF\u53F0NameServer\uFF08\u56E0\u4E3ANameServer\u4E4B\u95F4\u4E0D\u901A\u4FE1\uFF0C\u6240\u4EE5\u6BCF\u53F0\u90FD\u5F97\u6CE8\u518C\uFF09\u6CE8\u518C\u81EA\u5DF1\u7684\u4FE1\u606F\uFF0C\u8FD9\u4E9B\u4FE1\u606F\u5305\u62EC\u81EA\u5DF1\u7684ip\u548C\u7AEF\u53E3\u53F7\uFF0C\u81EA\u5DF1\u8FD9\u53F0Broker\u6709\u54EA\u4E9Btopic\u7B49\u4FE1\u606F\u3002\r\n2. Producer\u5728\u542F\u52A8\u4E4B\u540E\u4F1A\u8DDF\u4F1ANameServer\u5EFA\u7ACB\u8FDE\u63A5\uFF0C\u5B9A\u671F\u4ECENameServer\u4E2D\u83B7\u53D6Broker\u7684\u4FE1\u606F\uFF0C\u5F53\u53D1\u9001\u6D88\u606F\u7684\u65F6\u5019\uFF0C\u4F1A\u6839\u636E\u6D88\u606F\u9700\u8981\u53D1\u9001\u5230\u54EA\u4E2Atopic\u53BB\u627E\u5BF9\u5E94\u7684Broker\u5730\u5740\uFF0C\u5982\u679C\u6709\u7684\u8BDD\uFF0C\u5C31\u5411\u8FD9\u53F0Broker\u53D1\u9001\u8BF7\u6C42\uFF1B\u6CA1\u6709\u627E\u5230\u7684\u8BDD\uFF0C\u5C31\u770B\u6839\u636E\u662F\u5426\u5141\u8BB8\u81EA\u52A8\u521B\u5EFAtopic\u6765\u51B3\u5B9A\u662F\u5426\u53D1\u9001\u6D88\u606F\u3002\r\n3. Broker\u5728\u63A5\u6536\u5230Producer\u7684\u6D88\u606F\u4E4B\u540E\uFF0C\u4F1A\u5C06\u6D88\u606F\u5B58\u8D77\u6765\uFF0C\u6301\u4E45\u5316\uFF0C\u5982\u679C\u6709\u4ECE\u8282\u70B9\u7684\u8BDD\uFF0C\u4E5F\u4F1A\u4E3B\u52A8\u540C\u6B65\u7ED9\u4ECE\u8282\u70B9\uFF0C\u5B9E\u73B0\u6570\u636E\u7684\u5907\u4EFD\r\n4. Consumer\u542F\u52A8\u4E4B\u540E\u4E5F\u4F1A\u8DDF\u4F1ANameServer\u5EFA\u7ACB\u8FDE\u63A5\uFF0C\u5B9A\u671F\u4ECENameServer\u4E2D\u83B7\u53D6Broker\u548C\u5BF9\u5E94topic\u7684\u4FE1\u606F\uFF0C\u7136\u540E\u6839\u636E\u81EA\u5DF1\u9700\u8981\u8BA2\u9605\u7684topic\u4FE1\u606F\u627E\u5230\u5BF9\u5E94\u7684Broker\u7684\u5730\u5740\uFF0C\u7136\u540E\u8DDFBroker\u5EFA\u7ACB\u8FDE\u63A5\uFF0C\u83B7\u53D6\u6D88\u606F\uFF0C\u8FDB\u884C\u6D88\u8D39\n"})}),"\n","\n",(0,a.jsx)("img",{src:l,alt:"MQ-\u5DE5\u4F5C\u6D41\u7A0B",width:"50%"}),"\n",(0,a.jsx)(r.h5,{id:"rocketmq\u542F\u52A8",children:"RocketMQ\u542F\u52A8"}),"\n",(0,a.jsx)(r.h6,{id:"linux\u73AF\u5883\u642D\u5EFA",children:"Linux\u73AF\u5883\u642D\u5EFA"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-sql",children:'\u901A\u8FC7\u4E0A\u9762\u5206\u6790\uFF0C\u6211\u4EEC\u77E5\u9053\uFF0C\u5728RocketMQ\u4E2D\u6709NameServer\u3001Broker\u3001\u751F\u4EA7\u8005\u3001\u6D88\u8D39\u8005\u56DB\u79CD\u89D2\u8272\u3002\u800C\u751F\u4EA7\u8005\u548C\u6D88\u8D39\u8005\u5B9E\u9645\u4E0A\u5C31\u662F\u4E1A\u52A1\u7CFB\u7EDF\uFF0C\u6240\u4EE5\u8FD9\u91CC\u4E0D\u9700\u8981\u642D\u5EFA\uFF0C\u771F\u6B63\u8981\u642D\u5EFA\u7684\u5C31\u662FNameServer\u548CBroker\uFF0C\u4F46\u662F\u4E3A\u4E86\u65B9\u4FBFRocketMQ\u6570\u636E\u7684\u53EF\u89C6\u5316\uFF0C\u8FD9\u91CC\u6211\u591A\u642D\u5EFA\u4E00\u5957\u53EF\u89C6\u5316\u7684\u670D\u52A1\u3002\r\n\r\n-- \u642D\u5EFANameServer\r\n-- \u4FEE\u6539jvm\u53C2\u6570\r\nvim bin/runserver.sh\r\n-server -Xms512m -Xmx512m -Xmn256m -XX:MetaspaceSize=32m -XX:MaxMetaspaceSize=50m\r\n-- \u542F\u52A8NameServer\r\n-- \u672C\u5730\u90E8\u7F72(linux)\r\nnohup sh bin/mqnamesrv &							  \r\n-- \u5916\u7F51\u90E8\u7F72\r\nnohup sh bin/mqnamesrv  -n "192.168.33.100:9876" &\r\n-- \u67E5\u770BNameServer\u65E5\u5FD7\r\ntail -f ~/logs/rocketmqlogs/namesrv.log\r\n\r\n-- \u642D\u5EFABroker\r\n-- \u4FEE\u6539jvm\u53C2\u6570\r\nvim bin/runbroker.sh\r\n-server -Xms1g -Xmx1g -Xmn512m\r\n-- \u4FEE\u6539Broker\u914D\u7F6E\u6587\u4EF6broker.conf\r\nvim conf/broker.conf\r\nnamesrvAddr = localhost:9876\r\nbrokerIP1 = 192.168.200.143\r\nbrokerIP2 = 192.168.200.143\r\n-- \u542F\u52A8Broker\r\n-- \u672C\u5730\u90E8\u7F72(linux)\r\nnohup sh bin/mqbroker -c conf/broker.conf &				\u542F\u52A8Broker\r\n-- \u5916\u7F51\u90E8\u7F72\r\nnohup sh bin/mqbroker -n localhost:9876 -c conf/broker.conf & \r\n-- \u67E5\u770B\u65E5\u5FD7\r\ntail -f ~/logs/rocketmqlogs/broker.log\r\n\r\n-- \u642D\u5EFA\u53EF\u89C6\u5316\u63A7\u5236\u53F0\r\n-- \u542F\u52A8\u53EF\u89C6\u5316\r\nnohup java -jar -server -Xms256m -Xmx256m -Drocketmq.config.namesrvAddr=localhost:9876 -Dserver.port=8088 rocketmq-console-ng-1.0.1.jar &\r\n-- \u67E5\u770B\u65E5\u5FD7\r\ntail -f ~/logs/consolelogs/rocketmq-console.log\r\n\r\n-- RocketMQ\u5173\u95ED(linux\u7AEF)\r\n-- \u5173\u95EDNameServer\r\nsh mqshutdown namesrv			\r\n-- \u5173\u95EDBroker\r\nsh mqshutdown broker     		\n'})}),"\n",(0,a.jsx)(r.h6,{id:"window\u73AF\u5883\u642D\u5EFA",children:"Window\u73AF\u5883\u642D\u5EFA"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-sql",children:"-- \u4E0B\u8F7D\u5305\r\nhttps://rocketmq.apache.org/release_notes/release-notes-4.9.2/\r\n-- \u914D\u7F6E\u73AF\u5883\u53D8\u91CF\r\nROCKETMQ_HOME = D:\\rocketmq-4.9.2\r\n-- \u542F\u52A8NameServe\r\nstart mqnamesrv.cmd\r\n-- \u542F\u52A8broker\r\nstart mqbroker.cmd -n 127.0.0.1:9876 autoCreateTopicEnable=true\r\n-- \u4E0B\u8F7D\u63A7\u5236\u53F0\u4EE3\u7801\r\nhttps://github.com/apache/rocketmq-dashboard\n"})}),"\n",(0,a.jsx)(r.h5,{id:"springboot\u96C6\u6210",children:"Springboot\u96C6\u6210"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-xml",children:"<!--rocketMQ-->\r\n<dependency>\r\n    <groupId>org.apache.rocketmq</groupId>\r\n    <artifactId>rocketmq-spring-boot-starter</artifactId>\r\n    <version>2.2.3</version>\r\n</dependency>\n"})}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'@Resource\r\nprivate RocketMQTemplate rocketMqTemplate;\r\npublic void send() {\r\n    rocketMqTemplate.convertAndSend("hmhTopic", "hmh\u7684java\u65E5\u8BB0");\r\n}\r\n\r\n@Component\r\n@RocketMQMessageListener(consumerGroup = "hmhConsumer", topic = "hmhTopic")\r\npublic class SanYouTopicListener implements RocketMQListener<String> {\r\n    @Override\r\n    public void onMessage(String msg) {\r\n        System.out.println("\u5904\u7406\u6D88\u606F:" + msg);\r\n    }\r\n}\n'})}),"\n",(0,a.jsx)(r.h5,{id:"\u4E09\u79CD\u53D1\u9001\u6D88\u606F\u65B9\u5F0F",children:"\u4E09\u79CD\u53D1\u9001\u6D88\u606F\u65B9\u5F0F"}),"\n",(0,a.jsxs)(r.table,{children:[(0,a.jsx)(r.thead,{children:(0,a.jsxs)(r.tr,{children:[(0,a.jsx)(r.th,{children:"\u53D1\u9001\u65B9\u5F0F"}),(0,a.jsx)(r.th,{children:"\u53D1\u9001TPS"}),(0,a.jsx)(r.th,{children:"\u53D1\u9001\u7ED3\u679C\u53CD\u9988"}),(0,a.jsx)(r.th,{children:"\u53EF\u9760\u6027"})]})}),(0,a.jsxs)(r.tbody,{children:[(0,a.jsxs)(r.tr,{children:[(0,a.jsx)(r.td,{children:"\u540C\u6B65\u53D1\u9001"}),(0,a.jsx)(r.td,{children:"\u5FEB"}),(0,a.jsx)(r.td,{children:"\u6709"}),(0,a.jsx)(r.td,{children:"\u4E0D\u4E22\u5931"})]}),(0,a.jsxs)(r.tr,{children:[(0,a.jsx)(r.td,{children:"\u5F02\u6B65\u53D1\u9001"}),(0,a.jsx)(r.td,{children:"\u5FEB"}),(0,a.jsx)(r.td,{children:"\u6709"}),(0,a.jsx)(r.td,{children:"\u4E0D\u4E22\u5931"})]}),(0,a.jsxs)(r.tr,{children:[(0,a.jsx)(r.td,{children:"\u5355\u5411\u53D1\u9001"}),(0,a.jsx)(r.td,{children:"\u6700\u5FEB"}),(0,a.jsx)(r.td,{children:"\u65E0"}),(0,a.jsx)(r.td,{children:"\u53EF\u80FD\u4E22\u5931"})]})]})]}),"\n",(0,a.jsx)(r.h6,{id:"\u540C\u6B65\u53D1\u9001",children:"\u540C\u6B65\u53D1\u9001"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'// Instantiate with a producer group name.\r\nDefaultMQProducer producer = new DefaultMQProducer("please_rename_unique_group_name");\r\n// Specify name server addresses.\r\nproducer.setNamesrvAddr("192.168.33.100:9876");\r\n// Launch the instance.\r\nproducer.start();\r\n// Call send message to deliver message to one of brokers.\r\nSendResult sendResult = producer.send(msg);\r\nSystem.out.printf("%s%n", sendResult);\r\n// Shut down once the producer instance is not longer in use.\r\nproducer.shutdown();\n'})}),"\n",(0,a.jsx)(r.h6,{id:"\u5F02\u6B65\u53D1\u9001",children:"\u5F02\u6B65\u53D1\u9001"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'//Instantiate with a producer group name.\r\nDefaultMQProducer producer = new DefaultMQProducer("example_group_name");\r\n//Launch the instance.\r\nproducer.start();\r\nproducer.setRetryTimesWhenSendAsyncFailed(0);\r\nproducer.send(msg, new SendCallback() {\r\n    public void onSuccess(SendResult sendResult) {\r\n        System.out.printf("%-10d OK %s %n", index,sendResult.getMsgId());\r\n    }\r\n    public void onException(Throwable e) {\r\n        System.out.printf("%-10d Exception %s %n", index, e);\r\n        e.printStackTrace();\r\n    }\r\n});\r\n//Shut down once the producer instance is not longer in use.\r\nproducer.shutdown();\n'})}),"\n",(0,a.jsx)(r.h6,{id:"\u5355\u5411\u53D1\u9001",children:"\u5355\u5411\u53D1\u9001"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-java",children:'//Instantiate with a producer group name.\r\nDefaultMQProducer producer = new DefaultMQProducer("example_group_name");\r\n//Launch the instance.\r\nproducer.start();\r\n//Call send message to deliver message to one of brokers.\r\nproducer.sendOneway(msg);\r\n//Shut down once the producer instance is not longer in use.\r\nproducer.shutdown();\n'})}),"\n",(0,a.jsx)(r.h4,{id:"rabbitmq",children:"RabbitMQ"}),"\n",(0,a.jsx)(r.h5,{id:"rabbitmq\u542F\u52A8",children:"RabbitMQ\u542F\u52A8"}),"\n",(0,a.jsx)(r.h6,{id:"windows\u73AF\u5883\u642D\u5EFA",children:"Windows\u73AF\u5883\u642D\u5EFA"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-sql",children:"-- \u4E0B\u8F7DErlang\u7684OPT 25\uFF0C\u4E0B\u8F7D\u5730\u5740\uFF1A\r\nhttps://erlang.org/download/otp_versions_tree.html\r\n\r\n-- \u4E0B\u8F7DRabbitMQ\u76843.10.5\u7248\u672C\uFF0C\u4E0B\u8F7D\u5730\u5740\uFF1A\r\nhttps://github.com/rabbitmq/rabbitmq-server/releases\r\n\r\n-- \u542F\u52A8\u7BA1\u7406\u529F\u80FD\uFF1A\r\nrabbitmq-plugins enable rabbitmq_management\r\n\r\n-- \u8BBF\u95EE\u5730\u5740\u67E5\u770B\u662F\u5426\u5B89\u88C5\u6210\u529F\uFF1Aguest:guest\r\nhttp://localhost:15672/\n"})}),"\n",(0,a.jsx)(r.h6,{id:"linux\u73AF\u5883\u642D\u5EFA-1",children:"Linux\u73AF\u5883\u642D\u5EFA"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-sql",children:"-- \u5B89\u88C5Erlang\r\n-- \u51C6\u5907\u5DE5\u4F5C\uFF0C\u5B89\u88C5wget\r\nyum install -y wget\r\n-- \u5B89\u88C5\u4F9D\u8D56\u9879\r\nyum install -y epel-release\r\n-- \u914D\u7F6E\u5B89\u88C5\u6E90\r\nwget https://packages.erlang-solutions.com/erlang-solutions-1.0-1.noarch.rpm\r\nrpm -Uvh erlang-solutions-1.0-1.noarch.rpm\r\n-- \u5B89\u88C5\r\nyum install -y erlang\r\n-- \u9A8C\u8BC1\u662F\u5426\u5B89\u88C5\u6210\u529F\r\nerl -version\r\n\r\n-- \u5B89\u88C5RabbitMQ\r\n-- \u914D\u7F6E\u5B89\u88C5\u6E90\r\nwget https://github.com/rabbitmq/rabbitmq-server/releases/download/v3.7.9/rabbitmq-server-3.7.9-1.el7.noarch.rpm\r\nrpm --import https://www.rabbitmq.com/rabbitmq-signing-key-public.asc\r\n-- \u5B89\u88C5\r\nyum install rabbitmq-server-3.7.9-1.el7.noarch.rpm\r\n-- \u542F\u52A8\r\nsudo /sbin/service rabbitmq-server start\r\n-- \u67E5\u770B\u72B6\u6001\r\nsudo /sbin/service rabbitmq-server status\r\n\r\n-- \u5B89\u88C5\u7BA1\u7406\u754C\u9762\r\n-- \u5B89\u88C5web\u63D2\u4EF6\r\nsudo rabbitmq-plugins enable rabbitmq_management\r\n-- \u5F00\u653E\u8FDC\u7A0B\u8BBF\u95EE\u6743\u9650(\u5C06loopback_users\u5BF9\u5E94\u7684\u503C\uFF0C\u6539\u4E3A[]\u5373\u53EF)\r\nvim /usr/lib/rabbitmq/lib/rabbitmq_server-3.7.9/ebin/rabbit.app\n"})}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-sql",children:"-- \u914D\u7F6ERabbitMQ\r\n1\u3001\u521B\u5EFA\u5E10\u53F7\u5E76\u8BBE\u7F6E\u5176\u89D2\u8272\u4E3A\u7BA1\u7406\u5458\uFF08Admin ==> Users\uFF09\r\n2\u3001\u521B\u5EFA\u4E00\u4E2A\u65B0\u7684\u865A\u62DFhost\uFF08Admin ==> Virtual Hosts\uFF09\r\n3\u3001\u70B9\u51FB\u7528\u6237\u8FDB\u5165\u7528\u6237\u914D\u7F6E\u9875\u9762\r\n4\u3001\u7ED9\u7528\u6237\u914D\u7F6E\u8BE5\u865A\u62DFhost\u7684\u6743\u9650\uFF08Set Permission ==> Virtual Hosts\uFF09\n"})}),"\n",(0,a.jsx)(r.h5,{id:"springboot\u96C6\u6210-1",children:"Springboot\u96C6\u6210"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-xml",children:"<!--Spring AMQP\u4F9D\u8D56-->\r\n<dependency>\r\n    <groupId>org.springframework.boot</groupId>\r\n    <artifactId>spring-boot-starter-amqp</artifactId>\r\n</dependency>\n"})}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-yaml",children:"spring:\r\n  rabbitmq:\r\n    host: localhost\r\n    port: 5672\r\n    virtual-host: /mall\r\n    username: mall\r\n    password: mall\r\n    publisher-confirm-type: correlated\r\n    # publisher-confirms: true #\u6D88\u606F\u53D1\u9001\u5230\u4EA4\u6362\u5668\u786E\u8BA4\r\n    publisher-returns: true #\u6D88\u606F\u53D1\u9001\u5230\u961F\u5217\u786E\u8BA4\n"})}),"\n",(0,a.jsx)(r.h5,{id:"7\u79CD\u6D88\u606F\u6A21\u5F0F",children:"7\u79CD\u6D88\u606F\u6A21\u5F0F"}),"\n",(0,a.jsx)(r.h6,{id:"\u7B80\u5355\u6A21\u5F0F",children:"\u7B80\u5355\u6A21\u5F0F"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-sql",children:"-- \u7B80\u5355\u6A21\u5F0F\u662F\u6700\u7B80\u5355\u7684\u6D88\u606F\u6A21\u5F0F\uFF0C\u5B83\u5305\u542B\u4E00\u4E2A\u751F\u4EA7\u8005\u3001\u4E00\u4E2A\u6D88\u8D39\u8005\u548C\u4E00\u4E2A\u961F\u5217\u3002\u751F\u4EA7\u8005\u5411\u961F\u5217\u91CC\u53D1\u9001\u6D88\u606F\uFF0C\u6D88\u8D39\u8005\u4ECE\u961F\u5217\u4E2D\u83B7\u53D6\u6D88\u606F\u5E76\u6D88\u8D39\r\n\r\n\u751F\u4EA7\u8005 ---  \u961F\u5217 ---  \u6D88\u8D39\u8005\n"})}),"\n",(0,a.jsx)(r.h6,{id:"\u5DE5\u4F5C\u6A21\u5F0Fwork-queues",children:"\u5DE5\u4F5C\u6A21\u5F0F(Work Queues)"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-sql",children:"-- \u5DE5\u4F5C\u6A21\u5F0F\u662F\u6307\u5411\u591A\u4E2A\u4E92\u76F8\u7ADE\u4E89\u7684\u6D88\u8D39\u8005\u53D1\u9001\u6D88\u606F\u7684\u6A21\u5F0F\uFF0C\u5B83\u5305\u542B\u4E00\u4E2A\u751F\u4EA7\u8005\u3001\u4E24\u4E2A\u6D88\u8D39\u8005\u548C\u4E00\u4E2A\u961F\u5217\u3002\u4E24\u4E2A\u6D88\u8D39\u8005\u540C\u65F6\u7ED1\u5B9A\u5230\u4E00\u4E2A\u961F\u5217\u4E0A\u53BB\uFF0C\u5F53\u6D88\u8D39\u8005\u83B7\u53D6\u6D88\u606F\u5904\u7406\u8017\u65F6\u4EFB\u52A1\u65F6\uFF0C\u7A7A\u95F2\u7684\u6D88\u8D39\u8005\u4ECE\u961F\u5217\u4E2D\u83B7\u53D6\u5E76\u6D88\u8D39\u6D88\u606F\r\n-- \u7ADE\u4E89\u6D88\u8D39\r\n                    / \u6D88\u8D39\u80051\r\n\u751F\u4EA7\u8005 ---  \u961F\u5217 --- \r\n			       \\ \u6D88\u8D39\u80052\n"})}),"\n",(0,a.jsx)(r.h6,{id:"\u53D1\u5E03\u8BA2\u9605\u6A21\u5F0Fpublishsubscribe",children:"\u53D1\u5E03/\u8BA2\u9605\u6A21\u5F0F(Publish/Subscribe)"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-sql",children:"-- \u53D1\u5E03/\u8BA2\u9605\u6A21\u5F0F\u662F\u6307\u540C\u65F6\u5411\u591A\u4E2A\u6D88\u8D39\u8005\u53D1\u9001\u6D88\u606F\u7684\u6A21\u5F0F\uFF08\u7C7B\u4F3C\u5E7F\u64AD\u7684\u5F62\u5F0F\uFF09\uFF0C\u5B83\u5305\u542B\u4E00\u4E2A\u751F\u4EA7\u8005\u3001\u4E24\u4E2A\u6D88\u8D39\u8005\u3001\u4E24\u4E2A\u961F\u5217\u548C\u4E00\u4E2A\u4EA4\u6362\u673A\u3002\u4E24\u4E2A\u6D88\u8D39\u8005\u540C\u65F6\u7ED1\u5B9A\u5230\u4E0D\u540C\u7684\u961F\u5217\u4E0A\u53BB\uFF0C\u4E24\u4E2A\u961F\u5217\u7ED1\u5B9A\u5230\u4EA4\u6362\u673A\u4E0A\u53BB\uFF0C\u751F\u4EA7\u8005\u901A\u8FC7\u53D1\u9001\u6D88\u606F\u5230\u4EA4\u6362\u673A\uFF0C\u6240\u6709\u6D88\u8D39\u8005\u63A5\u6536\u5E76\u6D88\u8D39\u6D88\u606F\r\n                     / \u961F\u52171 --- \u6D88\u8D39\u80051\r\n\u751F\u4EA7\u8005 --- \u4EA4\u6362\u673A ---   \r\n		            \\ \u961F\u52172 --- \u6D88\u8D39\u80052\n"})}),"\n",(0,a.jsx)(r.h6,{id:"\u8DEF\u7531\u6A21\u5F0Frouting",children:"\u8DEF\u7531\u6A21\u5F0F(Routing)"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-sql",children:"-- \u8DEF\u7531\u6A21\u5F0F\u662F\u53EF\u4EE5\u6839\u636E\u8DEF\u7531\u952E\u9009\u62E9\u6027\u7ED9\u591A\u4E2A\u6D88\u8D39\u8005\u53D1\u9001\u6D88\u606F\u7684\u6A21\u5F0F\uFF0C\u5B83\u5305\u542B\u4E00\u4E2A\u751F\u4EA7\u8005\u3001\u4E24\u4E2A\u6D88\u8D39\u8005\u3001\u4E24\u4E2A\u961F\u5217\u548C\u4E00\u4E2A\u4EA4\u6362\u673A\u3002\u4E24\u4E2A\u6D88\u8D39\u8005\u540C\u65F6\u7ED1\u5B9A\u5230\u4E0D\u540C\u7684\u961F\u5217\u4E0A\u53BB\uFF0C\u4E24\u4E2A\u961F\u5217\u901A\u8FC7\u8DEF\u7531\u952E\u7ED1\u5B9A\u5230\u4EA4\u6362\u673A\u4E0A\u53BB\uFF0C\u751F\u4EA7\u8005\u53D1\u9001\u6D88\u606F\u5230\u4EA4\u6362\u673A\uFF0C\u4EA4\u6362\u673A\u901A\u8FC7\u8DEF\u7531\u952E\u8F6C\u53D1\u5230\u4E0D\u540C\u961F\u5217\uFF0C\u961F\u5217\u7ED1\u5B9A\u7684\u6D88\u8D39\u8005\u63A5\u6536\u5E76\u6D88\u8D39\u6D88\u606F\r\n                     / \u961F\u52171 --- \u6D88\u8D39\u80051\r\n\u751F\u4EA7\u8005 --- \u4EA4\u6362\u673A ---   \r\n		            \\ \u961F\u52172 --- \u6D88\u8D39\u80052\n"})}),"\n",(0,a.jsx)(r.h6,{id:"\u901A\u914D\u7B26\u6A21\u5F0Ftopics",children:"\u901A\u914D\u7B26\u6A21\u5F0F(Topics)"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-sql",children:"-- \u901A\u914D\u7B26\u6A21\u5F0F\u662F\u53EF\u4EE5\u6839\u636E\u8DEF\u7531\u952E\u5339\u914D\u89C4\u5219\u9009\u62E9\u6027\u7ED9\u591A\u4E2A\u6D88\u8D39\u8005\u53D1\u9001\u6D88\u606F\u7684\u6A21\u5F0F\uFF0C\u5B83\u5305\u542B\u4E00\u4E2A\u751F\u4EA7\u8005\u3001\u4E24\u4E2A\u6D88\u8D39\u8005\u3001\u4E24\u4E2A\u961F\u5217\u548C\u4E00\u4E2A\u4EA4\u6362\u673A\u3002\u4E24\u4E2A\u6D88\u8D39\u8005\u540C\u65F6\u7ED1\u5B9A\u5230\u4E0D\u540C\u7684\u961F\u5217\u4E0A\u53BB\uFF0C\u4E24\u4E2A\u961F\u5217\u901A\u8FC7\u8DEF\u7531\u952E\u5339\u914D\u89C4\u5219\u7ED1\u5B9A\u5230\u4EA4\u6362\u673A\u4E0A\u53BB\uFF0C\u751F\u4EA7\u8005\u53D1\u9001\u6D88\u606F\u5230\u4EA4\u6362\u673A\uFF0C\u4EA4\u6362\u673A\u901A\u8FC7\u8DEF\u7531\u952E\u5339\u914D\u89C4\u5219\u8F6C\u53D1\u5230\u4E0D\u540C\u961F\u5217\uFF0C\u961F\u5217\u7ED1\u5B9A\u7684\u6D88\u8D39\u8005\u63A5\u6536\u5E76\u6D88\u8D39\u6D88\u606F\r\n                     / \u961F\u52171 --- \u6D88\u8D39\u80051\r\n\u751F\u4EA7\u8005 --- \u4EA4\u6362\u673A ---   \r\n		            \\ \u961F\u52172 --- \u6D88\u8D39\u80052\r\n-- \u7279\u6B8A\u5339\u914D\u7B26\u53F7\r\n*\uFF1A\u53EA\u80FD\u5339\u914D\u4E00\u4E2A\u5355\u8BCD\uFF1B\r\n#\uFF1A\u53EF\u4EE5\u5339\u914D\u96F6\u4E2A\u6216\u591A\u4E2A\u5355\u8BCD\n"})}),"\n",(0,a.jsx)(r.h6,{id:"rpc",children:"RPC"}),"\n",(0,a.jsx)(r.h6,{id:"publisher-confirms",children:"Publisher Confirms"}),"\n",(0,a.jsx)(r.h4,{id:"mqtt",children:"MQTT"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-sql",children:'-- \u65B0\u7248\u89C4\u5219\r\nSELECT * FROM "l3/s/n/#"WHERE payload.method in (\'facePicRegResult\')\r\n\r\n-- \u65E7\u7248\u89C4\u5219\r\nSELECT * FROM "message.publish" WHERE topic =~ \'l3/s/n/#\' and payload.method in (\'facePicRegResult\')\r\n\r\n-- \u9057\u5631\r\n\u8FDE\u63A5mqtt\u914D\u7F6E\u65F6\u8BBE\u7F6E\uFF1Aoptions.setWill("willTopic", "offline", 2, false);\r\n\u76D1\u542C\u9057\u5631\u7684\u670D\u52A1\u5668\u8BA2\u9605topic\uFF1AwillTopic\n'})})]})}function u(e={}){let{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,a.jsx)(r,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},8453:(e,r,n)=>{n.d(r,{R:()=>l,x:()=>t});var s=n(6540);let a={},i=s.createContext(a);function l(e){let r=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function t(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),s.createElement(i.Provider,{value:r},e.children)}}}]);
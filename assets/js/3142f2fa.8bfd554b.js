"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[2710],{725:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>A,contentTitle:()=>M,default:()=>q,frontMatter:()=>S,metadata:()=>i,toc:()=>v});let i=JSON.parse('{"id":"knowledge/\u4E3A\u4EC0\u4E48\u4E0D\u63A8\u8350\u4F7F\u7528MyBatis\u4E8C\u7EA7\u7F13\u5B58","title":"\u4E3A\u4EC0\u4E48\u4E0D\u63A8\u8350\u4F7F\u7528MyBatis\u4E8C\u7EA7\u7F13\u5B58","description":"\u6765\u6E90\uFF1Ablog.csdn.net/xujingyiss/article/details/123481116","source":"@site/docs/knowledge/\u4E3A\u4EC0\u4E48\u4E0D\u63A8\u8350\u4F7F\u7528MyBatis\u4E8C\u7EA7\u7F13\u5B58.md","sourceDirName":"knowledge","slug":"/knowledge/\u4E3A\u4EC0\u4E48\u4E0D\u63A8\u8350\u4F7F\u7528MyBatis\u4E8C\u7EA7\u7F13\u5B58","permalink":"/mhuahe.com/docs/knowledge/\u4E3A\u4EC0\u4E48\u4E0D\u63A8\u8350\u4F7F\u7528MyBatis\u4E8C\u7EA7\u7F13\u5B58","draft":false,"unlisted":false,"editUrl":"https://github.dev/mhuahe/mhuahe.com/blob/master-ts/docs/knowledge/\u4E3A\u4EC0\u4E48\u4E0D\u63A8\u8350\u4F7F\u7528MyBatis\u4E8C\u7EA7\u7F13\u5B58.md","tags":[],"version":"current","lastUpdatedBy":"mhuahe","lastUpdatedAt":1729247191000,"sidebarPosition":2,"frontMatter":{"draft":false,"sidebar_position":2},"sidebar":"knowledge","previous":{"title":"\u4EC0\u4E48\u662FSaaS","permalink":"/mhuahe.com/docs/knowledge/\u4EC0\u4E48\u662FSaaS"}}');var r=s(4848),l=s(8453),c=s(9276);let d=s.p+"assets/images/Mybatis-Cache-1-da6be73adb85ff979569a23a168e06ed.webp",a=s.p+"assets/images/Mybatis-Cache-2-9e8ab88bbb1a1d1dae3ce468c4949216.webp",t=s.p+"assets/images/Mybatis-Cache-3-88c6a79ce39edf39194cfcf2a2a8e057.webp",h=s.p+"assets/images/Mybatis-Cache-4-6912ba580cbad66d5ffed818ccabad7c.webp",x=s.p+"assets/images/Mybatis-Cache-5-b5fe9930928b9a406fbfd1f26e59158e.webp",o=s.p+"assets/images/Mybatis-Cache-6-0e920761d97366b2964929cbc6f9686d.webp",p=s.p+"assets/images/Mybatis-Cache-7-43ebebf51bf49558c6e9cbf934526349.webp",j=s.p+"assets/images/Mybatis-Cache-8-d4740d4dae58db9434df0b68c2b33f22.webp",m=s.p+"assets/images/Mybatis-Cache-11-87626fd453724fc7fbaa5086e805ede6.webp",g=s.p+"assets/images/Mybatis-Cache-12-9ee025fd69647d4cead38a92d26c227a.webp",b=s.p+"assets/images/Mybatis-Cache-13-42c352e3d693ccc39f029e29d060f3fa.webp",y=s.p+"assets/images/Mybatis-Cache-14-d0e6c1cf40ae4218a93d721cfd00d055.webp",u=s.p+"assets/images/Mybatis-Cache-15-ad81968055130255f95b8dced5548a23.webp",f=s.p+"assets/images/Mybatis-Cache-16-d54342853980cb691dd812db5dc2cf81.webp",S={draft:!1,sidebar_position:2},M="\u4E3A\u4EC0\u4E48\u4E0D\u63A8\u8350\u4F7F\u7528MyBatis\u4E8C\u7EA7\u7F13\u5B58",A={},v=[{value:"<strong>\u4E00\u7EA7\u7F13\u5B58</strong>",id:"\u4E00\u7EA7\u7F13\u5B58",level:2},{value:"<strong>\u5E94\u7528\u573A\u666F</strong>",id:"\u5E94\u7528\u573A\u666F",level:3},{value:"<strong>\u751F\u6548\u7684\u6761\u4EF6</strong>",id:"\u751F\u6548\u7684\u6761\u4EF6",level:3},{value:"<strong>\u4E0Espringboot\u96C6\u6210\u65F6\u4E00\u7EA7\u7F13\u5B58\u4E0D\u751F\u6548\u539F\u56E0</strong>",id:"\u4E0Espringboot\u96C6\u6210\u65F6\u4E00\u7EA7\u7F13\u5B58\u4E0D\u751F\u6548\u539F\u56E0",level:3},{value:"<strong>\u89E3\u51B3\u4E0Espringboot\u96C6\u6210\u65F6\u4E00\u7EA7\u7F13\u5B58\u4E0D\u751F\u6548\u95EE\u9898</strong>",id:"\u89E3\u51B3\u4E0Espringboot\u96C6\u6210\u65F6\u4E00\u7EA7\u7F13\u5B58\u4E0D\u751F\u6548\u95EE\u9898",level:3},{value:"<strong>\u4E8C\u7EA7\u7F13\u5B58</strong>",id:"\u4E8C\u7EA7\u7F13\u5B58",level:2},{value:"<strong>\u5E94\u7528\u573A\u666F</strong>",id:"\u5E94\u7528\u573A\u666F-1",level:3},{value:"<strong>\u5F00\u542F\u7684\u65B9\u6CD5</strong>",id:"\u5F00\u542F\u7684\u65B9\u6CD5",level:3},{value:"<strong>\u751F\u6548\u7684\u6761\u4EF6</strong>",id:"\u751F\u6548\u7684\u6761\u4EF6-1",level:3},{value:"<strong>\u7F13\u5B58\u6E05\u9664\u6761\u4EF6</strong>",id:"\u7F13\u5B58\u6E05\u9664\u6761\u4EF6",level:3},{value:"<strong>\u6E90\u7801\u4E2D\u662F\u5982\u4F55\u586B\u5145\u4E8C\u7EA7\u7F13\u5B58\u7684\uFF1F</strong>",id:"\u6E90\u7801\u4E2D\u662F\u5982\u4F55\u586B\u5145\u4E8C\u7EA7\u7F13\u5B58\u7684",level:3},{value:"<strong>\u67E5\u8BE2\u65F6\u5982\u4F55\u4F7F\u7528\u4E8C\u7EA7\u7F13\u5B58\uFF1F</strong>",id:"\u67E5\u8BE2\u65F6\u5982\u4F55\u4F7F\u7528\u4E8C\u7EA7\u7F13\u5B58",level:3},{value:"<strong>\u4E3A\u4EC0\u4E48mybatis\u9ED8\u8BA4\u4E0D\u5F00\u542F\u4E8C\u7EA7\u7F13\u5B58\uFF1F</strong>",id:"\u4E3A\u4EC0\u4E48mybatis\u9ED8\u8BA4\u4E0D\u5F00\u542F\u4E8C\u7EA7\u7F13\u5B58",level:3}];function C(e){let n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"\u4E3A\u4EC0\u4E48\u4E0D\u63A8\u8350\u4F7F\u7528mybatis\u4E8C\u7EA7\u7F13\u5B58",children:"\u4E3A\u4EC0\u4E48\u4E0D\u63A8\u8350\u4F7F\u7528MyBatis\u4E8C\u7EA7\u7F13\u5B58"})}),"\n","\n",(0,r.jsx)(c.A,{behavior:"\u53C2\u8003",description:"\u3010Java\u5B66\u4E60\u8005\u793E\u533A\u3011\u7F8E\u56E2\u4E8C\u9762\uFF1A\u4E3A\u4EC0\u4E48\u4E0D\u63A8\u8350\u4F7F\u7528 MyBatis \u4E8C\u7EA7\u7F13\u5B58\uFF1F\u5927\u90E8\u5206\u4EBA\u90FD\u7B54\u4E0D\u4E0A\u6765\uFF01",url:"https://mp.weixin.qq.com/s/zsyyGByQPTLWNNfJ41EE0g"}),"\n",(0,r.jsx)(n.p,{children:"\u6765\u6E90\uFF1Ablog.csdn.net/xujingyiss/article/details/123481116"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u4E00\u7EA7\u7F13\u5B58"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u5E94\u7528\u573A\u666F"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u751F\u6548\u7684\u6761\u4EF6"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u4E0Espringboot\u96C6\u6210\u65F6\u4E00\u7EA7\u7F13\u5B58\u4E0D\u751F\u6548\u539F\u56E0"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u89E3\u51B3\u4E0Espringboot\u96C6\u6210\u65F6\u4E00\u7EA7\u7F13\u5B58\u4E0D\u751F\u6548\u95EE\u9898"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u4E8C\u7EA7\u7F13\u5B58"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u5E94\u7528\u573A\u666F"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u5F00\u542F\u7684\u65B9\u6CD5"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u751F\u6548\u7684\u6761\u4EF6"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u7F13\u5B58\u6E05\u9664\u6761\u4EF6"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u6E90\u7801\u4E2D\u662F\u5982\u4F55\u586B\u5145\u4E8C\u7EA7\u7F13\u5B58\u7684\uFF1F"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u67E5\u8BE2\u65F6\u5982\u4F55\u4F7F\u7528\u4E8C\u7EA7\u7F13\u5B58\uFF1F"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u4E3A\u4EC0\u4E48mybatis\u9ED8\u8BA4\u4E0D\u5F00\u542F\u4E8C\u7EA7\u7F13\u5B58\uFF1F"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.p,{children:"\u4E3A\u4E86\u589E\u52A0\u67E5\u8BE2\u7684\u6027\u80FD\uFF0Cmybatis \u63D0\u4F9B\u4E86\u4E8C\u7EA7\u7F13\u5B58\u67B6\u6784\uFF0C\u5206\u4E3A\u4E00\u7EA7\u7F13\u5B58\u548C\u4E8C\u7EA7\u7F13\u5B58\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u8FD9\u4E24\u7EA7\u7F13\u5B58\u6700\u5927\u7684\u533A\u522B\u5C31\u662F\uFF1A\u4E00\u7EA7\u7F13\u5B58\u662F\u4F1A\u8BDD\u7EA7\u522B\u7684\uFF0C\u53EA\u8981\u51FA\u4E86\u8FD9\u4E2A SqlSession\uFF0C\u7F13\u5B58\u5C31\u6CA1\u7528\u4E86\u3002\u800C\u4E8C\u7EA7\u7F13\u5B58\u53EF\u4EE5\u8DE8\u4F1A\u8BDD\uFF0C\u591A\u4E2A\u4F1A\u8BDD\u53EF\u4EE5\u4F7F\u7528\u76F8\u540C\u7684\u7F13\u5B58\uFF01"}),"\n",(0,r.jsx)(n.p,{children:"\u4E00\u7EA7\u7F13\u5B58\u4F7F\u7528\u7B80\u5355\uFF0C\u9ED8\u8BA4\u5C31\u5F00\u542F\u3002\u4E8C\u7EA7\u7F13\u5B58\u9700\u8981\u624B\u52A8\u5F00\u542F\uFF0C\u76F8\u5BF9\u590D\u6742\uFF0C\u800C\u4E14\u8981\u6CE8\u610F\u7684\u4E8B\u9879\u4E5F\u591A\uFF0C\u5426\u5219\u53EF\u80FD\u6709\u9690\u60A3\u3002"}),"\n",(0,r.jsx)(n.h2,{id:"\u4E00\u7EA7\u7F13\u5B58",children:(0,r.jsx)(n.strong,{children:"\u4E00\u7EA7\u7F13\u5B58"})}),"\n",(0,r.jsx)(n.h3,{id:"\u5E94\u7528\u573A\u666F",children:(0,r.jsx)(n.strong,{children:"\u5E94\u7528\u573A\u666F"})}),"\n",(0,r.jsxs)(n.p,{children:["\u8BA2\u5355\u8868\u4E0E\u4F1A\u5458\u8868\u662F\u5B58\u5728\u4E00\u5BF9\u591A\u7684\u5173\u7CFB\uFF0C\u4E3A\u4E86\u5C3D\u53EF\u80FD\u51CF\u5C11join\u67E5\u8BE2\uFF0C\u8FDB\u884C\u4E86\u5206\u9636\u6BB5\u67E5\u8BE2\u3002\u5373\u5148\u67E5\u8BE2\u51FA\u8BA2\u5355\u8868\uFF0C\u518D\u6839\u636E",(0,r.jsx)(n.code,{children:"member_id"}),"\u5B57\u6BB5\u67E5\u8BE2\u51FA\u4F1A\u5458\u8868\uFF0C\u6700\u540E\u8FDB\u884C\u6570\u636E\u6574\u5408\u3002\u800C\u5982\u679C\u8BA2\u5355\u8868\u4E2D\u5B58\u5728\u91CD\u590D\u7684",(0,r.jsx)(n.code,{children:"member_id"}),"\uFF0C\u5C31\u4F1A\u51FA\u73B0\u5F88\u591A\u91CD\u590D\u67E5\u8BE2\u3002"]}),"\n",(0,r.jsx)(n.p,{children:"\u9488\u5BF9\u8FD9\u79CD\u60C5\u51B5\uFF0Cmybatis\u901A\u8FC7\u4E00\u7EA7\u7F13\u5B58\u6765\u89E3\u51B3\uFF1A\u5728\u540C\u4E00\u6B21\u67E5\u8BE2\u4F1A\u8BDD(SqlSession)\u4E2D\u5982\u679C\u51FA\u73B0\u76F8\u540C\u7684\u8BED\u53E5\u53CA\u53C2\u6570\uFF0C\u5C31\u4F1A\u4ECE\u7F13\u5B58\u4E2D\u53D6\u51FA\uFF0C\u4E0D\u518D\u8D70\u6570\u636E\u5E93\u67E5\u8BE2\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u4E00\u7EA7\u7F13\u5B58\u53EA\u80FD\u4F5C\u7528\u4E8E\u67E5\u8BE2\u4F1A\u8BDD\u4E2D\uFF0C\u6240\u4EE5\u4E5F\u53EB\u505A\u4F1A\u8BDD\u7F13\u5B58\u3002"}),"\n",(0,r.jsx)(n.h3,{id:"\u751F\u6548\u7684\u6761\u4EF6",children:(0,r.jsx)(n.strong,{children:"\u751F\u6548\u7684\u6761\u4EF6"})}),"\n",(0,r.jsx)(n.p,{children:"\u4E00\u7EA7\u7F13\u5B58\u8981\u751F\u6548\uFF0C\u5FC5\u987B\u6EE1\u8DB3\u4EE5\u4E0B\u6761\u4EF6\u6761\u4EF6\uFF1A"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u5FC5\u987B\u662F\u76F8\u540C\u7684\u4F1A\u8BDD"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u5FC5\u987B\u662F\u540C\u4E00\u4E2A mapper\uFF0C\u5373\u540C\u4E00\u4E2A namespace"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u5FC5\u987B\u662F\u76F8\u540C\u7684 statement\uFF0C\u5373\u540C\u4E00\u4E2A mapper \u4E2D\u7684\u540C\u4E00\u4E2A\u65B9\u6CD5"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u5FC5\u987B\u662F\u76F8\u540C\u7684 sql \u548C\u53C2\u6570"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["\u67E5\u8BE2\u8BED\u53E5\u4E2D\u95F4\u6CA1\u6709\u6267\u884C ",(0,r.jsx)(n.code,{children:"session.clearCache()"})," \u65B9\u6CD5"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u67E5\u8BE2\u8BED\u53E5\u4E2D\u95F4\u6CA1\u6709\u6267\u884C insert/update/delete \u65B9\u6CD5\uFF08\u65E0\u8BBA\u53D8\u52A8\u8BB0\u5F55\u662F\u5426\u4E0E\u7F13\u5B58\u6570\u636E\u6709\u65E0\u5173\u7CFB\uFF09"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"\u4E0Espringboot\u96C6\u6210\u65F6\u4E00\u7EA7\u7F13\u5B58\u4E0D\u751F\u6548\u539F\u56E0",children:(0,r.jsx)(n.strong,{children:"\u4E0Espringboot\u96C6\u6210\u65F6\u4E00\u7EA7\u7F13\u5B58\u4E0D\u751F\u6548\u539F\u56E0"})}),"\n","\n",(0,r.jsx)("img",{src:d,alt:"Mybatis-Cache-1",width:"80%"}),"\n",(0,r.jsx)(n.p,{children:"\u56E0\u4E3A\u4E00\u7EA7\u7F13\u5B58\u662F\u4F1A\u8BDD\u7EA7\u522B\u7684\uFF0C\u8981\u751F\u6548\u7684\u8BDD\uFF0C\u5FC5\u987B\u8981\u5728\u540C\u4E00\u4E2A SqlSession \u4E2D\u3002\u4F46\u662F\u4E0E springboot \u96C6\u6210\u7684 mybatis\uFF0C\u9ED8\u8BA4\u6BCF\u6B21\u6267\u884Csql\u8BED\u53E5\u65F6\uFF0C\u90FD\u4F1A\u521B\u5EFA\u4E00\u4E2A\u65B0\u7684 SqlSession\uFF01\u6240\u4EE5\u4E00\u7EA7\u7F13\u5B58\u624D\u6CA1\u6709\u751F\u6548\u3002"}),"\n",(0,r.jsxs)(n.p,{children:["\u5F53\u8C03\u7528 mapper \u7684\u65B9\u6CD5\u65F6\uFF0C\u6700\u7EC8\u4F1A\u6267\u884C\u5230 ",(0,r.jsx)(n.code,{children:"SqlSessionUtils"})," \u7684 ",(0,r.jsx)(n.code,{children:"getSqlSession"})," \u65B9\u6CD5\uFF0C\u5728\u8FD9\u4E2A\u65B9\u6CD5\u4E2D\u4F1A\u5C1D\u8BD5\u5728\u4E8B\u52A1\u7BA1\u7406\u5668\u4E2D\u83B7\u53D6 SqlSession\uFF0C\u5982\u679C\u6CA1\u6709\u5F00\u542F\u4E8B\u52A1\uFF0C\u90A3\u4E48\u5C31\u4F1A new \u4E00\u4E2A ",(0,r.jsx)(n.code,{children:"DefaultSqlSession"}),"\u3002"]}),"\n","\n",(0,r.jsx)("img",{src:a,alt:"Mybatis-Cache-2",width:"80%"}),"\n",(0,r.jsx)(n.p,{children:"\u6240\u4EE5\u8BF4\uFF0C\u5373\u4FBF\u5728\u540C\u4E00\u4E2A\u65B9\u6CD5\u4E2D\uFF0C\u901A\u8FC7\u540C\u4E00\u4E2A mapper \u8FDE\u7EED\u8C03\u7528\u4E24\u6B21\u76F8\u540C\u7684\u67E5\u8BE2\u65B9\u6CD5\uFF0C\u4E5F\u4E0D\u4F1A\u89E6\u53D1\u4E00\u7EA7\u7F13\u5B58\u3002"}),"\n",(0,r.jsx)(n.h3,{id:"\u89E3\u51B3\u4E0Espringboot\u96C6\u6210\u65F6\u4E00\u7EA7\u7F13\u5B58\u4E0D\u751F\u6548\u95EE\u9898",children:(0,r.jsx)(n.strong,{children:"\u89E3\u51B3\u4E0Espringboot\u96C6\u6210\u65F6\u4E00\u7EA7\u7F13\u5B58\u4E0D\u751F\u6548\u95EE\u9898"})}),"\n",(0,r.jsxs)(n.p,{children:["\u5728\u4E0A\u9762\u7684\u4EE3\u7801\u4E2D\u4E5F\u770B\u5230\u4E86\uFF0Cmybatis \u5728\u67E5\u8BE2\u65F6\uFF0C\u4F1A\u5148\u4ECE\u4E8B\u52A1\u7BA1\u7406\u5668\u4E2D\u5C1D\u8BD5\u83B7\u53D6 ",(0,r.jsx)(n.code,{children:"SqlSession"}),"\uFF0C\u53D6\u4E0D\u5230\u624D\u4F1A\u53BB\u521B\u5EFA\u65B0\u7684 ",(0,r.jsx)(n.code,{children:"SqlSession"}),"\u3002\u6240\u4EE5\u53EF\u4EE5\u731C\u6D4B\u53EA\u8981\u5C06\u65B9\u6CD5\u5F00\u542F\u4E8B\u52A1\uFF0C\u90A3\u4E48\u4E00\u7EA7\u7F13\u5B58\u5C31\u4F1A\u751F\u6548\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["\u52A0\u4E0A ",(0,r.jsx)(n.code,{children:"@Transactional"})," \u6CE8\u89E3\uFF0C\u770B\u4E0B\u6548\u679C\uFF1A"]}),"\n","\n",(0,r.jsx)("img",{src:t,alt:"Mybatis-Cache-3",width:"80%"}),"\n",(0,r.jsx)(n.p,{children:"\u6CA1\u9519\uFF0C\u7684\u786E\u751F\u6548\u4E86\u3002\u5728\u4EE3\u7801\u4E2D\u53EF\u4EE5\u770B\u5230\uFF0C\u4ECE\u4E8B\u52A1\u7BA1\u7406\u5668\u4E2D\uFF0C\u83B7\u53D6\u5230\u4E86 SqlSession\uFF1A"}),"\n","\n",(0,r.jsx)("img",{src:h,alt:"Mybatis-Cache-4",width:"80%"}),"\n",(0,r.jsx)(n.p,{children:"\u518D\u770B\u770B\u6E90\u7801\u4E2D\u662F\u4EC0\u4E48\u65F6\u5019\u5C06 SqlSession \u8BBE\u7F6E\u5230\u4E8B\u52A1\u7BA1\u7406\u5668\u4E2D\u7684\u3002"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"SqlSessionUtils"})," \u4E2D\uFF0C\u5728\u83B7\u53D6\u5230 ",(0,r.jsx)(n.code,{children:"SqlSession"})," \u540E\uFF0C\u4F1A\u8C03\u7528 ",(0,r.jsx)(n.code,{children:"registerSessionHolder"})," \u65B9\u6CD5\u6CE8\u518C ",(0,r.jsx)(n.code,{children:"SessionHolder"})," \u5230\u4E8B\u52A1\u7BA1\u7406\u5668\uFF1A"]}),"\n","\n",(0,r.jsx)("img",{src:x,alt:"Mybatis-Cache-5",width:"80%"}),"\n",(0,r.jsxs)(n.p,{children:["\u5177\u4F53\u662F\u5728 ",(0,r.jsx)(n.code,{children:"TransactionSynchronizationManager"})," \u7684 ",(0,r.jsx)(n.code,{children:"bindResource"})," \u65B9\u6CD5\u4E2D\u64CD\u4F5C\u7684\uFF0C\u5C06 ",(0,r.jsx)(n.code,{children:"SessionHolder"})," \u4FDD\u5B58\u5230\u7EBF\u7A0B\u672C\u5730\u53D8\u91CF",(0,r.jsx)(n.code,{children:"(ThreadLocal) resources"})," \u4E2D\uFF0C\u8FD9\u662F\u6BCF\u4E2A\u7EBF\u7A0B\u72EC\u4EAB\u7684\u3002"]}),"\n","\n",(0,r.jsx)("img",{src:o,alt:"Mybatis-Cache-6",width:"80%"}),"\n",(0,r.jsx)(n.p,{children:"\u7136\u540E\u5728\u4E0B\u6B21\u67E5\u8BE2\u65F6\uFF0C\u5C31\u53EF\u4EE5\u4ECE\u8FD9\u91CC\u53D6\u51FA\u6B64 SqlSession\uFF0C\u4F7F\u7528\u540C\u4E00\u4E2A SqlSession \u67E5\u8BE2\uFF0C\u4E00\u7EA7\u7F13\u5B58\u5C31\u751F\u6548\u4E86\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u6240\u4EE5\u57FA\u672C\u539F\u7406\u5C31\u662F\uFF1A\u5982\u679C\u5F53\u524D\u7EBF\u7A0B\u5B58\u5728\u4E8B\u7269\uFF0C\u5E76\u4E14\u5B58\u5728\u76F8\u5173\u4F1A\u8BDD\uFF0C\u5C31\u4ECE ThreadLocal \u4E2D\u53D6\u51FA\u3002\u5982\u679C\u6CA1\u6709\u4E8B\u52A1\uFF0C\u5C31\u91CD\u65B0\u521B\u5EFA\u4E00\u4E2A SqlSession \u5E76\u5B58\u50A8\u5230 ThreadLocal \u5F53\u4E2D\uFF0C\u5171\u4E0B\u6B21\u67E5\u8BE2\u4F7F\u7528\u3002"}),"\n",(0,r.jsxs)(n.p,{children:["\u81F3\u4E8E\u7F13\u5B58\u67E5\u8BE2\u6570\u636E\u7684\u5730\u65B9\uFF0C\u662F\u5728 ",(0,r.jsx)(n.code,{children:"BaseExecutor"})," \u4E2D\u7684 ",(0,r.jsx)(n.code,{children:"queryFromDatabase"})," \u65B9\u6CD5\u4E2D\u3002\u6267\u884C doQuery \u4ECE\u6570\u636E\u5E93\u4E2D\u67E5\u8BE2\u6570\u636E\u540E\uFF0C\u4F1A\u7ACB\u9A6C\u7F13\u5B58\u5230 ",(0,r.jsx)(n.code,{children:"localCache(PerpetualCache\u7C7B\u578B)"})," \u4E2D\uFF1A"]}),"\n","\n",(0,r.jsx)("img",{src:p,alt:"Mybatis-Cache-7",width:"80%"}),"\n",(0,r.jsx)(n.h2,{id:"\u4E8C\u7EA7\u7F13\u5B58",children:(0,r.jsx)(n.strong,{children:"\u4E8C\u7EA7\u7F13\u5B58"})}),"\n",(0,r.jsx)(n.h3,{id:"\u5E94\u7528\u573A\u666F-1",children:(0,r.jsx)(n.strong,{children:"\u5E94\u7528\u573A\u666F"})}),"\n",(0,r.jsx)(n.p,{children:"\u4E1A\u52A1\u7CFB\u7EDF\u4E2D\u5B58\u5728\u5F88\u591A\u7684\u9759\u6001\u6570\u636E\u5982\uFF0C\u5B57\u5178\u8868\u3001\u83DC\u5355\u8868\u3001\u6743\u9650\u8868\u7B49\uFF0C\u8FD9\u4E9B\u6570\u636E\u7684\u7279\u6027\u662F\u4E0D\u4F1A\u8F7B\u6613\u4FEE\u6539\u4F46\u53C8\u662F\u67E5\u8BE2\u7684\u70ED\u70B9\u6570\u636E\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u4E00\u7EA7\u7F13\u5B58\u9488\u5BF9\u7684\u662F\u540C\u4E00\u4E2A\u4F1A\u8BDD\u5F53\u4E2D\u76F8\u540CSQL\uFF0C\u5E76\u4E0D\u9002\u5408\u8FD9\u60C5\u70ED\u70B9\u6570\u636E\u7684\u7F13\u5B58\u573A\u666F\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u4E3A\u4E86\u89E3\u51B3\u8FD9\u4E2A\u95EE\u9898\u5F15\u5165\u4E86\u4E8C\u7EA7\u7F13\u5B58\uFF0C\u5B83\u8131\u79BB\u4E8E\u4F1A\u8BDD\u4E4B\u5916\uFF0C\u591A\u4E2A\u4F1A\u8BDD\u53EF\u4EE5\u4F7F\u7528\u76F8\u540C\u7684\u7F13\u5B58\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u770B\u4E00\u4E2A\u4F8B\u5B50\uFF1A"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'@RestController\n@RequestMapping("item")\npublic class ItemController {\n\n  @Autowired\n  private ItemMapper itemMapper;\n\n  @GetMapping("/{id}")\n  public void getById(@PathVariable("id") Long id) {\n    System.out.println("==================== begin ====================");\n'})}),"\n",(0,r.jsx)(n.p,{children:"\u5F53\u53D1\u9001\u4E24\u6B21 get \u8BF7\u6C42\u65F6\uFF08\u4E24\u4E2A\u4E0D\u540C\u7684\u4F1A\u8BDD\uFF09\uFF0C\u901A\u8FC7\u65E5\u5FD7\u53EF\u4EE5\u53D1\u73B0\u7B2C\u4E8C\u6B21\u67E5\u8BE2\u4F7F\u7528\u7684\u662F\u7F13\u5B58"}),"\n","\n",(0,r.jsx)("img",{src:j,alt:"Mybatis-Cache-8",width:"80%"}),"\n",(0,r.jsx)(n.h3,{id:"\u5F00\u542F\u7684\u65B9\u6CD5",children:(0,r.jsx)(n.strong,{children:"\u5F00\u542F\u7684\u65B9\u6CD5"})}),"\n",(0,r.jsx)(n.p,{children:"\u4E8C\u7EA7\u7F13\u5B58\u9700\u8981\u624B\u52A8\u6765\u5F00\u542F\uFF0Cmybatis \u9ED8\u8BA4\u6CA1\u6709\u5F00\u542F\u4E8C\u7EA7\u7F13\u5B58\u3002"}),"\n",(0,r.jsxs)(n.p,{children:["1\uFF09\u5728 yaml \u4E2D\u914D\u7F6E ",(0,r.jsx)(n.code,{children:"cache-enabled"})," \u4E3A true"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"mybatis-plus:\n  configuration:\n    cache-enabled: true\n"})}),"\n",(0,r.jsxs)(n.p,{children:["2\uFF09Mapper \u63A5\u53E3\u4E0A\u6DFB\u52A0 ",(0,r.jsx)(n.code,{children:"@CacheNamespace"})," \u6CE8\u89E3"]}),"\n","\n",(0,r.jsx)("img",{src:"data:image/webp;base64,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",alt:"Mybatis-Cache-9",width:"80%"}),"\n",(0,r.jsxs)(n.p,{children:["3\uFF09\u5B9E\u4F53\u7C7B\u5B9E\u73B0 ",(0,r.jsx)(n.code,{children:"Serializable"})," \u63A5\u53E3"]}),"\n","\n",(0,r.jsx)("img",{src:"data:image/webp;base64,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",alt:"Mybatis-Cache-10",width:"80%"}),"\n",(0,r.jsx)(n.h3,{id:"\u751F\u6548\u7684\u6761\u4EF6-1",children:(0,r.jsx)(n.strong,{children:"\u751F\u6548\u7684\u6761\u4EF6"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u5F53\u4F1A\u8BDD\u63D0\u4EA4\u6216\u5173\u95ED\u4E4B\u540E\u624D\u4F1A\u586B\u5145\u4E8C\u7EA7\u7F13\u5B58"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u5FC5\u987B\u662F\u540C\u4E00\u4E2A mapper\uFF0C\u5373\u540C\u4E00\u4E2A\u547D\u540D\u7A7A\u95F4"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u5FC5\u987B\u662F\u76F8\u540C\u7684 statement\uFF0C\u5373\u540C\u4E00\u4E2A mapper \u4E2D\u7684\u540C\u4E00\u4E2A\u65B9\u6CD5"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u5FC5\u987B\u662F\u76F8\u540C\u7684 SQL \u8BED\u53E5\u548C\u53C2\u6570"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["\u5982\u679C ",(0,r.jsx)(n.code,{children:"readWrite=true"}),"(\u9ED8\u8BA4\u5C31\u662Ftrue)\uFF0C\u5B9E\u4F53\u5BF9\u50CF\u5FC5\u987B\u5B9E\u73B0 ",(0,r.jsx)(n.code,{children:"Serializable"})," \u63A5\u53E3"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"\u7F13\u5B58\u6E05\u9664\u6761\u4EF6",children:(0,r.jsx)(n.strong,{children:"\u7F13\u5B58\u6E05\u9664\u6761\u4EF6"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u53EA\u6709\u4FEE\u6539\u4F1A\u8BDD\u63D0\u4EA4\u4E4B\u540E\uFF0C\u624D\u4F1A\u6267\u884C\u6E05\u7A7A\u64CD\u4F5C"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["xml \u4E2D\u914D\u7F6E\u7684 update \u4E0D\u80FD\u6E05\u7A7A ",(0,r.jsx)(n.code,{children:"@CacheNamespace"})," \u4E2D\u7684\u7F13\u5B58\u6570\u636E"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["\u4EFB\u4F55\u4E00\u79CD\u589E\u5220\u6539\u64CD\u4F5C\u90FD\u4F1A\u6E05\u7A7A\u6574\u4E2A ",(0,r.jsx)(n.code,{children:"namespace"})," \u4E2D\u7684\u7F13\u5B58"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"\u6E90\u7801\u4E2D\u662F\u5982\u4F55\u586B\u5145\u4E8C\u7EA7\u7F13\u5B58\u7684",children:(0,r.jsx)(n.strong,{children:"\u6E90\u7801\u4E2D\u662F\u5982\u4F55\u586B\u5145\u4E8C\u7EA7\u7F13\u5B58\u7684\uFF1F"})}),"\n",(0,r.jsx)(n.p,{children:"\u5728\u751F\u6548\u6761\u4EF6\u4E2D\u63D0\u5230\u4E86\uFF0C\u4E8C\u7EA7\u7F13\u5B58\u5FC5\u987B\u8981\u5728\u4F1A\u8BDD\u63D0\u4EA4\u6216\u5173\u95ED\u4E4B\u540E\uFF0C\u624D\u80FD\u751F\u6548\uFF01"}),"\n",(0,r.jsx)(n.p,{children:"\u5728\u67E5\u8BE2\u5230\u7ED3\u679C\u540E\uFF0C\u4F1A\u8C03\u7528 SqlSession \u7684 commit \u65B9\u6CD5\u8FDB\u884C\u63D0\u4EA4\uFF08\u5982\u679C\u5F00\u542F\u4E8B\u52A1\u7684\u8BDD\uFF0C\u63D0\u4EA4 SqlSession \u8D70\u7684\u4E0D\u662F\u8FD9\u91CC\u4E86\uFF0C\u4F46\u6700\u7EC8\u586B\u5145\u4E8C\u7EA7\u7F13\u5B58\u7684\u5730\u65B9\u662F\u4E00\u6837\u7684\u3002\uFF09\uFF1A"}),"\n","\n",(0,r.jsx)("img",{src:m,alt:"Mybatis-Cache-11",width:"80%"}),"\n",(0,r.jsxs)(n.p,{children:["\u5728\u6B64\u65B9\u6CD5\u4E2D\uFF0C\u6700\u7EC8\u4F1A\u8C03\u7528\u5230 ",(0,r.jsx)(n.code,{children:"TransactionalCache"})," \u7684 ",(0,r.jsx)(n.code,{children:"flushPendingEntries"})," \u65B9\u6CD5\u4E2D\u586B\u5145\u4E8C\u7EA7\u7F13\u5B58\uFF1A"]}),"\n","\n",(0,r.jsx)("img",{src:g,alt:"Mybatis-Cache-12",width:"80%"}),"\n",(0,r.jsx)(n.p,{children:"springboot \u96C6\u6210 mybatis \u7684\u8BDD\uFF0C\u5982\u679C\u6CA1\u6709\u5F00\u542F\u4E8B\u52A1\uFF0C\u6BCF\u6B21\u6267\u884C\u67E5\u8BE2\uFF0C\u90FD\u4F1A\u521B\u5EFA\u65B0\u7684 SqlSession\uFF0C\u6240\u4EE5\u5373\u4F7F\u662F\u5728\u540C\u4E00\u4E2A\u65B9\u6CD5\u4E2D\u8FDB\u884C\u67E5\u8BE2\u64CD\u4F5C\uFF0C\u90A3\u4E5F\u662F\u8DE8\u4F1A\u8BDD\u7684\u3002"}),"\n",(0,r.jsx)(n.h3,{id:"\u67E5\u8BE2\u65F6\u5982\u4F55\u4F7F\u7528\u4E8C\u7EA7\u7F13\u5B58",children:(0,r.jsx)(n.strong,{children:"\u67E5\u8BE2\u65F6\u5982\u4F55\u4F7F\u7528\u4E8C\u7EA7\u7F13\u5B58\uFF1F"})}),"\n",(0,r.jsxs)(n.p,{children:["\u5728\u67E5\u8BE2\u7684\u65F6\u5019\uFF0C\u6700\u7EC8\u4F1A\u8C03\u7528 ",(0,r.jsx)(n.code,{children:"MybatisCachingExecutor"})," \u7684 query \u65B9\u6CD5\uFF0C\u91CC\u9762\u4F1A\u4ECE ",(0,r.jsx)(n.code,{children:"TransactionalCacheManager"})," \u4E2D\u5C1D\u8BD5\u6839\u636E key \u83B7\u53D6\u4E8C\u7EA7\u7F13\u5B58\u7684\u5185\u5BB9\u3002"]}),"\n",(0,r.jsx)(n.p,{children:"\u53EF\u4EE5\u770B\u5230\uFF0C\u8FD9\u4E2A key \u5F88\u957F\uFF0C\u7531 mapper\u3001\u8C03\u7528\u7684\u67E5\u8BE2\u65B9\u6CD5\u3001SQL \u7B49\u4FE1\u606F\u62FC\u63A5\u800C\u6210\uFF0C\u8FD9\u4E5F\u662F\u4E3A\u4EC0\u4E48\u60F3\u8981\u4E8C\u7EA7\u7F13\u5B58\u751F\u6548\uFF0C\u5FC5\u987B\u6EE1\u8DB3\u524D\u9762\u6240\u8BF4\u7684\u6761\u4EF6\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u5982\u679C\u80FD\u5728\u4E8C\u7EA7\u7F13\u5B58\u4E2D\u67E5\u8BE2\u5230\uFF0C\u5C31\u76F4\u63A5\u8FD4\u56DE\u4E86\uFF0C\u4E0D\u9700\u8981\u8BBF\u95EE\u6570\u636E\u5E93\u3002"}),"\n","\n",(0,r.jsx)("img",{src:b,alt:"Mybatis-Cache-13",width:"80%"}),"\n",(0,r.jsxs)(n.p,{children:["\u5177\u4F53\u7684\u8C03\u7528\u5C42\u6570\u5B9E\u5728\u592A\u591A\uFF0C\u7528\u5230\u4E86\u88C5\u9970\u8005\u6A21\u5F0F\uFF0C\u6700\u7EC8\u662F\u5728 ",(0,r.jsx)(n.code,{children:"PerpetualCache"})," \u4E2D\u83B7\u53D6\u7F13\u5B58\u7684\uFF1A"]}),"\n","\n",(0,r.jsx)("img",{src:y,alt:"Mybatis-Cache-14",width:"80%"}),"\n",(0,r.jsxs)(n.p,{children:["\u6253\u5370\u65E5\u5FD7\u662F\u5728 ",(0,r.jsx)(n.code,{children:"LoggingCache"})," \u4E2D\uFF1A"]}),"\n","\n",(0,r.jsx)("img",{src:u,alt:"Mybatis-Cache-15",width:"80%"}),"\n",(0,r.jsx)(n.h3,{id:"\u4E3A\u4EC0\u4E48mybatis\u9ED8\u8BA4\u4E0D\u5F00\u542F\u4E8C\u7EA7\u7F13\u5B58",children:(0,r.jsx)(n.strong,{children:"\u4E3A\u4EC0\u4E48mybatis\u9ED8\u8BA4\u4E0D\u5F00\u542F\u4E8C\u7EA7\u7F13\u5B58\uFF1F"})}),"\n",(0,r.jsx)(n.p,{children:"\u7B54\u6848\u5C31\u662F\uFF0C\u4E0D\u63A8\u8350\u4F7F\u7528\u4E8C\u7EA7\u7F13\u5B58\uFF01"}),"\n",(0,r.jsx)(n.p,{children:"\u4E8C\u7EA7\u7F13\u5B58\u867D\u7136\u80FD\u5E26\u6765\u4E00\u5B9A\u7684\u597D\u5904\uFF0C\u4F46\u662F\u6709\u5F88\u5927\u7684\u9690\u85CF\u5371\u5BB3\uFF01"}),"\n",(0,r.jsxs)(n.p,{children:["\u5B83\u7684\u7F13\u5B58\u662F\u4EE5 ",(0,r.jsx)(n.code,{children:"namespace(mapper)"})," \u4E3A\u5355\u4F4D\u7684\uFF0C\u4E0D\u540C namespace \u4E0B\u7684\u64CD\u4F5C\u4E92\u4E0D\u5F71\u54CD\u3002\u4E14 insert/update/delete \u64CD\u4F5C\u4F1A\u6E05\u7A7A\u6240\u5728 ",(0,r.jsx)(n.code,{children:"namespace"})," \u4E0B\u7684\u5168\u90E8\u7F13\u5B58\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["\u90A3\u4E48\u95EE\u9898\u5C31\u51FA\u6765\u4E86\uFF0C\u5047\u8BBE\u73B0\u5728\u6709 ",(0,r.jsx)(n.code,{children:"ItemMapper"})," \u4EE5\u53CA ",(0,r.jsx)(n.code,{children:"XxxMapper"}),"\uFF0C\u5728 ",(0,r.jsx)(n.code,{children:"XxxMapper"})," \u4E2D\u505A\u4E86\u8868\u5173\u8054\u67E5\u8BE2\uFF0C\u4E14\u505A\u4E86\u4E8C\u7EA7\u7F13\u5B58\u3002\u6B64\u65F6\u5728 ",(0,r.jsx)(n.code,{children:"ItemMapper"})," \u4E2D\u5C06 item \u4FE1\u606F\u7ED9\u5220\u4E86\uFF0C\u7531\u4E8E\u4E0D\u540C namespace \u4E0B\u7684\u64CD\u4F5C\u4E92\u4E0D\u5F71\u54CD\uFF0C",(0,r.jsx)(n.code,{children:"XxxMapper"})," \u7684\u4E8C\u7EA7\u7F13\u5B58\u4E0D\u4F1A\u53D8\uFF0C\u90A3\u4E4B\u540E\u518D\u6B21\u901A\u8FC7 ",(0,r.jsx)(n.code,{children:"XxxMapper"})," \u67E5\u8BE2\u7684\u6570\u636E\u5C31\u4E0D\u5BF9\u4E86\uFF0C\u975E\u5E38\u5371\u9669\u3002"]}),"\n",(0,r.jsx)(n.p,{children:"\u6765\u770B\u4E00\u4E2A\u4F8B\u5B50\uFF1A"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'@Mapper\n@Repository\n@CacheNamespace\npublic interface XxxMapper {\n \n    @Select("select i.id itemId,i.name itemName,p.amount,p.unit_price unitPrice " +\n            "from item i JOIN payment p on i.id = p.item_id where i.id = #{id}")\n    List<PaymentVO> getPaymentVO(Long id);\n \n}\n\n@Autowired\nprivate XxxMapper xxxMapper;\n \n@Test\nvoid test() {\n System.out.println("==================== \u67E5\u8BE2PaymentVO ====================");\n List<PaymentVO> voList = xxxMapper.getPaymentVO(1L);\n System.out.println(JSON.toJSONString(voList.get(0)));\n System.out.println("====================  \u66F4\u65B0item\u8868\u7684name ==================== ");\n Item item = itemMapper.selectById(1);\n item.setName("java\u5E76\u53D1\u7F16\u7A0B");\n itemMapper.updateById(item);\n System.out.println("====================  \u91CD\u65B0\u67E5\u8BE2PaymentVO ==================== ");\n List<PaymentVO> voList2 = xxxMapper.getPaymentVO(1L);\n System.out.println(JSON.toJSONString(voList2.get(0)));\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["\u4E0A\u9762\u7684\u4EE3\u7801\uFF0C",(0,r.jsx)(n.code,{children:"test()"}),"\u65B9\u6CD5\u4E2D\u524D\u540E\u4E24\u6B21\u8C03\u7528\u4E86 ",(0,r.jsx)(n.code,{children:"xxxMapper.getPaymentVO"})," \u65B9\u6CD5\uFF0C\u56E0\u4E3A\u6CA1\u6709\u52A0 ",(0,r.jsx)(n.code,{children:"@Transactional"})," \u6CE8\u89E3\uFF0C\u6240\u4EE5\u524D\u540E\u4E24\u6B21\u67E5\u8BE2\uFF0C\u662F\u4E24\u4E2A\u4E0D\u540C\u7684\u4F1A\u8BDD\uFF0C\u7B2C\u4E00\u6B21\u67E5\u8BE2\u5B8C\u540E\uFF0CSqlSession \u4F1A\u81EA\u52A8 commit\uFF0C\u6240\u4EE5\u4E8C\u7EA7\u7F13\u5B58\u80FD\u591F\u751F\u6548\uFF1B"]}),"\n",(0,r.jsx)(n.p,{children:"\u7136\u540E\u5728\u4E2D\u95F4\u8FDB\u884C\u4E86 Item \u8868\u7684\u66F4\u65B0\u64CD\u4F5C\uFF0C\u4FEE\u6539\u4E86\u4E0B\u540D\u79F0\uFF1B"}),"\n",(0,r.jsxs)(n.p,{children:["\u7531\u4E8E ",(0,r.jsx)(n.code,{children:"itemMapper"})," \u4E0E ",(0,r.jsx)(n.code,{children:"xxxMapper"})," \u4E0D\u662F\u540C\u4E00\u4E2A\u547D\u540D\u7A7A\u95F4\uFF0C\u6240\u4EE5 ",(0,r.jsx)(n.code,{children:"itemMapper"})," \u6267\u884C\u7684\u66F4\u65B0\u64CD\u4F5C\u4E0D\u4F1A\u5F71\u54CD\u5230 ",(0,r.jsx)(n.code,{children:"xxxMapper"})," \u7684\u4E8C\u7EA7\u7F13\u5B58\uFF1B"]}),"\n",(0,r.jsxs)(n.p,{children:["\u518D\u6B21\u8C03\u7528 ",(0,r.jsx)(n.code,{children:"xxxMapper.getPaymentVO"}),"\uFF0C\u53D1\u73B0\u53D6\u51FA\u7684\u503C\u662F\u8D70\u7F13\u5B58\u7684\uFF0C",(0,r.jsx)(n.code,{children:"itemName"})," \u8FD8\u662F\u8001\u7684\u3002\u4F46\u5B9E\u9645\u4E0A ",(0,r.jsx)(n.code,{children:"itemName"})," \u5728\u4E0A\u9762\u5DF2\u7ECF\u88AB\u6539\u4E86\uFF01"]}),"\n",(0,r.jsx)(n.p,{children:"\u6267\u884C\u65E5\u5FD7\u5982\u4E0B\uFF1A"}),"\n","\n",(0,r.jsx)("img",{src:f,alt:"Mybatis-Cache-16",width:"80%"}),"\n",(0,r.jsx)(n.p,{children:"\u6240\u4EE5\u8BF4\uFF0C\u4E8C\u7EA7\u7F13\u5B58\u7684\u9690\u85CF\u5371\u5BB3\u662F\u6BD4\u8F83\u5927\u7684\uFF0C\u5F53\u6709\u8868\u5173\u8054\u65F6\uFF0C\u4E00\u4E2A\u4E0D\u6CE8\u610F\u5C31\u4F1A\u51FA\u95EE\u9898\uFF0C\u4E0D\u5EFA\u8BAE\u4F7F\u7528\u3002"})]})}function q(e={}){let{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(C,{...e})}):C(e)}},9276:(e,n,s)=>{s.d(n,{A:()=>l});var i=s(4848),r=s(6540);function l(e){let{behavior:n,description:s,url:l}=e,c=Array.isArray(s)?s:[s],d=Array.isArray(l)?l:[l];return(0,i.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," mhuahe. ",n,"\uFF1A",c.map((e,n)=>(0,i.jsxs)(r.Fragment,{children:[n>0&&" \u3001",(0,i.jsx)("a",{href:d[n].trim(),target:"_blank",rel:"noopener noreferrer",children:e.trim()})]},n))]})}},8453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>d});var i=s(6540);let r={},l=i.createContext(r);function c(e){let n=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);